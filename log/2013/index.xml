<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/main.xsl"?>
<b:blog xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://blog.othree.net"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://blog.othree.net http://blog.othree.net/blooog.xsd">
	<b:blogTitle>O3noBLOG</b:blogTitle>
	<b:blogDescription></b:blogDescription>
	<b:entries>
		<b:entriesMeta>
			<b:listType>y</b:listType>
			<b:listData listID="2013">2013</b:listData>

			<b:previous>
				<b:mTitle>2012</b:mTitle>
				<b:mDate>2012</b:mDate>
			</b:previous>


		</b:entriesMeta>

		<b:entry entryID="000761" baseName="main">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-08-17</b:date>
				<b:time>00:22:46</b:time>
			</b:datetime>
			<b:category>css-html</b:category>
			<b:title>Main</b:title>
			<b:content>
				<b:summary> 昨天參加 Happy Designer Mini #3，有人介紹了 lungo 這個 framework，說到裡面一些 convention，可以用 &lt;header&gt; 就產生頁首，&lt;footer&gt; 就是頁尾，然後主要內容就是 article，不過對於 article 的使用其實我算蠻有意見的。畢竟 article 的語意還是比較偏文章，對於應用程式來說，主要的區塊應該要用 WAI-ARIA 的 role="main" 才是，不過其實這篇文章想要說的是 HTML 5.1 的 Draft 其實已經提出了 &lt;main&gt; 這個標籤，用途就和 role="main" 一樣。 而除了 &lt;main&gt; 之外，其實還有一個新的 &lt;data&gt; 標籤，這個標籤是用來代替以前在使用 microdata、microformat 之類的格式化資料時，為了寫機器讀取用資料時，在行內加上的 &lt;span&gt; 標籤的，&lt;data&gt;...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9515736753/" title="Happy Designer Mini #3 by othree, on Flickr"><img src="//farm8.staticflickr.com/7356/9515736753_8fc717d9c0_b.jpg" width="1024" height="683" alt="Happy Designer Mini #3" srcset="//farm8.staticflickr.com/7356/9515736753_8fc717d9c0.jpg 768w, //farm8.staticflickr.com/7356/9515736753_8fc717d9c0_b.jpg 768w 2x, //farm8.staticflickr.com/7356/9515736753_683add3095_k.jpg 2x" /></a></p>

<p>昨天參加 Happy Designer Mini #3，有人介紹了 <a href="http://lungo.tapquo.com/">lungo</a> 這個 framework，說到裡面一些 convention，可以用 <code>&lt;header&gt;</code> 就產生頁首，<code>&lt;footer&gt;</code> 就是頁尾，然後主要內容就是 article，不過對於 article 的使用其實我算蠻有意見的。畢竟 article 的語意還是比較偏文章，對於應用程式來說，主要的區塊應該要用 <a href="http://www.w3.org/TR/wai-aria/roles#main">WAI-ARIA</a> 的 <code>role="main"</code> 才是，不過其實這篇文章想要說的是 HTML 5.1 的 Draft 其實已經提出了 <code>&lt;main&gt;</code> 這個<a href="http://www.w3.org/html/wg/drafts/html/master/grouping-content.html#the-main-element">標籤</a>，用途就和 <code>role="main"</code> 一樣。</p>

<p>而除了 <code>&lt;main&gt;</code> 之外，其實還有一個新的 <code>&lt;data&gt;</code> <a href="http://www.w3.org/html/wg/drafts/html/master/text-level-semantics.html#the-data-element">標籤</a>，這個標籤是用來代替以前在使用 microdata、microformat 之類的格式化資料時，為了寫機器讀取用資料時，在行內加上的 <code>&lt;span&gt;</code> 標籤的，<code>&lt;data&gt;</code> 本身歸類在 Phrasing content，可以想成是 <code>display: inline;</code> 的使用方式，雖然第一眼看起很像是區塊等級的就是了。</p>

<p>至於我為什麼會注意到有這些新標籤呢，其實我也沒閒閒沒事去關注 HTML 5.1 Draft 更新啦，是因為 <a href="https://github.com/othree/html5.vim">html5.vim</a> 會有人來報說有新東西要加，意外的好處～</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000760" baseName="vroom">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-08-12</b:date>
				<b:time>22:25:04</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>Vroom</b:title>
			<b:content>
				<b:summary>這次 COSCUP 因為講的是 Vim 的主題，就想說要用 Vim 來做投影片，第一個想到的是 OSDC 常客 Ingy 做的 Vroom，這個套件也是他幾年前在 OSDC 用的，因為當年有聽他的 Talk 所以有印象，還算蠻簡單學的，安裝可以用 cpan 或是 cpanminus，然後看他的文件格式就可以開始寫投影片了，我還做了一個 Vroom syntax，因為看著單色的文件看久了還蠻煩躁的，我想未來也有人會想要用 Vim 來做簡報，所以就花了些時間把它弄的比較完美，以後應該就會有其他人用的上了吧。...</b:summary>
				<b:mainContent><p>這次 COSCUP 因為講的是 Vim 的主題，就想說要用 Vim 來做投影片，第一個想到的是 OSDC 常客 Ingy 做的 <a href="https://github.com/ingydotnet/vroom-pm">Vroom</a>，這個套件也是他幾年前在 OSDC 用的，因為當年有聽他的 Talk 所以有印象，還算蠻簡單學的，安裝可以用 cpan 或是 cpanminus，然後看他的文件格式就可以開始寫投影片了，我還做了一個 <a href="https://github.com/othree/vroom-syntax.vim">Vroom syntax</a>，因為看著單色的文件看久了還蠻煩躁的，我想未來也有人會想要用 Vim 來做簡報，所以就花了些時間把它弄的比較完美，以後應該就會有其他人用的上了吧。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000759" baseName="coscup-2013">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-08-09</b:date>
				<b:time>23:05:16</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>COSCUP 2013</b:title>
			<b:content>
				<b:summary> COSCUP 從 2006 年開始，到今年已經是第 8 屆了，小弟有幸每屆都有參與到，最近幾年還開始幫忙紀錄組攝影，不過今年可以說是最深刻的一屆了，所以特別想寫一篇文章記錄，剛好參加這麼多次都沒寫過。相信大家都知道，為了因應逐年成長的參與人數，今年我們終於離開中研院，到了台北國際會議中心（TICC），也就是脫離學術單位保護傘了，而且對應場地，一口氣開了八軌的議程，距離 OSCON 也只差 10 軌而已（咦）。 從中研院離開，意味著記錄組可能需要自己處理錄影設備，而且因為一口氣成長到八軌，所以一下子從不用準備錄影設備，變成到要生出至少 8 組設備，而且剛好 8 組是有風險的，整個就是非常刺激，還好有 Scott 幫忙，才可以從文化大學和他學長那邊借到這麼多設備，不說主廳的設備，我們借到了 14 台 Full HD 硬碟式錄影機，可以交互使用，錄個幾場就先把檔案抓出來，減少後續處理的麻煩問題，不過為了這些設備，組員人數一口氣成長了五六倍，還有本來是要負責攝影工作的日落都被抓去管理設備，真的是很辛苦，連我本來不預期會有事前工作的，都跑去幫忙搬了幾次設備，還好今年我一個月前就把投影片準備好了，不然最後那兩週應該會爆炸吧。結果撤場時，因為相關經驗不足，又發生一些意外狀況，真的是非常的混亂。 攝影的部分，延續 OSDC，這次有海哥幫忙攝影指導，攝影師人數也比往年還要多一些，以前三軌一兩個人其實勉強跑一跑體力還是可以全部 cover，可是都排了四五位攝影，拍完兩天也還是很累，算線性成長的話，8 軌應該要個 13 位吧，不過其實沒有這麼多人力，就算有人能幫忙，大會也沒辦法給這麼多工作人員名額（即使是義工，成本也是很高的），結果就是幾乎都是一次負責兩個廳，而且排班表時不清楚地理位置，還排出悲劇班表，然後有人就照表操課，一直在二樓兩頭跑，而且場地狀況其實對攝影不太友善，其中最大的問題就是燈關成投影模式時，講者那邊幾乎是全黑的，這個狀況在場勘時完全沒考慮到，館方也沒說，雖然有燈光可以打，不過都是要計價的，加上主廳總共要 10 顆兩天，約會臨時多兩萬塊支出，且不是馬上說要亮就亮的，畢竟不是上帝。結果就是只能用閃燈打光了，其實我是不太喜歡打閃燈的，在中研院幾乎只有國際會議廳我才會用，而且其實我對他很不熟，不過一切就是這麼巧，因為感受到不用閃燈的限制，所以今年年初去日本才買了現在用的這隻閃燈，其實還在摸索中，大概只是到可以邊拍邊調整的程度，加上剛好開始有偶爾玩 RAW 檔，目前還在嚴重需要修的才去找 RAW 來處理的程度，不過光是這樣就可以以前只能看照片就這樣黃黃的狀況幾乎是不再發生了，其實還蠻有成就感的。 講到燈光的部分，其實錄影的影響更大，所以等正式放出影片後，發現講者都黑的請不要打我們 m(_ _)m，再來說說和錄影有點關係的轉播部分吧，轉播其實很麻煩的，尤其是想要做多軌 + HD...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9456889769/" title="COSCUP 2013 飄飄帶 by othree, on Flickr"><img src="//farm6.staticflickr.com/5489/9456889769_678a8bfbc9_b.jpg" width="1024" height="683" alt="COSCUP 2013 飄飄帶" srcset="//farm6.staticflickr.com/5489/9456889769_678a8bfbc9.jpg 768w, //farm6.staticflickr.com/5489/9456889769_678a8bfbc9_b.jpg 768w 2x, //farm6.staticflickr.com/5489/9456889769_8eb957bc8c_k.jpg 2x" /></a></p>

<p>COSCUP 從 2006 年開始，到今年已經是第 8 屆了，小弟有幸每屆都有參與到，最近幾年還開始幫忙紀錄組攝影，不過今年可以說是最深刻的一屆了，所以特別想寫一篇文章記錄，剛好參加這麼多次都沒寫過。相信大家都知道，為了因應逐年成長的參與人數，今年我們終於離開中研院，到了台北國際會議中心（TICC），也就是脫離學術單位保護傘了，而且對應場地，一口氣開了八軌的議程，距離 OSCON 也只差 10 軌而已（咦）。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9427113839/" title="COSCUP 2013 Day 1 by othree, on Flickr"><img src="//farm4.staticflickr.com/3809/9427113839_ec783dc943_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 1" srcset="//farm4.staticflickr.com/3809/9427113839_ec783dc943.jpg 768w, //farm4.staticflickr.com/3809/9427113839_ec783dc943_b.jpg 768w 2x, //farm4.staticflickr.com/3809/9427113839_6608109388_k.jpg 2x" /></a></p>

<p>從中研院離開，意味著記錄組可能需要自己處理錄影設備，而且因為一口氣成長到八軌，所以一下子從不用準備錄影設備，變成到要生出至少 8 組設備，而且剛好 8 組是有風險的，整個就是非常刺激，還好有 Scott 幫忙，才可以從文化大學和他學長那邊借到這麼多設備，不說主廳的設備，我們借到了 14 台 Full HD 硬碟式錄影機，可以交互使用，錄個幾場就先把檔案抓出來，減少後續處理的麻煩問題，不過為了這些設備，組員人數一口氣成長了五六倍，還有本來是要負責攝影工作的日落都被抓去管理設備，真的是很辛苦，連我本來不預期會有事前工作的，都跑去幫忙搬了幾次設備，還好今年我一個月前就把投影片準備好了，不然最後那兩週應該會爆炸吧。結果撤場時，因為相關經驗不足，又發生一些意外狀況，真的是非常的混亂。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9427119043/" title="COSCUP 2013 Day 1 by othree, on Flickr"><img src="//farm4.staticflickr.com/3705/9427119043_f18e9bff05_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 1" srcset="//farm4.staticflickr.com/3705/9427119043_f18e9bff05.jpg 768w, //farm4.staticflickr.com/3705/9427119043_f18e9bff05_b.jpg 768w 2x, //farm4.staticflickr.com/3705/9427119043_6cec97c9f2_k.jpg 2x" /></a></p>

<p>攝影的部分，延續 OSDC，這次有海哥幫忙攝影指導，攝影師人數也比往年還要多一些，以前三軌一兩個人其實勉強跑一跑體力還是可以全部 cover，可是都排了四五位攝影，拍完兩天也還是很累，算線性成長的話，8 軌應該要個 13 位吧，不過其實沒有這麼多人力，就算有人能幫忙，大會也沒辦法給這麼多工作人員名額（即使是義工，成本也是很高的），結果就是幾乎都是一次負責兩個廳，而且排班表時不清楚地理位置，還排出悲劇班表，然後有人就照表操課，一直在二樓兩頭跑，而且場地狀況其實對攝影不太友善，其中最大的問題就是燈關成投影模式時，講者那邊幾乎是全黑的，這個狀況在場勘時完全沒考慮到，館方也沒說，雖然有燈光可以打，不過都是要計價的，加上主廳總共要 10 顆兩天，約會臨時多兩萬塊支出，且不是馬上說要亮就亮的，畢竟不是上帝。結果就是只能用閃燈打光了，其實我是不太喜歡打閃燈的，在中研院幾乎只有國際會議廳我才會用，而且其實我對他很不熟，不過一切就是這麼巧，因為感受到不用閃燈的限制，所以今年年初去日本才買了現在用的這隻閃燈，其實還在摸索中，大概只是到可以邊拍邊調整的程度，加上剛好開始有偶爾玩 RAW 檔，目前還在嚴重需要修的才去找 RAW 來處理的程度，不過光是這樣就可以以前只能看照片就這樣黃黃的狀況幾乎是不再發生了，其實還蠻有成就感的。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9427104107/" title="COSCUP 2013 Day 1 by othree, on Flickr"><img src="//farm6.staticflickr.com/5447/9427104107_908d590306_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 1" srcset="//farm6.staticflickr.com/5447/9427104107_908d590306.jpg 768w, //farm6.staticflickr.com/5447/9427104107_908d590306_b.jpg 768w 2x, //farm6.staticflickr.com/5447/9427104107_d4b8366842_k.jpg 2x" /></a></p>

<p>講到燈光的部分，其實錄影的影響更大，所以等正式放出影片後，發現講者都黑的請不要打我們 m(_ _)m，再來說說和錄影有點關係的轉播部分吧，轉播其實很麻煩的，尤其是想要做多軌 + HD 轉播，所以這兩年都只有主廳的 SD 轉播而已，不過今年有點悲劇是網路發生悲劇，好幾場的轉播就只能用 3G 撐，還好今年還是 SD 訊號，要用 HD 訊號轉播有兩個關鍵問題，一是設備、二是網路服務，以我們目前在 YouTube 上發芽的情勢來看，就是只能用 YouTube Live，只是限制一直以來都很嚴，本來是要商業合作，後來有放寬到美國的非營利組織，前陣子才放寬到訂閱數一千人以上的頻道，這目標我們一直沒達成，所以只能用 Hangout Live，但是它只能抓 Webcam 的畫面，或是可以偽裝成 Webcam 的裝置（UVC/UAC），YouTube Live 則是會有 stream 的輸入點可以給其他轉播軟體用，甚至有些硬體可以直接連網路上傳的，不過就在 COSCUP 前一天，YouTube 說只要訂閱人數超過 100 人就可以申請 YouTube Live 了，可惜我們是在會後才知道這件事，沒機會順便就跑跑看，至少 HD 轉播的一大障礙已經突破了，只要明年還有這些設備可以用，就有希望做了。另一個說多軌轉播有困難的原因，其實就是電腦要很多台，而且要處理 HD 訊號需要的機種以也不能太差，要借到這麼多台其實難度還蠻高的，雖然說場地費都不知道可以買幾台了...</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9435478351/" title="COSCUP 2013 Day 2 by othree, on Flickr"><img src="//farm3.staticflickr.com/2807/9435478351_14dae17fa4_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 2" srcset="//farm3.staticflickr.com/2807/9435478351_14dae17fa4.jpg 768w, //farm3.staticflickr.com/2807/9435478351_14dae17fa4_b.jpg 768w 2x, //farm3.staticflickr.com/2807/9435478351_c1a21daed3_k.jpg 2x" /></a></p>

<p>今年我依然是講者，這次很幸運的我在會議開始前一個月就把東西作完了，不是一個月前開始動工，是完工，其實這樣是有點太早，因為等會議快到時，會發現腦袋裡面的記憶都不見了，需要花不少時間暖機，很幸運的點是因為紀錄組的事前工作增加很多，如果像往年一樣，最後一兩週還在調整的話，時間根本就不夠，不過結果我內容太多，演講超時～，演講內容則是以 Vim 為主，以前幾乎都是 Web 和前端相關的，這次似乎有感覺會後迴響比較大，不知道是不是因為現場沒桌子沒網路沒電源，大家被迫聽台上的講話的關係XD，不過其實還有個問題也跟著消失了，不知道有多少人注意到，就是佔位問題，不知道是因為沒桌子比較不方便，還是覺得 TICC 治安比較不好，今年佔位的情形很少了，其實我想追根究柢，沒人佔位是因為位子的資源不再那麼多，沒了電源、有線網路，那個位子就只是個位子，加上位子還蠻充足的，所以佔位情形幾乎是沒有了，個人覺得這是個好方向。話說今年主廳第一次有講者用的顯示幕了，不知道你們有沒有發現。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9429886848/" title="COSCUP 2013 Day 1 by othree, on Flickr"><img src="//farm4.staticflickr.com/3832/9429886848_34d02f4455_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 1" srcset="//farm4.staticflickr.com/3832/9429886848_34d02f4455.jpg 768w, //farm4.staticflickr.com/3832/9429886848_34d02f4455_b.jpg 768w 2x, //farm4.staticflickr.com/3832/9429886848_97f06f9947_k.jpg 2x" /></a></p>

<p>Pingooo 說過，來參加 COSCUP 應該有 40% 是用在交朋友，雖然參與這些社群研討會一路下來認識了不少朋友，不過其實這兩年有點...反正就是那匹人的狀況，認識人的成長速度趨緩很多，不過今年倒是比較有感覺認識到一些新朋友，像是之前我幫忙 patch COSCUP 官網時聯絡的 Evelyn，只是第一天他跟我打招呼時我還沒想起來，另外還有紀錄組裡面好幾位新面孔：海哥、Anna、文聖 等，其實紀錄組新人多很多，但是沒什麼時間去認識，像是錄影組的幾乎都沒認識到。然後我這幾年幫忙研討會頻繁到連桑格書店的人都跟我打呼了，只是我沒發現原來都是同樣那兩位來顧攤，真羞愧，下次應該交換一下名片，記一下人的，其實他們的書有些有興趣，只是沒什麼時間讓我考慮要不要買。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9442836139/" title="COSCUP 2013 慶功宴 by othree, on Flickr"><img src="//farm4.staticflickr.com/3747/9442836139_9edd686a28_b.jpg" width="1024" height="683" alt="COSCUP 2013 慶功宴" srcset="//farm4.staticflickr.com/3747/9442836139_9edd686a28.jpg 768w, //farm4.staticflickr.com/3747/9442836139_9edd686a28_b.jpg 768w 2x, //farm4.staticflickr.com/3747/9442836139_502586974e_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9442836813/" title="COSCUP 2013 慶功宴 by othree, on Flickr"><img src="//farm3.staticflickr.com/2822/9442836813_32ebe8bc3e_b.jpg" width="1024" height="683" alt="COSCUP 2013 慶功宴" srcset="//farm3.staticflickr.com/2822/9442836813_32ebe8bc3e.jpg 768w, //farm3.staticflickr.com/2822/9442836813_32ebe8bc3e_b.jpg 768w 2x, //farm3.staticflickr.com/2822/9442836813_ad8a639b99_k.jpg 2x" /></a></p>

<p>其實這邊要藉這篇文章的機會感謝 Pingooo，當年第一屆我就是被他找去講 Ajax 和 Web 2.0 的，其實那個時候根本還搞不清楚是什麼場子，因為有在寫 blog 分享所以被找去的，過兩年回頭才發現原來當時是這麼多前輩的場合，不過沒有那次機會，我就不會認識到社群研討會，雖然當時有參與一些社群活動和聚會了，只是和研討會比起來差距還是很大的，而且當年沒被找去上台的話，現在可能也很難變成常常跑上台的狀況。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9429876166/" title="COSCUP 2013 Day 1 by othree, on Flickr"><img src="//farm8.staticflickr.com/7380/9429876166_4e69d04731_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 1" srcset="//farm8.staticflickr.com/7380/9429876166_4e69d04731.jpg 768w, //farm8.staticflickr.com/7380/9429876166_4e69d04731_b.jpg 768w 2x, //farm8.staticflickr.com/7380/9429876166_9668876b93_k.jpg 2x" /></a></p>

<p>話說今年也是拿了三張 badge，工作人員，講者之外，還有一張一般會眾的，所以最後一部份就要來用會眾的身分講點感想，其實我有機會真的聽的只有 lightning talk 而已啦，連本來主要想聽的蝦蝦的分享都只有聽一半而已，今年的 lightning talk 真的是非常刺激，雖然最後是全員沒超時，不過戲劇性十足，除了最後一位之外都是真的有講些東西，最後一位的玩法其實我之前就想過會發生，因為 lightning talk 完全沒有限制，先搶先贏，所以我就想過可能會發生這種事情，第一次出現其實效果還不錯，不過希望未來不要再有人來這樣搞了，因為第二次就不好玩了，而且會有反效果的～～</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9435475821/" title="COSCUP 2013 Day 2 by othree, on Flickr"><img src="//farm3.staticflickr.com/2830/9435475821_91f709fdfb_b.jpg" width="1024" height="683" alt="COSCUP 2013 Day 2" srcset="//farm3.staticflickr.com/2830/9435475821_91f709fdfb.jpg 768w, //farm3.staticflickr.com/2830/9435475821_91f709fdfb_b.jpg 768w 2x, //farm3.staticflickr.com/2830/9435475821_b16ee82f9a_k.jpg 2x" /></a></p>

<p>最後，TICC 這個場地其實還不錯，就是很貴，有些技術落後，我們第一次用這個場地也有很多問題事前沒注意到，讓人很想在挑戰一次，不過我也從理性上知道，短時間要再回來這邊非常有難度，不過還是期待在次挑戰這種商業研討會等級的場地啊。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9441279600/" title="COSCUP 2013 Day 2 by othree, on Flickr"><img src="//farm3.staticflickr.com/2841/9441279600_e3ceecf7d2_b.jpg" width="1024" height="218" alt="COSCUP 2013 Day 2" srcset="//farm3.staticflickr.com/2841/9441279600_e3ceecf7d2.jpg 768w, //farm3.staticflickr.com/2841/9441279600_e3ceecf7d2_b.jpg 768w 2x, //farm3.staticflickr.com/2841/9441279600_cd527072cd_k.jpg 2x" /></a></p>

<p>附註：今年記錄組的照片總數約五千多張，還要等海哥處理，<a href="http://www.flickr.com/photos/othree/sets/72157633006652796/">我的相簿</a>雖然已經上線，不過今年規模很大，我所包含到的範圍沒很多，所以還是請期待官方相簿上線喔！</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="2"></b:comments>


		</b:entry>

		<b:entry entryID="000758" baseName="javascript-on-vim">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-08-03</b:date>
				<b:time>23:49:14</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>JavaScript on Vim</b:title>
			<b:content>
				<b:summary>今天在 COSCUP 講的 JavaScript on Vim 投影片因為是用 Vroom 做的，所以沒有 PDF 可以上傳到 SlideShare 和 Speaker Deck，不過他有內建生成 html 版，所以我開了個 gh-pages 來放著讓大家看，按鍵盤空白鍵是下一頁，Backspace 是上一頁。 這次有超過時間，事前練習也超過一點，不過這次正式上場講的還比較慢，結果總時間就不夠了，算是意外，所以只好補充一下最後面我想要說的。如果你要學 Vim Script，除了看教學外，有個很重要的東西就是 Vim Document，一定要學著如何閱讀，包括怎麼搜尋、怎樣在文件連結中穿梭等等，Vim 的文件是我看過的程式文件中數一數二詳細的，幾乎是把 Vim 的所有細節都寫在內了，有些時候你的問題可能用 google 搜尋不到，但是其實文件內都已經有記載了，所以學習讀他真的很重要。 會後有聽眾跑來跟我說 Vim 可以輸入 :help ctrl 然後還不要按 enter，改按 CTRL + D，會變成用...</b:summary>
				<b:mainContent><p>今天在 COSCUP 講的 JavaScript on Vim 投影片因為是用 <a href="https://github.com/ingydotnet/vroom-pm">Vroom</a> 做的，所以沒有 PDF 可以上傳到 SlideShare 和 Speaker Deck，不過他有內建生成 html 版，所以我開了個 <a href="http://othree.github.io/javascript-on-vim-slide/">gh-pages</a> 來放著讓大家看，按鍵盤空白鍵是下一頁，Backspace 是上一頁。</p>

<p>這次有超過時間，事前練習也超過一點，不過這次正式上場講的還比較慢，結果總時間就不夠了，算是意外，所以只好補充一下最後面我想要說的。如果你要學 Vim Script，除了看教學外，有個很重要的東西就是 Vim Document，一定要學著如何閱讀，包括怎麼搜尋、怎樣在文件連結中穿梭等等，Vim 的文件是我看過的程式文件中數一數二詳細的，幾乎是把 Vim 的所有細節都寫在內了，有些時候你的問題可能用 google 搜尋不到，但是其實文件內都已經有記載了，所以學習讀他真的很重要。</p>

<p>會後有聽眾跑來跟我說 Vim 可以輸入 <code>:help ctrl</code> 然後還不要按 enter，改按 CTRL + D，會變成用 ctrl 當關鍵字搜尋所有的 help document 連結關鍵字，我覺得這功能應該是蠻有幫助的，所以在這邊補充一下。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="2"></b:comments>


		</b:entry>

		<b:entry entryID="000757" baseName="true-color-terminal-vim-osx">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-07-27</b:date>
				<b:time>01:10:07</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>True Color Terminal Vim on OSX</b:title>
			<b:content>
				<b:summary>True Color 指的是紅綠藍三原色每個顏色都用 8bit 來記錄色階，總共有 2 的 24 次方種顏色，一般台灣是稱為 1677 萬色，也就是現在主流的電腦螢幕顏色數，不過終端機介面，一直以來都是活在 16 色和 256 色的世界，所以我一直都是只能用 256 色的 Vim，雖然 GVim 有支援 True Color，不過我用 GVim 實在很不習慣。 前陣子在 usevim 上看到 24-bit Vim 這篇文章，讓我對 True Color 的 Vim 環境燃起了一線希望，大概的狀況是據說有個 ISO-8613-3 有設計了 TrueColor 的 notation，就長的很像...</b:summary>
				<b:mainContent><p>True Color 指的是紅綠藍三原色每個顏色都用 8bit 來記錄色階，總共有 2 的 24 次方種顏色，一般台灣是稱為 1677 萬色，也就是現在主流的電腦螢幕顏色數，不過終端機介面，一直以來都是活在 16 色和 256 色的世界，所以我一直都是只能用 256 色的 Vim，雖然 GVim 有支援 True Color，不過我用 GVim 實在很不習慣。</p>

<p>前陣子在 <a href="http://usevim.com/">usevim</a> 上看到 <a href="http://usevim.com/2013/05/31/24bit/">24-bit Vim</a> 這篇文章，讓我對 True Color 的 Vim 環境燃起了一線希望，大概的狀況是據說有個 ISO-8613-3 有設計了 TrueColor 的 notation，就長的很像 BBS 上色語法，但是有三個數值。所以只要大家都有支援，就可以看到 1677 萬色的終端機了，而所謂的大家都有支援，指的是：</p>

<ol>
<li>命令列軟體輸出有支援，這邊需要的就是 Vim 能支援輸出 ISO-8613-3 所定義的語法</li>
<li>Terminal 軟體有支援，看到 ISO 語法能呈現對應的顏色，以 OSX 上來說，我用的是 <a href="http://www.iterm2.com/">iTerm 2</a></li>
</ol>

<p>24-bit Vim 這篇文章說的是 Vim 有位 ZyX 有實做了 True Color 支援，而當時有個叫 <a href="http://konsole.kde.org/">Konsole</a> 的 KDE Terminal 支援 True Color，所以要是你是用 KDE，就可以有 True Color 的 Vim 環境了，只是我用的環境幾乎都還是 OSX 為主。最近 iTerm 2 的作者在 Twitter 上說<a href="https://twitter.com/gnachman/status/356902333424226304">他們的 24-bit color 支援 merge 到 master</a> 了，本來我一直在等 beta 版的更新，不過今天突然想到，可以去找 <a href="https://code.google.com/p/iterm2/">nightly build</a>，然後去抓了<a href="https://github.com/adaptee/konsole/blob/master/tests/color-spaces.pl">測試用的 perl 檔</a>來測試，發現真的可以用，下面兩張圖，上面那張是不支援的版本，下面的是支援的。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9367473947/" title="256 color terminal by othree, on Flickr"><img src="//farm4.staticflickr.com/3689/9367473947_69798edde0_b.jpg" width="810" height="998" alt="256 color terminal" srcset="//farm4.staticflickr.com/3689/9367473947_69798edde0.jpg 768w, //farm4.staticflickr.com/3689/9367473947_69798edde0_b.jpg 768w 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9367473883/" title="true color terminal by othree, on Flickr"><img src="//farm8.staticflickr.com/7289/9367473883_1b2ee32d17_b.jpg" width="810" height="998" alt="true color terminal" srcset="//farm8.staticflickr.com/7289/9367473883_1b2ee32d17.jpg 768w, //farm8.staticflickr.com/7289/9367473883_1b2ee32d17_b.jpg 768w 2x" /></a></p>

<p>接下來，就是 Vim 了，這部分我花了不少時間才弄出來，簡單說就是抓 <a href="https://bitbucket.org/ZyX_I/vim">ZyX 的 Vim</a> 來自己 compile，不過也不是 clone 下來直接編譯就好，要換 branch 加上 config 等等：</p>

<pre><code>hg clone https://bitbucket.org/ZyX_I/vim
cd vim
hg update 24-bit-xterm
cd src &amp;&amp; make autoconf &amp;&amp; cd ..

./configure \
  --enable-gui=no \
  --without-x \
  --enable-multibyte \
  --with-tlib=ncurses \
  --enable-cscope \
  --with-features=huge \
  --disable-nls \
  --enable-perlinterp \
  --enable-pythoninterp \
  --enable-rubyinterp \
  --enable-termtruecolor

make
make install
</code></pre>

<p>照理說上面這段複製貼上執行就可以了，然後，編譯安裝完，進入 Vim 可以執行 <code>version</code> 看看 <strong>termtruecolor</strong> 這個選項有沒有打開，有的話，那還差一步，就是在 <strong>.vimrc</strong> 裡面加上一行把設定打開：</p>

<pre><code>set guicolors
</code></pre>

<p>然後你的 Terminal Vim 就會去使用 GVim 用的顏色設定了，以 <a href="http://ethanschoonover.com/solarized">solarized</a> 為例，上面是 256 色的，下面是 True Color：</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9367473873/" title="256 solarized by othree, on Flickr"><img src="//farm6.staticflickr.com/5548/9367473873_222b86f6ec_b.jpg" width="810" height="998" alt="256 solarized" srcset="//farm6.staticflickr.com/5548/9367473873_222b86f6ec.jpg 768w, //farm6.staticflickr.com/5548/9367473873_222b86f6ec_b.jpg 768w 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9370253776/" title="true color solarized by othree, on Flickr"><img src="//farm8.staticflickr.com/7368/9370253776_54c4dafe85_b.jpg" width="810" height="998" alt="true color solarized" srcset="//farm8.staticflickr.com/7368/9370253776_54c4dafe85.jpg 768w, //farm8.staticflickr.com/7368/9370253776_54c4dafe85_b.jpg 768w 2x" /></a></p>

<p>其實，差異蠻大的，讓我蠻意外，最後我找了一些以前沒辦法看到真相的 Vim color 來用，目前暫時是用 <a href="https://github.com/nanotech/jellybeans.vim">jellybeans</a>：</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9367473855/" title="true color jellybeans by othree, on Flickr"><img src="//farm8.staticflickr.com/7282/9367473855_d576b3a7d8_b.jpg" width="810" height="998" alt="true color jellybeans" srcset="//farm8.staticflickr.com/7282/9367473855_d576b3a7d8.jpg 768w, //farm8.staticflickr.com/7282/9367473855_d576b3a7d8_b.jpg 768w 2x" /></a></p>

<p>至於 iTerm 2 和 Vim 官方何時會支援呢，前者比較樂觀，下次 release 就有了，後者的話，大約半年前 Bram 有說會加到 TODO，不過到目前的 7.4 看來都還沒有認真要面對它的樣子...</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000756" baseName="markdown-resources">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-07-14</b:date>
				<b:time>18:34:30</b:time>
			</b:datetime>
			<b:category>web</b:category>
			<b:title>Markdown 資源</b:title>
			<b:content>
				<b:summary>前兩天終於把 Markdown 資源 這頁弄上線了，其實想弄很久了，目標是收集不同領域的熱門資源，例如某某語言比較多人用的轉譯引擎。另外還有一些算是歷史紀錄，像是 shodown.js ，還有就是之前 Jeff Atwood 登高一呼 要訂 spec，雖然沒有正式的版本，不過也已經有 W3C Community Group，說到這邊，他們其實還收集了很大量的引擎實做，不過像這種不是我覺得有用的清單，內容太多東西了，所以並沒有阻止我把這頁生出來。 最後要感謝 WM 提供他收集的一份清單，然後有人覺得有什麼資源是值得刊上去的歡迎提供給我，也可以直接發 pull request 啦，不過基本上是我主觀決定適不適合的，目前這份清單應該偶爾會更新一下，因為像是 iOS 有非常多軟體支援 Markdown，和其他作業系統比起來，比例上有點不平衡，還不知道哪些比較好用，所以我目前是先列出我以前就看到過的，希望這份清單能夠越來越好。...</b:summary>
				<b:mainContent><p>前兩天終於把 <a href="http://markdown.tw/resources.html">Markdown 資源</a> 這頁弄上線了，其實想弄很久了，目標是收集不同領域的熱門資源，例如某某語言比較多人用的轉譯引擎。另外還有一些算是歷史紀錄，像是 shodown.js ，還有就是之前 Jeff Atwood <a href="http://www.codinghorror.com/blog/2012/10/the-future-of-markdown.html">登高一呼</a> 要訂 spec，雖然沒有正式的版本，不過也已經有 <a href="http://www.w3.org/community/markdown/">W3C Community Group</a>，說到這邊，他們其實還收集了很大量的引擎<a href="http://www.w3.org/community/markdown/wiki/MarkdownImplementations">實做</a>，不過像這種不是我覺得有用的清單，內容太多東西了，所以並沒有阻止我把這頁生出來。</p>

<p>最後要感謝 WM 提供他收集的一份清單，然後有人覺得有什麼資源是值得刊上去的歡迎提供給我，也可以直接發 <a href="https://github.com/othree/markdown-syntax-zhtw">pull request</a> 啦，不過基本上是我主觀決定適不適合的，目前這份清單應該偶爾會更新一下，因為像是 iOS 有非常多軟體支援 Markdown，和其他作業系統比起來，比例上有點不平衡，還不知道哪些比較好用，所以我目前是先列出我以前就看到過的，希望這份清單能夠越來越好。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000755" baseName="flickr-share-publidhed">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-07-13</b:date>
				<b:time>01:13:42</b:time>
			</b:datetime>
			<b:category>web</b:category>
			<b:title>Flickr Share with Template Published</b:title>
			<b:content>
				<b:summary> 距離第一次說這東西其實好久了，最近終於把它推上 Chrome Store，其實上次徵求 icon 有徵到，不過對方不願具名所以沒有任何 attribute，還是很感激他就是，現在這版已經改用 Twitter 的 hogan，還用了 q 做 async flow control，然後還衍生出 sandbox-hogan 這個專案，不過目前用的是 prototype，等那邊發展成熟一點在換過去。 最後再次介紹一下 Flickr Share with Template，這是套可以用自訂的 template 來產生 Flickr 照片分享 HTML/BBCode 的套件，會開發的原因包括： flickr 原生的分享是 HTML，不是 XHTML 只有 HTML/BBCode 只有 http，但是 flickr 其實有 https...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9252437903/" title="Flickr Share with Template by othree, on Flickr"><img src="//farm3.staticflickr.com/2840/9252437903_e68a25280f_b.jpg" width="982" height="606" alt="Flickr Share with Template" srcset="//farm3.staticflickr.com/2840/9252437903_e68a25280f.jpg 768w, //farm3.staticflickr.com/2840/9252437903_e68a25280f_b.jpg 768w 2x" /></a></p>

<p>距離第一次說<a href="https://blog.othree.net/log/2012/12/08/flickr-share-with-templat/">這東西</a>其實好久了，最近終於把它推上 <a href="https://chrome.google.com/webstore/detail/flickr-share-with-templat/dfnfhbapijahpaobcpojofokllocfpnc">Chrome Store</a>，其實上次徵求 icon 有徵到，不過對方不願具名所以沒有任何 attribute，還是很感激他就是，現在這版已經改用 Twitter 的 <a href="http://twitter.github.io/hogan.js/">hogan</a>，還用了 <a href="https://github.com/kriskowal/q">q</a> 做 async flow control，然後還衍生出 <a href="https://github.com/othree/sandbox-hogan">sandbox-hogan</a> 這個專案，不過目前用的是 prototype，等那邊發展成熟一點在換過去。</p>

<p>最後再次介紹一下 <strong>Flickr Share with Template</strong>，這是套可以用自訂的 template 來產生 Flickr 照片分享 HTML/BBCode 的套件，會開發的原因包括：</p>

<ul>
<li>flickr 原生的分享是 HTML，不是 XHTML</li>
<li>只有 HTML/BBCode</li>
<li>只有 http，但是 flickr 其實有 https 支援</li>
<li>只有一些尺寸，無法滿足我支援 retina disaply 的需求</li>
<li>最重要的，不支援自訂 template </li>
</ul>

<p>如果你對以上任何一個問題有同感的話，歡迎你來試試看我的擴充套件，有任何問題歡迎回報。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000754" baseName="vim-airline">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-07-04</b:date>
				<b:time>18:15:37</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>vim-airline</b:title>
			<b:content>
				<b:summary> 最近發現 vim-airline 這個 plugin，其實就是 powerline 的 copy，vim powerline 也出來蠻久了，大部分人其實都不會去深入研究要怎樣設定 statusline，所以像這種可以很快速套用，又好看功能又好的 plugin 都很受歡迎。 我以前都是用自己寫的設定，還接了 hahhah.vim，長得比較簡單： 一直沒換到 powerline 其實主要原因是它要有裝 patch 過，加了幾個新符號的字型才好看，然後這有些麻煩所以一直沒嘗試。不過前兩天看到的 airline ，README 列出的一些差異讓我對它蠻感興趣的，讓我感興趣的點是： airline 是 pure vim script，powerline 則有一些 python 簡單, 速度也比 powerline 快 而且它也支援 powerline patch 過的字形來做類似的效果，只是一開始設定時發現右邊的三角形位置怎麼一直不太正確，研究了一下發現是全形半形的問題： 在 iTerm...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9203696971/" title="Flickr 上 othree 的 vim-airline"><img src="//farm6.staticflickr.com/5472/9203696971_8ffe6c5afd_b.jpg" width="810" height="566" alt="vim-airline" srcset="//farm6.staticflickr.com/5472/9203696971_8ffe6c5afd.jpg 768w, //farm6.staticflickr.com/5472/9203696971_8ffe6c5afd_b.jpg 768w 2x" /></a></p>

<p>最近發現 <a href="https://github.com/bling/vim-airline">vim-airline</a> 這個 plugin，其實就是 <a href="https://github.com/Lokaltog/powerline">powerline</a> 的 copy，vim powerline 也出來蠻久了，大部分人其實都不會去深入研究要怎樣設定 <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#'statusline'">statusline</a>，所以像這種可以很快速套用，又好看功能又好的 plugin 都很受歡迎。</p>

<p>我以前都是用自己寫的設定，還接了 <a href="https://github.com/mattn/hahhah-vim">hahhah.vim</a>，長得比較簡單：</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9205236137/" title="Flickr 上 othree 的 My Vim statusline"><img src="//farm4.staticflickr.com/3686/9205236137_d614de6369_b.jpg" width="810" height="458" alt="My Vim statusline" srcset="//farm4.staticflickr.com/3686/9205236137_d614de6369.jpg 768w, //farm4.staticflickr.com/3686/9205236137_d614de6369_b.jpg 768w 2x" /></a></p>

<p>一直沒換到 powerline 其實主要原因是它要有裝 patch 過，加了幾個新符號的字型才好看，然後這有些麻煩所以一直沒嘗試。不過前兩天看到的 airline ，README 列出的一些差異讓我對它蠻感興趣的，讓我感興趣的點是：</p>

<ul>
<li>airline 是 pure vim script，powerline 則有一些 python</li>
<li>簡單, 速度也比 powerline 快</li>
</ul>

<p>而且它也支援 powerline patch 過的<a href="https://github.com/Lokaltog/powerline-fonts">字形</a>來做類似的效果，只是一開始設定時發現右邊的三角形位置怎麼一直不太正確，研究了一下發現是全形半形的問題：</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9204959479/" title="Flickr 上 othree 的 ambiguous"><img src="//farm8.staticflickr.com/7350/9204959479_6e20770b75.jpg" width="320" height="220" alt="ambiguous" srcset="//farm8.staticflickr.com/7350/9204959479_6e20770b75.jpg 768w,  768w 2x" /></a></p>

<p>在 iTerm 裡面有個設定是 <code>Treat ambiguous-width characters as double width</code>，開啟這個選項，iTerm 就會把沒有定義字寬的一些字元當成是兩倍寬，也就是全形字，會有這個選項是因為一些符號、標點，在 Unicode 裡面不論是中文英文都是共用的，但是在中文的世界會習慣是用全形，如果設定錯，會出現的問題其實也沒很大，通常是全行字的符號塞進半形的空間，或是反過來，不過如果有排版需求的話就很重要了，像是 BBS，所以要用 iTerm 上 BBS 這個選項就很重要了。</p>

<p>powerline 自訂的這幾個 <a href="https://powerline.readthedocs.org/en/latest/fontpatching.html#glyph-table">新符號</a>，也是歸類在這些字元，剛好我以前都會用 iTerm 上工作站連 BBS，所以那個選項有開，結果就是如上圖下半部那樣，符號的右邊多了一個空白的寬度。這張圖上下的差異只有該選項有沒有打開而已，不過雖然搞清楚問題在哪，我最後還是決定不要用三角形，只用了 branch 的符號而已，結果就是本文的第一張圖那樣。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="4"></b:comments>


		</b:entry>

		<b:entry entryID="000753" baseName="phantom-jasmine-and-aladdin">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-07-02</b:date>
				<b:time>00:00:10</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>phantom-jasmine 與阿拉丁</b:title>
			<b:content>
				<b:summary>前陣子開始寫起 JavaScript 的 test，用的是 Jasmine，用瀏覽器跑都正常，只是用 npm 上的 phantom-jasmine 來跑測試結果都不正常。因為想要把專案丟上 Travis CI，所以今天又花了不少時間下去找問題，結果還真是有些意外。 這個問題最大原因就是 npm phantom-jasmine 和原作者的 phantom-jasmine 的是不同 fork，npm module maintainer 是 rlayte，而 phantom-jasmine 作者是 Joshua Carver，雖然 npm 網站上的使用說明和 Joshua 在 Github 上的幾乎都一樣，Joshua 也在 README 說了可以用 npm 裝，但是實際上用 npm install -g...</b:summary>
				<b:mainContent><p>前陣子開始寫起 JavaScript 的 test，用的是 <a href="http://pivotal.github.io/jasmine/">Jasmine</a>，用瀏覽器跑都正常，只是用 npm 上的 <a href="https://npmjs.org/package/phantom-jasmine">phantom-jasmine</a> 來跑測試結果都不正常。因為想要把專案丟上 <a href="https://travis-ci.org/">Travis CI</a>，所以今天又花了不少時間下去找問題，結果還真是有些意外。</p>

<p>這個問題最大原因就是 npm phantom-jasmine 和原作者的 <a href="https://github.com/jcarver989/phantom-jasmine">phantom-jasmine</a> 的是不同 fork，npm module maintainer 是 <a href="https://npmjs.org/~rlayte">rlayte</a>，而 phantom-jasmine 作者是 <a href="https://github.com/jcarver989">Joshua Carver</a>，雖然 npm 網站上的使用說明和 Joshua 在 Github  上的幾乎都一樣，Joshua 也在 <a href="https://github.com/jcarver989/phantom-jasmine#installation">README</a> 說了可以用 npm 裝，但是實際上用 <code>npm install -g phantom-jasmine</code> 裝的卻是 rlayte 的 <a href="https://github.com/rlayte/phantom-jasmine">fork</a>，然而 rlayte 的那版，卻是他改很大的版本，整個行為都已經和說明上寫的不一樣了。</p>

<p>本來的 phantom-jasmine 是使用者丟 HTML 檔案進去，不過 rlayte 改到後來，變成是它會自己去特定的路徑找 js 檔案，丟進 tempalte 產生 html 然後跑測試的，而這個路徑好死不死預設是 <code>exmample/js/**/*.js</code>，雖然測試的 spec 還是預設在 <code>spec/</code> 下找，可是要測試的檔案會在 <code>example/js/</code> 下面找，如果沒有改設定，根本就不會測試到想要測的檔案，這個行為是和原來完全不一樣的，而且也沒寫在文件上。</p>

<p>還好我也有發現，rlayte 其實已經把他的 phantom-jasmine fork 改成 <a href="https://github.com/rlayte/aladdin">aladdin</a> 了，前面講的那些行為該怎樣用，其實都寫在 aladdin 那邊的 README 內。</p>

<p>aladdin 設計的其實蠻無腦的，spec 檔案放在 <code>spec/</code> 目錄下，然後在 spec 目錄下新增一個 config.json：</p>

<pre><code>[ 
  'lib/jquery.js',
  'app/**/*.js'
]
</code></pre>

<p>這個檔案把你要測試的 src 和 dependency 都照順序放好，然後在專案根目錄執行 <code>aladdin</code> 就會開始測試了，連 Jasmine 的檔案都不用自己抓。</p>

<p>要在 Travis CI 上跑測試，只要再加上兩個檔案就可以，一個是 <a href="http://about.travis-ci.org/docs/user/getting-started/#Step-three%3A-Add-.travis.yml-file-to-your-repository">.travis.yml</a>，另外一個是 <a href="https://npmjs.org/doc/json.html">package.json</a>，<code>.travis.yml</code> 只要設成 <a href="http://about.travis-ci.org/docs/user/getting-started/#Node.js">Node.js</a> 的就可以，可以直接拷貝範例，然後內容的 nodejs 版本只留一個。然後再加上 before_script 告訴 Travis CI 要安裝 aladdin：</p>

<pre><code>before_script:
    - npm install -g aladdin
</code></pre>

<p>至於 <code>package.json</code> 就稍微複雜一點，以下是範例：</p>

<pre><code>{
  "name": "robst-video",
  "author": "othree",
  "scripts": {
    "test": "aladdin"
  }
}
</code></pre>

<p>重點是 <strong>scripts</strong> 那一塊，要讓 <code>npm test</code> 執行時會跑 <code>aladdin</code> 來啟動測試。這樣 Travis CI 就可以幫你跑測試了。</p>

<p>回到 phantom-jasmine，現在的狀況是 npm 的 phantom-jasmine 被搞爛了，我必須說 rlayte 搞出這狀況還蠻不負責任的，所以也 report 了個 issue，還好 npm 可以從本地目錄安裝：</p>

<pre><code>sudo npm install -g /path/to/phantom-jasmine/
</code></pre>

<p>只是裝起來後，目前我反而還沒辦法讓原版的 phantom-jasmine 跑起來，可能下次有動力在繼續看問題在哪了吧。 目前我是只有在 <a href="https://github.com/othree/robust-video">robust-video</a> 這個專案跑 Travis CI，有興趣的也可以直接去看看檔案怎樣放。</p>

<p>最後補充一下，不知道有沒有人注意到，迪士尼的阿拉丁電影裡面的公主，就叫做 Jasmine。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="3"></b:comments>


		</b:entry>

		<b:entry entryID="000752" baseName="ntu">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-07-01</b:date>
				<b:time>22:35:55</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>台大</b:title>
			<b:content>
				<b:summary>由於已經連續發了超過十篇技術文章，所以要貼些照片來平衡一下，剛好前兩天晚上走過台大拍了一些，所以就來貼些在台大校內拍的照片吧。...</b:summary>
				<b:mainContent><p>由於已經連續發了超過十篇技術文章，所以要貼些照片來平衡一下，剛好前兩天晚上走過台大拍了一些，所以就來貼些在台大校內拍的照片吧。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/5014521240/" title="Flickr 上 othree 的 台大校門"><img src="//farm5.staticflickr.com/4147/5014521240_a5a4a72b4c_b.jpg" width="1024" height="768" alt="台大校門" srcset="//farm5.staticflickr.com/4147/5014521240_a5a4a72b4c.jpg 768w, //farm5.staticflickr.com/4147/5014521240_a5a4a72b4c_b.jpg 768w 2x" /></a></p>
</b:mainContent>
				<b:extendContent><p>台大校門，現在已經是古蹟了，據說以前校門廣場常常是黨外人士聚會的場所。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9158987767/" title="Flickr 上 othree 的 台大 at Night"><img src="//farm8.staticflickr.com/7394/9158987767_2c2c9649a7_b.jpg" width="1024" height="683" alt="台大 at Night" srcset="//farm8.staticflickr.com/7394/9158987767_2c2c9649a7.jpg 768w, //farm8.staticflickr.com/7394/9158987767_2c2c9649a7_b.jpg 768w 2x, //farm8.staticflickr.com/7394/9158987767_eab77f0438_k.jpg 2x" /></a></p>

<p>台灣應該只有大學校內會看到這樣壯觀的腳踏車海吧。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9158986845/" title="Flickr 上 othree 的 台大 at Night"><img src="//farm4.staticflickr.com/3811/9158986845_c9a66049f3_b.jpg" width="1024" height="683" alt="台大 at Night" srcset="//farm4.staticflickr.com/3811/9158986845_c9a66049f3.jpg 768w, //farm4.staticflickr.com/3811/9158986845_c9a66049f3_b.jpg 768w 2x, //farm4.staticflickr.com/3811/9158986845_c095e99e80_k.jpg 2x" /></a></p>

<p>很喜歡這樣拍透光的植物，晚上的時候剛好可以用路燈，看起來就很翠綠。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/3933561345/" title="Flickr 上 othree 的 第一活動中心屋頂"><img src="//farm4.staticflickr.com/3253/3933561345_45fd2e3449_b.jpg" width="1024" height="768" alt="第一活動中心屋頂" srcset="//farm4.staticflickr.com/3253/3933561345_45fd2e3449.jpg 768w, //farm4.staticflickr.com/3253/3933561345_45fd2e3449_b.jpg 768w 2x" /></a></p>

<p>台大的第一學生活動中心也是某個時期才有的歷史建物，這種中空屋頂結構現在已經看不到了，最近幾年做了不少改建，因為要符合現代的建築法規，加了一些不是這麼需要的補強，像是二樓口字形的走廊硬是一邊要加上剪力牆，有點難過啊，希望能保存下去。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9158993245/" title="Flickr 上 othree 的 台大 at Night"><img src="//farm6.staticflickr.com/5477/9158993245_6553e9436f_b.jpg" width="1024" height="683" alt="台大 at Night" srcset="//farm6.staticflickr.com/5477/9158993245_6553e9436f.jpg 768w, //farm6.staticflickr.com/5477/9158993245_6553e9436f_b.jpg 768w 2x, //farm6.staticflickr.com/5477/9158993245_cd28aec67f_k.jpg 2x" /></a></p>

<p>校內很多這樣小小一棟不知道是什麼的建築物。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9161215528/" title="Flickr 上 othree 的 台大 at Night"><img src="//farm8.staticflickr.com/7295/9161215528_12a2e8522a_b.jpg" width="1024" height="683" alt="台大 at Night" srcset="//farm8.staticflickr.com/7295/9161215528_12a2e8522a.jpg 768w, //farm8.staticflickr.com/7295/9161215528_12a2e8522a_b.jpg 768w 2x, //farm8.staticflickr.com/7295/9161215528_c98da9527b_k.jpg 2x" /></a></p>

<p>偷渡的台科大，不過還是在台大校內拍的~~</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8567737535/" title="Flickr 上 othree 的 台大杜鵑花節"><img src="//farm9.staticflickr.com/8527/8567737535_3c6bbabec4_b.jpg" width="1024" height="683" alt="台大杜鵑花節" srcset="//farm9.staticflickr.com/8527/8567737535_3c6bbabec4.jpg 768w, //farm9.staticflickr.com/8527/8567737535_3c6bbabec4_b.jpg 768w 2x, //farm9.staticflickr.com/8527/8567737535_fb8bf6bcee_k.jpg 2x" /></a></p>

<p>杜鵑花節現在人都很多，很多是家長會帶小孩，還有校內社團也可以趁機擺攤宣傳，似乎有很多高中生是整車整車來的？</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8567736513/" title="Flickr 上 othree 的 台大杜鵑花節"><img src="//farm9.staticflickr.com/8245/8567736513_865c07887c_b.jpg" width="1024" height="683" alt="台大杜鵑花節" srcset="//farm9.staticflickr.com/8245/8567736513_865c07887c.jpg 768w, //farm9.staticflickr.com/8245/8567736513_865c07887c_b.jpg 768w 2x, //farm9.staticflickr.com/8245/8567736513_39fbacb025_k.jpg 2x" /></a></p>

<p>來張杜鵑花！</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/5385180238/" title="Flickr 上 othree 的 台大醫院"><img src="//farm6.staticflickr.com/5211/5385180238_a069cacb4e_b.jpg" width="1024" height="768" alt="台大醫院" srcset="//farm6.staticflickr.com/5211/5385180238_a069cacb4e.jpg 768w, //farm6.staticflickr.com/5211/5385180238_a069cacb4e_b.jpg 768w 2x" /></a></p>

<p>最後來張很久以前拍的台大醫院舊館，台大以前的建物幾乎都是這種風格，後來有一個時期的建築真是超難看，幾乎都四四方方，像是現在已經拆掉的新生大樓（有興趣的自己 google 看看，我沒拍過它XD），大約在我在學時期，系上的教授就說最近幾年有開始在注重這些，當時是新的圖書館剛成立啟用，後來的幾棟新館真的也都好看許多。然後看到這張照片就想到基隆車站（默）。</p>

<p>最後話說台大沒有建築系，最相關的就是土木系的建築與城鄉研究所了，所以現在回想起來，才發覺大學時也是有吸收到一些相關的知識耶，雖然我現在做的完全不相關...</p>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000751" baseName="javascript-primitives-obj">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-30</b:date>
				<b:time>14:24:41</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>JavaScript Primitives Objects</b:title>
			<b:content>
				<b:summary>接續上一篇文章，JavaScript 的資料型別可以分為兩類：基本型別(primitive value)和物件(object)。基本型別包含字串、數值、布林值等，物件除了物件外，還有像是函數、Regular Expression 等。JavaScript 還有一組很特別的 constructor，對應到每種基本型別，所以你可以 new String('blah'); 來產生基本型別的物件： new String('blah'); new Number(42); ner Boolean(true); 如果看最近的書本和教學都會說不要使用這種方法來建立這些基本型別，缺點有效能問題、API 設計不好，會有混淆等等。不過如果是物件的話，不就可以很方便的做一些操作了嗎？ 這兩年很受歡迎的 Ruby 有一個特性就是所有的基本型別都是物件，所以就可以很簡單的用一些串接的方式直接對這些基本型別進行操作： str = 'hello' str.capitalize # Hello str.capitalize! str # Hello str.count('l') # 2 在 JavaScript 中的基本型別其實不需要以物件的形式，也可以做類似的操作： var str =...</b:summary>
				<b:mainContent><p>接續上一篇文章，JavaScript 的資料型別可以分為兩類：基本型別(primitive value)和物件(object)。基本型別包含字串、數值、布林值等，物件除了物件外，還有像是函數、Regular Expression 等。JavaScript 還有一組很特別的 constructor，對應到每種基本型別，所以你可以 <code>new String('blah');</code> 來產生基本型別的物件：</p>

<pre><code>new String('blah');
new Number(42);
ner Boolean(true);
</code></pre>

<p>如果看最近的書本和教學都會說不要使用這種方法來建立這些基本型別，缺點有效能問題、API 設計不好，會有混淆等等。不過如果是物件的話，不就可以很方便的做一些操作了嗎？</p>

<p>這兩年很受歡迎的 Ruby 有一個特性就是所有的基本型別都是物件，所以就可以很簡單的用一些串接的方式直接對這些基本型別進行操作：</p>

<pre><code>str = 'hello'
str.capitalize        #  Hello
str.capitalize!
str                   #  Hello
str.count('l')        #  2
</code></pre>

<p>在 JavaScript 中的基本型別其實不需要以物件的形式，也可以做類似的操作：</p>

<pre><code>var str = 'hello';
str.length;           // 2
str.contains('l');    // true
str.indexOf('l');     // 2
</code></pre>

<p>但是如果想要更進一步的在上面加上屬性或是 method 就會發現行不通：</p>

<pre><code>var str = 'hello';
str.target = 'world';
str.target;            // undefined
</code></pre>

<p>這中間到底是有什麼差異呢？這個問題我想了很久，直到看了 <a href="http://javascriptweblog.wordpress.com/2010/09/27/the-secret-life-of-javascript-primitives/">The Secret Life of JavaScript Primitives</a> 這篇文章才瞭解，最後面這個例子，其實等同於：</p>

<pre><code>var str = 'hello';
(new String(str)).target = 'world';
(new String(str)).target;
</code></pre>

<p>當使用物件形式的 <code>.</code> 運算子對基本型別資料操作的時候，會產生一個新的物件，然後用完就丟掉，所以在指派 target 屬性那行操作到的物件，和要取回 target 屬性那行的物件，是完全不一樣的兩個物件，這也就是為什麼這些資料可以用類似物件的方法操作，但是卻不能真的像物件一樣使用。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000750" baseName="javascript-is-untyped">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-30</b:date>
				<b:time>00:08:06</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>JavaScript is Untyped</b:title>
			<b:content>
				<b:summary> 上週去聽 Gias Kay Lee 講 Animation in AngularJS，說到 JavaScript 其實是 untyped language，因為我沒受過 Computer Science 的正統教育，這名詞對我來說是新的，所以回來花了些時間看網路上的文件。 Wikipedia 上的文章不少，不過看起來比較吃力，Stack Overflow 上也有幾則不錯的問答，對我來說幫助很大，這個問題其實也沒很複雜，在 Computer Science 上來說，是不使用 strong type 和 weak type 來形容程式語言的，因為沒有明確的定義，取而代之的，是數個有明確定義的相關特性：type safety、memory safety、static/dynamic type checking、type conversions。 所以我之前 文章 說到 JavaScript 是 weak...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9167965602/" title="Flickr 上 othree 的 untyped"><img src="//farm6.staticflickr.com/5328/9167965602_d9be012d23_b.jpg" width="674" height="382" alt="untyped" srcset="//farm6.staticflickr.com/5328/9167965602_d9be012d23.jpg 768w, //farm6.staticflickr.com/5328/9167965602_d9be012d23_b.jpg 768w 2x" /></a></p>

<p>上週去聽 <a href="https://twitter.com/gsklee">Gias Kay Lee</a> 講 <a href="http://slid.es/gsklee/animation-in-angularjs">Animation in AngularJS</a>，說到 JavaScript 其實是 <a href="http://en.wikipedia.org/wiki/Talk%3ATyped_and_untyped_languages#.22Untyped_Language.22">untyped language</a>，因為我沒受過 Computer Science 的正統教育，這名詞對我來說是新的，所以回來花了些時間看網路上的文件。</p>

<p>Wikipedia 上的文章不少，不過看起來比較吃力，Stack Overflow 上也有幾則不錯的<a href="http://stackoverflow.com/questions/964910/is-javascript-an-untyped-language">問答</a>，對我來說幫助很大，這個問題其實也沒很複雜，在 Computer Science 上來說，是不使用 strong type 和 weak type 來形容程式語言的，因為沒有明確的定義，取而代之的，是數個有明確定義的相關特性：type safety、memory safety、static/dynamic type checking、type conversions。</p>

<p>所以我之前 <a href="https://blog.othree.net/log/2013/06/01/dependency-injection-of-angularjs/">文章</a> 說到 JavaScript 是 weak type 那段其實應該要說是 untyped 會比較好。其實講到 type 的問題，就會想到 JavaScript 的效能問題，Brendan Eich 說過 JavaScript 引擎很難跑得快的原因就是因為它是 untyped 的。在 <a href="http://www.html5rocks.com/en/tutorials/speed/v8/">Performance Tips for JavaScript in V8</a> 這篇文章有提到，V8 引擎其中有一個提升速度的設計是給變數 hidden class，這個 hidden class 其實就是隱藏的變數型別，如果你的變數從頭到尾都維持同樣的型別，例如整數永遠是整數、字串永遠是字串，而不會有中間換型別的情形，那 V8 引擎就可以利用 hidden class 的資訊來提升運算速度，我覺得這個 tip 很不錯，不只是 V8 可以跑比較快，即使其他引擎沒有受益，作為寫程式時的 good practice 也很受用，減少了程式內的不可預期性。</p>

<p>另外一個我覺得很相似的例子是這兩年新的 <a href="http://asmjs.org/spec/latest/">asm.js</a>，asm.js 是一個 JavaScript 的子集，設計上可以直接做一些比較低階的操作，像是直接 allocate 記憶體還有 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays">Typed Array</a> 等，而其中還定義了一組相容於普通 JavaScript 的寫法來宣告變數的型別：</p>

<pre><code>function f(x, y) {
    x = x|0;      // int parameter
    y = +y;       // double parameter

    return;
}
</code></pre>

<p>只是 asm.js 會直接手寫的應該很少，像 asm.js 有名的例子： Unreal Engine 就是用工具 compile 過去的。</p>

<p>PS: 我還找不到上面那張圖片的投影片出處，有人知道的話麻煩告訴我，感謝。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="2"></b:comments>


		</b:entry>

		<b:entry entryID="000749" baseName="autocomplpop-and-snipmate">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-25</b:date>
				<b:time>00:46:07</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>autocomplpop + snipmate</b:title>
			<b:content>
				<b:summary> 我用 vim-snipmate 和 vim-autocomplpop 已經蠻久了，不過運氣不好的是兩個 plugin 的原作者都已經不維護了，過了許久，有幾個人接手了 snipmate，不過大改一陣子之後，原本兩者間可以合作的hack 就失效了，考慮一陣子之後我開始在 github 上 fork 了一版 autocomplpop 來維護，一來是我用 vundle 安裝方便，二來是希望有一天能重新把 autocomplpop 支援 snipmate 的功能再弄起來。 其實幾個月前我有研究過一次，不過那時候幾乎看不懂新版 snipmate 的程式碼，沒想到今天又看一次竟然看懂了，不知道是不是之前那版本來就很難讀就是，總之研究了一下可行性，發現似乎可以不用像以前那樣用 hack 的方法就可以讓功能復活，花了大約兩三個小時下去弄，真的成功了，感動。 這次不用改檔案，設定有設對： let g:acp_behaviorSnipmateLength = 1 輸入的時候輸入大寫就應該要看到 snippets 的候選項目了。 最後要補充一下，我 fork 的 autocomplpop 是原作者...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9125887997/" title="Flickr 上 othree 的 autocomplpop + snipmate"><img src="//farm6.staticflickr.com/5533/9125887997_27c6e863a0_b.jpg" width="1001" height="484" alt="autocomplpop + snipmate" srcset="//farm6.staticflickr.com/5533/9125887997_27c6e863a0.jpg 768w, //farm6.staticflickr.com/5533/9125887997_27c6e863a0_b.jpg 768w 2x" /></a></p>

<p>我用 vim-snipmate 和 vim-autocomplpop 已經蠻久了，不過運氣不好的是兩個 plugin 的原作者都已經不維護了，過了許久，有幾個人接手了 <a href="https://github.com/garbas/vim-snipmate">snipmate</a>，不過大改一陣子之後，原本兩者間可以合作的<a href="http://www.ptt.cc/bbs/Editor/M.1264437741.A.4ED.html">hack</a> 就失效了，考慮一陣子之後我開始在 github 上 fork 了一版 <a href="https://github.com/othree/vim-autocomplpop">autocomplpop</a> 來維護，一來是我用 vundle 安裝方便，二來是希望有一天能重新把 autocomplpop 支援 snipmate 的功能再弄起來。</p>

<p>其實幾個月前我有研究過一次，不過那時候幾乎看不懂新版 snipmate 的程式碼，沒想到今天又看一次竟然看懂了，不知道是不是之前那版本來就很難讀就是，總之研究了一下可行性，發現似乎可以不用像以前那樣用 hack 的方法就可以讓功能復活，花了大約兩三個小時下去弄，真的成功了，感動。</p>

<p>這次不用改檔案，設定有<a href="https://github.com/othree/vim-autocomplpop/blob/master/doc/acp.txt#L82">設對</a>：</p>

<pre><code>let g:acp_behaviorSnipmateLength = 1
</code></pre>

<p>輸入的時候輸入大寫就應該要看到 snippets 的候選項目了。</p>

<p>最後要補充一下，我 fork 的 autocomplpop 是原作者 ns9tks 拆出一些 component 的版本，所以會需要安裝 <a href="http://www.vim.org/scripts/script.php?script_id=3252">L9</a>，新的 snipmate 也有相依的 plugin：<a href="https://github.com/marcweber/vim-addon-mw-utils">vim-addon-mw-utils</a> 和 <a href="https://github.com/tomtom/tlib_vim">tlib</a>，而且它也不含 snippets，東西在另外一個 <a href="https://github.com/honza/vim-snippets">vim-snippets</a>，其實有點多，蠻混亂的，所以整理一下總共要裝哪些 plugin：</p>

<ul>
<li><a href="http://www.vim.org/scripts/script.php?script_id=3252">L9</a></li>
<li><a href="https://github.com/othree/vim-autocomplpop">vim-autocomplpop</a></li>
<li><a href="https://github.com/marcweber/vim-addon-mw-utils">vim-addon-mw-utils</a></li>
<li><a href="https://github.com/tomtom/tlib_vim">tlib</a></li>
<li><a href="https://github.com/garbas/vim-snipmate">vim-snipmate</a></li>
<li><a href="https://github.com/honza/vim-snippets">vim-snippets</a></li>
</ul>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000748" baseName="vim-variable-variables">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-21</b:date>
				<b:time>17:32:28</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>Vim Variable Variables</b:title>
			<b:content>
				<b:summary>上一篇文章介紹 Syntastic 的最後面，其實本來想順便介紹一個 Vim Plugin 設定的 pattern，後來想一想還是獨立一篇文章好了，剛好今年 COSCUP 要介紹一些 Vim 的東西，這篇文章也可以作些 Vim 的介紹，就先從上一篇文章最後面的那行 Vim 設定開始看起： let g:syntastic_coffee_coffeelint_args = "--csv -f ~/coffeelint-config.json" 在這行設定中，作的事情其實只是宣告並給一個變數值，而我想說的重點是這個變數的變數名稱：g:syntastic_coffee_coffeelint_args，這個變數其實是根據 Syntastic 的文件 5.2 節設定的，其實這個變數名稱裡面有 coffee、coffeelint、args 三個變數，在文件中是這樣描述這個變數的組成的： syntastic_[filetype]_[subchecker]_[option-name] 表示的是 coffee 這種檔案格式下面，用 coffeelint 時的 args 參數，這種階層式的設定，在其他程式語言通常會用 dictionary 這種資料型態比較多，可是在 Vim 的圈子卻不是這樣，而是比較多用上面這種...</b:summary>
				<b:mainContent><p>上一篇文章介紹 Syntastic 的最後面，其實本來想順便介紹一個 Vim Plugin 設定的 pattern，後來想一想還是獨立一篇文章好了，剛好今年 COSCUP 要介紹一些 Vim 的東西，這篇文章也可以作些 Vim 的介紹，就先從上一篇文章最後面的那行 Vim 設定開始看起：</p>

<pre><code>let g:syntastic_coffee_coffeelint_args = "--csv -f ~/coffeelint-config.json"
</code></pre>

<p>在這行設定中，作的事情其實只是宣告並給一個變數值，而我想說的重點是這個變數的變數名稱：<code>g:syntastic_coffee_coffeelint_args</code>，這個變數其實是根據 Syntastic 的<a href="https://github.com/scrooloose/syntastic/blob/master/doc/syntastic.txt#L386">文件 5.2 節</a>設定的，其實這個變數名稱裡面有 <em>coffee</em>、<em>coffeelint</em>、<em>args</em> 三個變數，在文件中是這樣描述這個變數的組成的：</p>

<pre><code>syntastic_[filetype]_[subchecker]_[option-name]
</code></pre>

<p>表示的是 coffee 這種檔案格式下面，用 coffeelint 時的 args 參數，這種階層式的設定，在其他程式語言通常會用 dictionary 這種資料型態比較多，可是在 Vim 的圈子卻不是這樣，而是比較多用上面這種 Variable Variables 的形式，我想可能原因是： Vim Script 要建立多階層的空 dictionary 不是很方便，要一層一層的建立，而這個問題不管是開發者自己不方便，使用者在 vimrc 裡面作設定也會變得很麻煩。</p>

<p>那在 Vim Script 裡面，要怎樣實作這樣 variable variables 形式的程式呢？很簡單，和 <a href="http://php.net/manual/en/language.variables.variable.php">PHP 很像</a>，都是用<a href="http://vimdoc.sourceforge.net/htmldoc/eval.html#curly-braces-names">大括號</a>，所以要讀取最上面那個使用者設定的值很簡單：</p>

<pre><code>g:syntastic_{filetype}_{subchecker}_{optionName}
</code></pre>

<p>這樣就好了，真的那麼簡單就好了...</p>

<p>Vim Script 和現在主流的 Scripting 語言差異蠻大的，有很多不太方便的設計，像是設定 list, dictionary 時如果要在不同行寫不同項目的內容，每行間都要加一個反斜線 <code>\</code>，資料的型別是強型別，字串和數字都要自己手動作轉換，宣告和改變數的值都要用 <code>let</code> 等等，而這邊會遇到的限制是，無法存取任何一個不存在的變數，要是有存取到的話都會出現錯誤，即使只有讀取值也是，並不會直接給你 false value 或是像 JavaScript 那樣有 <code>undefined</code>，所以要是使用者沒設定過這個變數 <code>g:syntastic_coffee_coffeelint_args</code>，我在 Plugin 裡面就不能直接讀取他，不然只會看到紅色的錯誤訊息。</p>

<p>要處理這個問題，要用的是 <a href="http://vimdoc.sourceforge.net/htmldoc/eval.html#exists()">exists</a> 這個內建的 function，這個 function 是專門用來檢查變數是否存在用的，如果變數存在才做事情，寫起來就像是：</p>

<pre><code>if exists('gsyntastic_' . filetype . '_' . subchecker . '_' . optionName)
    let args = g:syntastic_{filetype}_{subchecker}_{optionName}
</code></pre>

<p>實在是不太好看，不過寫 Vim Script 基本上就是常常要寫這樣難看的程式碼，做的都是一些土法煉鋼的事情，其實還蠻辛苦的，而且你現在應該可以想像，如果要用多階層的 dictionary 在 vimrc 裡面作設定會長什麼樣子了。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000747" baseName="syntastic-coffeelint">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-21</b:date>
				<b:time>00:29:08</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>使用 Syntastic 執行 CoffeeLint 檢驗 CoffeeScript</b:title>
			<b:content>
				<b:summary>我之前有 fork jslint.vim 出來做了一個 coffee-check.vim，不過前陣子開始改用 Syntastic，作者 Martin Grenfell 也是個蠻有名的 Vim plugin 作者，最有名的應該 nerdtree 了吧，Syntastic 則是一個通用的 syntax checker plugin，使用的是外部的 syntax checker，設計成可以任意擴充支援不同檔案類型，而且支援一個檔案類型多種 checker，並且沒有限制 syntax 檢查，只要外部程式會跟你說哪裡有問題就可以。 Syntastic 預設就已經有 CoffeeScript 用的設定，支援 CoffeeScript Compiler 和 CoffeeLint，前者可以用來作 syntax checker，後者則是 lint，實際上安裝起來蠻簡單的，系統的 coffee 和 coffeelint 指令都可以透過 npm 安裝：...</b:summary>
				<b:mainContent><p>我之前有 fork jslint.vim 出來做了一個 <a href="https://github.com/othree/coffee-check.vim">coffee-check.vim</a>，不過前陣子開始改用 <a href="https://github.com/scrooloose/syntastic">Syntastic</a>，作者 Martin Grenfell 也是個蠻有名的 Vim plugin 作者，最有名的應該 <a href="https://github.com/scrooloose/nerdtree">nerdtree</a> 了吧，Syntastic 則是一個通用的 syntax checker plugin，使用的是外部的 syntax checker，設計成可以任意擴充支援不同檔案類型，而且支援一個檔案類型多種 checker，並且沒有限制 syntax 檢查，只要外部程式會跟你說哪裡有問題就可以。</p>

<p>Syntastic 預設就已經有 CoffeeScript 用的設定，支援 CoffeeScript Compiler 和 <a href="http://www.coffeelint.org/">CoffeeLint</a>，前者可以用來作 syntax checker，後者則是 <a href="http://zh.wikipedia.org/wiki/Lint">lint</a>，實際上安裝起來蠻簡單的，系統的 coffee 和 coffeelint 指令都可以透過 npm 安裝：</p>

<pre><code>npm install -g coffee-script
npm install -g coffeelint
</code></pre>

<p>Synatastic 用 Vundle 或 pathogen 安裝，然後你編輯完 CoffeeScript 檔案存檔時，就會出現檢查的結果了。</p>

<p>不過雖然安裝簡單，但是我還是遇到一個問題，就是 CoffeeLint 的其中一項檢查項目是每行的程式碼不要太長，預設是 80 個字元，不過這個數值對我來說太小了，所以我就必須要想辦法修改這個限制，CoffeeLint 有提供設定這些規定的選項，有點複雜，首先你必須要先有一個設定檔，而這個設定檔要 CoffeeLint 0.5.5 以後才有辦法用指令產生，運氣很不好的，npm 現在的 stable 版卻是 0.5.4，還不支援產生設定檔，我又不想要自己 compile 一份，所以只好上網搜尋，結果還真的給我找到範例，趕緊丟 <a href="https://gist.github.com/othree/5820021">gist 備份</a>。</p>

<p>設定檔內容就是個 JSON：</p>

<pre><code>{
    "max_line_length": {
      "value": 80,
      "level": "ignore",
      "message": "Line exceeds maximum allowed length"
    }
}
</code></pre>

<p>還蠻好理解的（可是沒範例我怎麼知道格式是怎樣啊！怒！），改好我要的設定後，執行 coffeelint 指令時還要加上參數來指定設定檔：</p>

<pre><code>coffeelint -f ~/coffeelint-configuration.json route.coffee
</code></pre>

<p>之前做到這步後我就卡住了，因為不知道怎樣設定成讓 Syntastic 執行時也接一樣的參數，直到今天早上跟 joseph 推薦 Syntastic 之後，才又花時間研究一次，終於發現其實可以在 vimrc 裡面<a href="https://github.com/scrooloose/syntastic/blob/master/doc/syntastic.txt#L386">設定</a>特定檔案、特定 checker、特定設定的值：</p>

<pre><code>let g:syntastic_coffee_coffeelint_args = "--csv -f ~/coffeelint-config.json"
</code></pre>

<p>前面的 <code>--csv</code> 是一定要的，這樣設好，我終於可以不用一直看到 CoffeeLint 跟我說我的程式碼太長了。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000746" baseName="options-object">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-19</b:date>
				<b:time>01:35:15</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>Options Object</b:title>
			<b:content>
				<b:summary> 上一篇文章 DOM Event Module 有講到 function API 設計收 option 物件比不同設定的值分開接收還好，這篇就要介紹一下這個 pattern，其實這個 pattern 我看過好幾篇文章講了，想不到等我現在要寫文章時卻找不太到，因為關鍵字有點太通用，不過剛好最近看完的 Effective JavaScript 也有說到這個 pattern，所以就拿他當參考文獻了~~ 這種設計的優點第一個當然就是前一篇有說到的，使用時的程式碼，用看的就知道不同的參數是什麼意義，直接偷 Effective JavaScript 的範例來，先看看不是 options object 的： var alert = new Alert(100, 75, 300, 200, "Error", messaage, "blue", "white", "black", "error", true);...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/9074497361/" title="Flickr 上 othree 的 Options Object"><img src="//farm4.staticflickr.com/3829/9074497361_5298d2643e_b.jpg" width="1024" height="683" alt="Options Object" srcset="//farm4.staticflickr.com/3829/9074497361_5298d2643e.jpg 768w, //farm4.staticflickr.com/3829/9074497361_5298d2643e_b.jpg 768w 2x, //farm4.staticflickr.com/3829/9074497361_013ef7e2be_k.jpg 2x" /></a></p>

<p>上一篇文章 <a href="https://blog.othree.net/log/2013/06/18/dom-event-module/">DOM Event Module</a> 有講到 function API 設計收 option 物件比不同設定的值分開接收還好，這篇就要介紹一下這個 pattern，其實這個 pattern 我看過好幾篇文章講了，想不到等我現在要寫文章時卻找不太到，因為關鍵字有點太通用，不過剛好最近看完的 <a href="http://effectivejs.com/">Effective JavaScript</a> 也有說到這個 pattern，所以就拿他當參考文獻了~~</p>

<p>這種設計的優點第一個當然就是前一篇有說到的，使用時的程式碼，用看的就知道不同的參數是什麼意義，直接偷 Effective JavaScript 的範例來，先看看不是 options object 的：</p>

<pre><code>var alert = new Alert(100, 75, 300, 200, 
                      "Error", messaage,
                      "blue", "white", "black",
                      "error", true);
</code></pre>

<p>這個例子比我前一篇的例子還要複雜許多，相信更能夠感覺到這些參數分別的意義很難判斷吧，所以改成用 options object 的：</p>

<pre><code>var alert = new Alert({
    x: 100, y: 75,
    width: 300, height: 200,
    title: "Error", message: message,
    titleColor: "blue", bgColor: "white", textColor: "black",
    icon: "error", modal: "true"
});
</code></pre>

<p>雖然其實我覺得全部的參數都塞到 options object 也不好，不過這問題不是這篇文章的重點，接下來要說的是另外一個優點，就是 API 介面可以和參數的數量脫勾（decouple），在未來更新改版增加新選項時也不用改參數的設計，這個優點要舉的例子是 <a href="http://api.jquery.com/jQuery.ajax/">jQuery.ajax</a>，他的第二個參數就是 options object，可以看文件有詳細的介紹所有的可以用選項，然後有一些選項，像是 headers、converts 就是後來才新增的，而 jQuery.ajax 本身收的參數則是從 1.0 之後就沒有變化了。</p>

<p>收了參數之後，通常第一步要做的是填預設值，很多的 JavaScript Library 都有提供 extend 可以利用，以 jQuery.ajax 為例，它用的是特製的 <a href="https://github.com/jquery/jquery/blob/2.0.2/src/ajax.js#L117">ajaxExtend</a>，當然 jQuery 也有提供 [jQuery.extend][] 給一般的 case 使用，undersocre 也有 <a href="http://underscorejs.org/#extend">extend</a>，不過它還有一個填預設值專用的 <a href="http://underscorejs.org/#defaults">defaults</a>，兩者的差別在當初 propose 的 <a href="https://github.com/documentcloud/underscore/issues/106">issue</a> 上介紹的蠻清楚，基本上就是用 defaults 你可以這樣寫：</p>

<pre><code>_.defaults(options, defaultOptions);
</code></pre>

<p>但是如果用 options 要達成一樣的效果，你要寫成：</p>

<pre><code>options = _.extend({}, defaultOptions, options);
</code></pre>

<p>因為 extend 會讓後者的屬性覆蓋掉前者的，所以 defaultOptions 要放在 options 前面，但是 extend 回傳的是前面那個物件，所以要取代原本的 options 還要多一個 assign，至於 defaults 則是會改原來的 options 物件，所以不需要多那個 assign，也不需要先丟一個空物件給它，如果要讓 options 是可省略的參數，用 CoffeeScript 還可以在定義 function 時給它預設值，整個程式碼就漂亮很多：</p>

<pre><code>mylib.ajax = (url, options = {}) -&gt;
    _.default(options, defaultOptions)
</code></pre>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="1"></b:comments>


		</b:entry>

		<b:entry entryID="000745" baseName="dom-event-module">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-18</b:date>
				<b:time>16:51:19</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>Native DOM Event Module</b:title>
			<b:content>
				<b:summary>我是在看 tap.js 的程式碼時，才真的注意到 DOM 的 event module （事件模組）其實我們已經可以拿來用了，關鍵在於比較少人注意到的 dispatchEvent 這個 method，這個 method 可以讓你對任意的 DOM Node 觸發任意事件，不管是 click 事件、mousemove 事件，還是 keydown 事件都可以，所以理論上你可以用 JS 模擬所有使用者做的操作，要做 integration 測試也沒問題，不過像是滑鼠拖拉要模擬就有點辛苦了。而除了原生有的事件外，其實 dispatchEvent 還支援自訂事件，對於自訂事件用途還不清楚的可以先看看以前的文章。 dispatchEvent 的用法和一般 JavaScript Library 的 trigger event 不太一樣，要先建立一個 event 物件給他： var event =...</b:summary>
				<b:mainContent><p>我是在看 <a href="http://alxgbsn.co.uk/2012/03/12/tap-js-a-lightweight-tap-event-javascript-plugin/">tap.js</a> 的程式碼時，才真的注意到 DOM 的 event module （事件模組）其實我們已經可以拿來用了，關鍵在於比較少人注意到的 <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.dispatchEvent">dispatchEvent</a>  這個 method，這個 method 可以讓你對任意的 DOM Node 觸發任意事件，不管是 click 事件、mousemove 事件，還是 keydown 事件都可以，所以理論上你可以用 JS 模擬所有使用者做的操作，要做 integration 測試也沒問題，不過像是滑鼠拖拉要模擬就有點辛苦了。而除了原生有的事件外，其實 dispatchEvent 還支援自訂事件，對於自訂事件用途還不清楚的可以先看看以前的<a href="https://blog.othree.net/log/2010/05/20/jquery-events/">文章</a>。</p>

<p>dispatchEvent 的用法和一般 JavaScript Library 的 trigger event 不太一樣，要先建立一個 event 物件給他：</p>

<pre><code>var event = document.createEvent('Event');
event.initEvent(type, true, true);

domnode.dispatchEvent(event);
</code></pre>

<p>其中的 type 才是你想要觸發的事件名稱，而第一個 createEvent 收的參數，除了 "Event" 這個最通用的之外，還有很多種<a href="https://developer.mozilla.org/en-US/docs/Web/API/document.createEvent">原生事件</a>，如果是要自訂事件的話，可以用最通用的 "Event"。不過其實，還有一個比較新的 API：</p>

<pre><code>var event = new CustomEvent(type, {bubbles: true, cancelable: true});
</code></pre>

<p>這是 DOM Level 4 裡面提出來的 <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent">Custom Event Constructor</a>，在這之前的 Level 3 就可以用第一個範例的方法產生 custom event，要先 create 再 init。這邊岔題一下，應該有人會注意到，createEvent 後 initEvent 那邊的 API 設計和 CustomEvent 不一樣，initEvent 收三個值，後面兩個都傳了 true，可是這樣的 API 設計近年來都被認為是不好的，因為你看程式碼，你完全不知道這兩個 true 是什麼意思，所以都是建議用第二種 API 的設計，收一個 options 物件，其實，initEvent 那兩個 true 分別就是 CustomEvent 後面的 bubbles 和 cancelable，但是後者的設計就可以讓程式碼看一眼就知道那兩個 true 是什麼用途的，看到這種不止開發者的程式在進化，連標準也跟著一起演進的現象還蠻有趣的~</p>

<p>Custom Event Constructor 目前 IE 的支援還比較差，所以還不能直接使用，還是要做一下 feature detection。至於哪些物件可以使用這些 method，除了 DOM Node，外，其實一般瀏覽器都還有一些物件可以聽事件，像是 window、document、 XMLHttpRequest instance 等，很可惜不是任意物件都可以，事實上，這些可以使用 DOM Event Module 的物件都是實作了 <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget">EventTarget</a> 這個介面，不過又要再說一次很可惜的，目前沒辦法把瀏覽器內的這些實作偷出來給其它物件使用，幸好 Andrea Giammarchi 有做了 <a href="https://github.com/WebReflection/event-target">一個</a> 放在 Github 上，可以給一般物件繼承去用。</p>

<p>我曾經寫過一篇文章介紹 <a href="https://blog.othree.net/log/2007/02/06/third-argument-of-addeventlistener/">addEventListener 的第三個參數</a>，這篇文章的最後我要來介紹第二個參數，第二個參數一般都是丟 function 進去，不過他其實也可以丟 <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventListener">EventListener</a> 進去，基本上就是一個物件有 handleEvent 來當事件的 callback 而已，不過像 tap.js 就有很有趣的用法，它不管是什麼事件，在<a href="https://github.com/alexgibson/tap.js/blob/f6a3eef75e448de5ce2a659570cfd4511570f672/tap.js#L35">加上 addEventListener 時</a>丟進去的都是 this 物件，實際上則是統一在 handleEvent 裡面在<a href="https://github.com/alexgibson/tap.js/blob/f6a3eef75e448de5ce2a659570cfd4511570f672/tap.js#L97">根據事件的不同去作不同的事情</a>：</p>

<pre><code>Tap.prototype.handleEvent = function (e) {
    switch (e.type) {
        case 'touchstart': this.start(e); break;
        case 'touchmove': this.move(e); break;
        case 'touchend': this.end(e); break;
        case 'touchcancel': this.cancel(e); break;
        case 'mousedown': this.start(e); break;
        case 'mousemove': this.move(e); break;
        case 'mouseup': this.end(e); break;
    }
};
</code></pre>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000744" baseName="dependency-injection-of-angularjs">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-06-01</b:date>
				<b:time>01:56:48</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>Dependency Injection of AngularJS</b:title>
			<b:content>
				<b:summary>在公開 javascript-libraries-syntax.vim 之後，我收到的第一個 Issue 就是支援 AngularJS，因為我一直都沒寫過，所以就花了些時間下去研究，然後就看到一個很有趣的名詞：Dependency Injection AngularJS 有一些很特別的參數，像是 $scope、$http 之類的，只要你的 function 是在 AngularJS 的 framework 內，然後接收的參數用到這些名字，例如： function($http, $q) { // do something with $http and $q } 這個 function 執行的時候，你不用管怎麼把正確的 $http 和 $q 傳給他，AngularJS 自己會幫你把他處理好，而這個特色就被稱為 Dependency Injection，當然除了內建的那些模組外，也可以自己註冊新的名稱對應到你開發的模組。 其實一開始看到這個特性的時候覺得有點神奇，很好奇怎麼做的，因為我想的到的就只有一個方法可以辦到，就是 Function.prototype.toString，這個...</b:summary>
				<b:mainContent><p>在公開 <a href="https://github.com/othree/javascript-libraries-syntax.vim">javascript-libraries-syntax.vim</a> 之後，我收到的第一個 Issue 就是支援 <a href="http://angularjs.org/">AngularJS</a>，因為我一直都沒寫過，所以就花了些時間下去研究，然後就看到一個很有趣的名詞：<strong>Dependency Injection</strong></p>

<p>AngularJS 有一些很特別的參數，像是 <code>$scope</code>、<code>$http</code> 之類的，只要你的 function 是在 AngularJS 的 framework 內，然後接收的參數用到這些名字，例如：</p>

<pre><code>function($http, $q) {
    // do something with $http and $q   
}
</code></pre>

<p>這個 function 執行的時候，你不用管怎麼把正確的 $http 和 $q 傳給他，AngularJS 自己會幫你把他處理好，而這個特色就被稱為 Dependency Injection，當然除了內建的那些模組外，也可以自己註冊新的名稱對應到你開發的模組。</p>

<p>其實一開始看到這個特性的時候覺得有點神奇，很好奇怎麼做的，因為我想的到的就只有一個方法可以辦到，就是 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString">Function.prototype.toString</a>，這個 method 會把整個 function 的定義從第一行開始輸出成字串，然後分析字串把參數抓出來，這樣就可以在執行前知道需要哪些模組，本來一直期待是不是有什麼神奇技巧，而不是用 toString 辦到的，結果去看了看原始碼，發現真的就是這樣做的，一下子神秘感就消失了～～</p>

<p>Merrick 有一篇 <a href="http://merrickchristensen.com/articles/javascript-dependency-injection.html">JavaScript Dependency Injection</a>，有比較清楚的介紹到 AngularJS 這塊是怎麼做的。不過其實我對於 AngularJS 的這個特性是不是能稱為 Dependency Injection 一直存疑。</p>

<p>在看介紹 Dependency Injection 的文章時，幾乎舉的例子都是在有 Interface 的語言下，程式內的的相依性都相依在 Interface 上，而不相依在實做的 instance 上，等到實際上跑的時候才根據情況丟不同的實做（implement），而 JavaScript 並沒有這層 interface 的設計，AngularJS 自然也沒有，為此我想了很久，也一直在找網路上的資源，直到昨天終於想通了。</p>

<p>Dependency Injection 的重點不在於用程式語言的 Interface 特性來把相依性抽離，而是利用這樣的設計，讓你的程式不要直接相依於實際的實體（instance），由於 JavaScript 是弱型別的語言，所以其實在定義 function 時，並不需要指定輸入參數的型別，利用這個特性，其實就已經可以達成 Depedency Injection 了，只要實際執行程式時，根據狀況丟入應該丟入的 instance 即可。</p>

<p>AngularJS 則是在這特性之上，利用參數名稱來當成相依的 Interface，實際上程式執行時會是那個模組的實體傳入，就要看是哪一個模組註冊到對應的名稱了。</p>

<p>在我終於想通之後，發現到其實 <a href="http://requirejs.org/">RequireJS</a> 也是很相似的架構，所以就搜尋了一下，果然也有人利用 RequireJS 來做 Dependency Injection，Eric Feminella 寫了 <a href="http://www.ericfeminella.com/blog/2012/12/15/basic-dependency-injection-with-requirejs/">Basic Dependency Injection with RequireJS</a> 這篇文章，裡面的例子很不錯，假設開發一個 Web Applicaiotion，同時需要支援 Desktop 和 Mobile，兩種環境要不同的介面，但是核心的程式運作是一樣的，和 UI 相關的東西則要有 Mobile 用和 Desktop 用，這時候就可以用 Dependency Injection 來根據不同環境，決定要丟 Mobile 版的 UI 模組還是 Desktop 版的，核心的模組則不需要考慮到不同環境的差異，只要確保不同的 UI 模組的介面是一樣的就可以了。</p>

<p>最後還要講的是 RequireJS 的一個語法：</p>

<pre><code>define(function (require) {
    var core = require('core'),
        ui = require('ui');

    // do something with core and ui
});
</code></pre>

<p>我第一次看到這種寫法時就覺得：「不對吧，這樣沒辦法確保這個模組執行時，裡面需要的 core 和 ui 已經有了啊。」因為除了去解析程式碼外，這樣子寫從外面根本不知道 function 裡面 require 了什麼東西，而且現在也不可能讓程式跑到某行暫時停下等其他模組準備好，所以看了 RequireJS 原始碼的結論是，它就是去分析程式碼裡面 require 了什麼東西，然後自動加到這個模組的相依性清單裡面這樣，一樣是用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString">Function.prototype.toString</a> 辦到的。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="1"></b:comments>


		</b:entry>

		<b:entry entryID="000743" baseName="this">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-19</b:date>
				<b:time>21:25:25</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>this</b:title>
			<b:content>
				<b:summary>這次 JSDC 2013 分享的投影片出來了，這次的主題是比較根基的東西，也算是我寫一陣子 JavaScript 後覺得可以整理出來的一個 Pattern，沒聽現場的，應該看投影片也可以知道我說的是什麼，本來題目是 Magic this，後來改成 this 了，不過已經生好的標題圖片不用太可惜，所以還是放上來了。 /*A_A*/...</b:summary>
				<b:mainContent><p>這次 JSDC 2013 分享的投影片出來了，這次的主題是比較根基的東西，也算是我寫一陣子 JavaScript 後覺得可以整理出來的一個 Pattern，沒聽現場的，應該看投影片也可以知道我說的是什麼，本來題目是 Magic this，後來改成 <strong>this</strong> 了，不過已經生好的標題圖片不用太可惜，所以還是放上來了。</p>

<script async="async" class="speakerdeck-embed" data-id="148e0f10a2b50130c7f86aa80182a416" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js">/*A_A*/</script>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000742" baseName="fasd-cli-booster">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-09</b:date>
				<b:time>21:12:45</b:time>
			</b:datetime>
			<b:category>unix</b:category>
			<b:title>fasd, 命令列加速工具</b:title>
			<b:content>
				<b:summary>以前曾經介紹過 autojump 這個很好用的快速切換目錄的指令，後來 大貓 跟我說有個叫 z 的，一樣用途，原理也差不多，不過 z 的位置比較好按些，最近在看 Vim Scripts 時，意外發現到有個 fasd，也是一樣的原理，不過他的功能比較強大，配合一些 alias 就可以做到和 z 或是 v 一樣的功能，作者對相關的領域很熟悉，對於常用 shell 的整合很好，像是 zsh 和 bash 的 指令補完 就都有支援，目前正在改用他，Mac 安裝很方便： brew install fasd 然後在 .bashrc 或是 .zshrc 加上 eval "$(fasd --init auto)"...</b:summary>
				<b:mainContent><p>以前曾經介紹過 <a href="https://blog.othree.net/log/2010/10/19/automjump/">autojump</a> 這個很好用的快速切換目錄的指令，後來 <a href="http://blog.miaout17.net">大貓</a> 跟我說有個叫 <a href="https://github.com/rupa/z">z</a> 的，一樣用途，原理也差不多，不過 z 的位置比較好按些，最近在看 <a href="http://www.vim.org/scripts/index.php">Vim Scripts</a> 時，意外發現到有個 <a href="https://github.com/clvv/fasd">fasd</a>，也是一樣的原理，不過他的功能比較強大，配合一些 alias 就可以做到和 <a href="https://github.com/rupa/z">z</a> 或是 <a href="https://github.com/rupa/v">v</a> 一樣的功能，作者對相關的領域很熟悉，對於常用 shell 的整合很好，像是 zsh 和 bash 的 <a href="http://zsh.sourceforge.net/Doc/Release/Completion-System.html">指令補完</a> 就都有支援，目前正在改用他，Mac 安裝很方便：</p>

<pre><code>brew install fasd
</code></pre>

<p>然後在 <code>.bashrc</code> 或是 <code>.zshrc</code> 加上</p>

<pre><code>eval "$(fasd --init auto)"
</code></pre>

<p>就可以了，其他環境有包好的就比較少了，可以看看他的 Wiki: <a href="https://github.com/clvv/fasd/wiki/Installing-via-Package-Managers">Installing via Package Managers</a>，其他的環境我測試過 Ubuntu 編譯安裝都很順利，基本上只是拷拷檔案而已。</p>

<p><a href="//www.flickr.com/photos/othree/8722512795/in/photostream" class="thumbnail">
  <img src="//farm8.staticflickr.com/7307/8722512795_57068f5c05_o.gif" width="804" height="483" alt="" />
</a></p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="2"></b:comments>


		</b:entry>

		<b:entry entryID="000741" baseName="chrome-debug-doc">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-09</b:date>
				<b:time>00:13:09</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>Chrome Debug 文件</b:title>
			<b:content>
				<b:summary>Google Chrome 開發工具的文件昨天有更新，不確定這整頁是新的還是改寫，不過總之是詳細很多的 Script Debugging 的使用說明，從詳細的介面介紹，到如何用這些功能都有說明，值得推薦一看。 另外還有一篇新的則是關於把開發工具導入開發流程內的文件，所以包括一些新功能像是 snippets 的介紹，也有 in place editing ，如何儲存修改過的檔案等。...</b:summary>
				<b:mainContent><p>Google Chrome 開發工具的文件昨天有更新，不確定這整頁是新的還是改寫，不過總之是詳細很多的 Script Debugging 的<a href="https://developers.google.com/chrome-developer-tools/docs/javascript-debugging">使用說明</a>，從詳細的介面介紹，到如何用這些功能都有說明，值得推薦一看。</p>

<p>另外還有一篇新的則是關於把開發工具導入<a href="https://developers.google.com/chrome-developer-tools/docs/authoring-development-workflow">開發流程內的文件</a>，所以包括一些新功能像是 snippets 的介紹，也有 in place editing ，如何儲存修改過的檔案等。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000740" baseName="2013-kyoto-sakura-day2">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-05</b:date>
				<b:time>00:12:48</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>2013 日本櫻花 京都 Day 2</b:title>
			<b:content>
				<b:summary> 前一篇：2013 日本賞櫻 京都 醍醐寺 第二天到京都，其實是到日本的第三天（不含入境那天），中間的第二天關東關西都在下雨，雖然當初這樣決定不是因為天氣因素，而是考慮到體力和休息時間的問題，不過運氣還算蠻不錯，因為這一天京都天氣沒很差，倒是東京聽說雨大到嚇人，其實本來天氣預報是說都會陰天，不過剛到京都沒想到還出現籃天，本來都計畫好要去喝咖啡了，馬上改目標跑去 Yuren 推薦的平野神社。...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659583313/" title="Flickr 上 othree 的 京都塔"><img src="//farm9.staticflickr.com/8109/8659583313_7716787b5d_b.jpg" width="683" height="1024" alt="京都塔" srcset="//farm9.staticflickr.com/8109/8659583313_7716787b5d.jpg 768w, //farm9.staticflickr.com/8109/8659583313_7716787b5d_b.jpg 768w 2x, //farm9.staticflickr.com/8109/8659583313_03315fbd65_k.jpg 2x" /></a></p>

<p>前一篇：<a href="https://blog.othree.net/log/2013/05/04/2013-daigoji-sakura/">2013 日本賞櫻 京都 醍醐寺</a></p>

<p>第二天到京都，其實是到日本的第三天（不含入境那天），中間的第二天關東關西都在下雨，雖然當初這樣決定不是因為天氣因素，而是考慮到體力和休息時間的問題，不過運氣還算蠻不錯，因為這一天京都天氣沒很差，倒是東京聽說雨大到嚇人，其實本來天氣預報是說都會陰天，不過剛到京都沒想到還出現籃天，本來都計畫好要去喝咖啡了，馬上改目標跑去 Yuren 推薦的平野神社。</p>
</b:mainContent>
				<b:extendContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659582147/" title="Flickr 上 othree 的 平野神社 櫻花"><img src="//farm9.staticflickr.com/8099/8659582147_62b1f530d9_b.jpg" width="1024" height="683" alt="平野神社 櫻花" srcset="//farm9.staticflickr.com/8099/8659582147_62b1f530d9.jpg 768w, //farm9.staticflickr.com/8099/8659582147_62b1f530d9_b.jpg 768w 2x, //farm9.staticflickr.com/8099/8659582147_11793628f6_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659582147/" title="Flickr 上 othree 的 平野神社 櫻花"><img src="//farm9.staticflickr.com/8099/8659582147_62b1f530d9_b.jpg" width="1024" height="683" alt="平野神社 櫻花" srcset="//farm9.staticflickr.com/8099/8659582147_62b1f530d9.jpg 768w, //farm9.staticflickr.com/8099/8659582147_62b1f530d9_b.jpg 768w 2x, //farm9.staticflickr.com/8099/8659582147_11793628f6_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674320733/" title="Flickr 上 othree 的 平野神社"><img src="//farm9.staticflickr.com/8386/8674320733_2e33f40067_b.jpg" width="1024" height="308" alt="平野神社" srcset="//farm9.staticflickr.com/8386/8674320733_2e33f40067.jpg 768w, //farm9.staticflickr.com/8386/8674320733_2e33f40067_b.jpg 768w 2x, //farm9.staticflickr.com/8386/8674320733_0c8998e3fa_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659578059/" title="Flickr 上 othree 的 平野神社 櫻花"><img src="//farm9.staticflickr.com/8102/8659578059_eda9490d42_b.jpg" width="1024" height="683" alt="平野神社 櫻花" srcset="//farm9.staticflickr.com/8102/8659578059_eda9490d42.jpg 768w, //farm9.staticflickr.com/8102/8659578059_eda9490d42_b.jpg 768w 2x, //farm9.staticflickr.com/8102/8659578059_4306831f52_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659576699/" title="Flickr 上 othree 的 平野神社 櫻花"><img src="//farm9.staticflickr.com/8109/8659576699_640dac141c_b.jpg" width="1024" height="683" alt="平野神社 櫻花" srcset="//farm9.staticflickr.com/8109/8659576699_640dac141c.jpg 768w, //farm9.staticflickr.com/8109/8659576699_640dac141c_b.jpg 768w 2x, //farm9.staticflickr.com/8109/8659576699_7debafd072_k.jpg 2x" /></a></p>

<p>離開平野神社後，天氣又越來越陰了，所以又回歸咖啡館行程，本來早上要去 Smart Cafe，中午去茂庵，不過由於早上改去平野神社，變成就直接去茂庵了。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8661201960/" title="Flickr 上 othree 的 茂庵"><img src="//farm9.staticflickr.com/8120/8661201960_8d6cb23983_b.jpg" width="1024" height="683" alt="茂庵" srcset="//farm9.staticflickr.com/8120/8661201960_8d6cb23983.jpg 768w, //farm9.staticflickr.com/8120/8661201960_8d6cb23983_b.jpg 768w 2x, //farm9.staticflickr.com/8120/8661201960_7967d00700_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8660103829/" title="Flickr 上 othree 的 茂庵"><img src="//farm9.staticflickr.com/8116/8660103829_5a0132972d_b.jpg" width="1024" height="683" alt="茂庵" srcset="//farm9.staticflickr.com/8116/8660103829_5a0132972d.jpg 768w, //farm9.staticflickr.com/8116/8660103829_5a0132972d_b.jpg 768w 2x, //farm9.staticflickr.com/8116/8660103829_ff3d4da1af_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8661204824/" title="Flickr 上 othree 的 茂庵"><img src="//farm9.staticflickr.com/8119/8661204824_30ea7c7664_b.jpg" width="1024" height="683" alt="茂庵" srcset="//farm9.staticflickr.com/8119/8661204824_30ea7c7664.jpg 768w, //farm9.staticflickr.com/8119/8661204824_30ea7c7664_b.jpg 768w 2x, //farm9.staticflickr.com/8119/8661204824_270605021a_k.jpg 2x" /></a></p>

<p>會選擇這間主要是因為它位置很特別，在京都吉田山上，整個是位在森林裡面，而且路上的地圖還沒有標示，一度擔心會找不到，不過還好那邊山路不複雜，走一陣子還是找到了。算是山頂的位置，店在二樓其實窗外還看的到京都市，整個氣氛很悠閒，不過要是在台灣的話，店前面那排樹大概會小命不保吧...</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8663506222/" title="Flickr 上 othree 的 圓山公園"><img src="//farm9.staticflickr.com/8247/8663506222_239e2e590e_b.jpg" width="1024" height="683" alt="圓山公園" srcset="//farm9.staticflickr.com/8247/8663506222_239e2e590e.jpg 768w, //farm9.staticflickr.com/8247/8663506222_239e2e590e_b.jpg 768w 2x, //farm9.staticflickr.com/8247/8663506222_96a5cc0a78_k.jpg 2x" /></a></p>

<p>茂庵那邊休息一陣子之後，就進入下午的行程，從圓山公園走二年坂三年坂去清水寺，圓山公園很有名的這株枝垂櫻花開的還是很多，不過我發現有好幾支樹枝都已經被鋸掉了，好看的角度已經不多了，希望狀況不要惡化啊。</p>

<p>二年坂三年坂這段路這次是第二次走，一直都蠻喜歡這段路的，然後碰上櫻花季，即使不是假日，人也是超多的，還看到很多人穿和服，有日本當地的人也有很多觀光客穿，所以就盜攝了起來~~</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8663497572/" title="Flickr 上 othree 的 和服少女"><img src="//farm9.staticflickr.com/8251/8663497572_cd245dd79e_b.jpg" width="683" height="1024" alt="和服少女" srcset="//farm9.staticflickr.com/8251/8663497572_cd245dd79e.jpg 768w, //farm9.staticflickr.com/8251/8663497572_cd245dd79e_b.jpg 768w 2x, //farm9.staticflickr.com/8251/8663497572_a7222e4c64_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8663489278/" title="Flickr 上 othree 的 和服少女"><img src="//farm9.staticflickr.com/8246/8663489278_2d74217319_b.jpg" width="683" height="1024" alt="和服少女" srcset="//farm9.staticflickr.com/8246/8663489278_2d74217319.jpg 768w, //farm9.staticflickr.com/8246/8663489278_2d74217319_b.jpg 768w 2x, //farm9.staticflickr.com/8246/8663489278_62d7eddde6_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8663485780/" title="Flickr 上 othree 的 和服少女"><img src="//farm9.staticflickr.com/8246/8663485780_4a159f35fa_b.jpg" width="683" height="1024" alt="和服少女" srcset="//farm9.staticflickr.com/8246/8663485780_4a159f35fa.jpg 768w, //farm9.staticflickr.com/8246/8663485780_4a159f35fa_b.jpg 768w 2x, //farm9.staticflickr.com/8246/8663485780_0d5a43b1a0_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8662384155/" title="Flickr 上 othree 的 京都塔"><img src="//farm9.staticflickr.com/8247/8662384155_b6ce5a3ccb_b.jpg" width="1024" height="683" alt="京都塔" srcset="//farm9.staticflickr.com/8247/8662384155_b6ce5a3ccb.jpg 768w, //farm9.staticflickr.com/8247/8662384155_b6ce5a3ccb_b.jpg 768w 2x, //farm9.staticflickr.com/8247/8662384155_caecec9f22_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8664862855/" title="Flickr 上 othree 的 清水寺 櫻花"><img src="//farm9.staticflickr.com/8249/8664862855_e3e2c3e664_b.jpg" width="683" height="1024" alt="清水寺 櫻花" srcset="//farm9.staticflickr.com/8249/8664862855_e3e2c3e664.jpg 768w, //farm9.staticflickr.com/8249/8664862855_e3e2c3e664_b.jpg 768w 2x, //farm9.staticflickr.com/8249/8664862855_2bf2fe7e34_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8664860941/" title="Flickr 上 othree 的 京都塔"><img src="//farm9.staticflickr.com/8266/8664860941_4bb65372bf_b.jpg" width="1024" height="683" alt="京都塔" srcset="//farm9.staticflickr.com/8266/8664860941_4bb65372bf.jpg 768w, //farm9.staticflickr.com/8266/8664860941_4bb65372bf_b.jpg 768w 2x, //farm9.staticflickr.com/8266/8664860941_ad83ed240f_k.jpg 2x" /></a></p>

<p>最後到清水寺，雖然還沒開放夜間參觀，還是先買了日間參觀的票進去看看，順便打發時間，等開始清場時才去排夜間參觀的隊伍，不過隊伍有點長，下面這張照片的左邊的人全部都是在排隊的，更不用說我後面還有更長的人龍。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8664848031/" title="Flickr 上 othree 的 清水寺 夜櫻"><img src="//farm9.staticflickr.com/8258/8664848031_7853cbe1c2_b.jpg" width="1024" height="683" alt="清水寺 夜櫻" srcset="//farm9.staticflickr.com/8258/8664848031_7853cbe1c2.jpg 768w, //farm9.staticflickr.com/8258/8664848031_7853cbe1c2_b.jpg 768w 2x, //farm9.staticflickr.com/8258/8664848031_f9d729b83f_k.jpg 2x" /></a></p>

<p>這一天的重頭戲就是清水寺夜櫻了，因為是夜櫻所以陰天也沒關係啊，心裡打著這樣的算盤XD</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8665938970/" title="Flickr 上 othree 的 清水寺 夜櫻"><img src="//farm9.staticflickr.com/8251/8665938970_ddfa012b01_b.jpg" width="1024" height="683" alt="清水寺 夜櫻" srcset="//farm9.staticflickr.com/8251/8665938970_ddfa012b01.jpg 768w, //farm9.staticflickr.com/8251/8665938970_ddfa012b01_b.jpg 768w 2x, //farm9.staticflickr.com/8251/8665938970_6c91fd8930_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8665932500/" title="Flickr 上 othree 的 清水寺 夜櫻"><img src="//farm9.staticflickr.com/8247/8665932500_cbbcfd45ef_b.jpg" width="1024" height="683" alt="清水寺 夜櫻" srcset="//farm9.staticflickr.com/8247/8665932500_cbbcfd45ef.jpg 768w, //farm9.staticflickr.com/8247/8665932500_cbbcfd45ef_b.jpg 768w 2x, //farm9.staticflickr.com/8247/8665932500_9cf6079b03_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8664828455/" title="Flickr 上 othree 的 清水寺 夜櫻"><img src="//farm9.staticflickr.com/8256/8664828455_538b2f832e_b.jpg" width="683" height="1024" alt="清水寺 夜櫻" srcset="//farm9.staticflickr.com/8256/8664828455_538b2f832e.jpg 768w, //farm9.staticflickr.com/8256/8664828455_538b2f832e_b.jpg 768w 2x, //farm9.staticflickr.com/8256/8664828455_432bd1a2e9_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8664825451/" title="Flickr 上 othree 的 清水寺 夜櫻"><img src="//farm9.staticflickr.com/8245/8664825451_447f9e3de4_b.jpg" width="1024" height="683" alt="清水寺 夜櫻" srcset="//farm9.staticflickr.com/8245/8664825451_447f9e3de4.jpg 768w, //farm9.staticflickr.com/8245/8664825451_447f9e3de4_b.jpg 768w 2x, //farm9.staticflickr.com/8245/8664825451_254684d8a2_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8665924154/" title="Flickr 上 othree 的 清水寺 夜櫻"><img src="//farm9.staticflickr.com/8242/8665924154_e83e894c3f_b.jpg" width="1024" height="683" alt="清水寺 夜櫻" srcset="//farm9.staticflickr.com/8242/8665924154_e83e894c3f.jpg 768w, //farm9.staticflickr.com/8242/8665924154_e83e894c3f_b.jpg 768w 2x, //farm9.staticflickr.com/8242/8665924154_b6f026c75a_k.jpg 2x" /></a></p>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000739" baseName="2013-daigoji-sakura">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-04</b:date>
				<b:time>00:05:19</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>2013 日本賞櫻 京都 醍醐寺</b:title>
			<b:content>
				<b:summary> 上一篇：2013 日本賞櫻 京都 第一天 ， 下一篇：2013 日本櫻花 京都 Day 2 其實昨天的京都第一天，我漏掉了另一個重要景點，就是醍醐寺，台灣的日本遊記 blog 常常會看到說，如果京都只有看一個地方的櫻花，就到醍醐寺，我必須說所言不假啊，所以乾脆獨立一篇來貼醍醐寺的照片好了。...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674299779/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8266/8674299779_7c66d9f9e2_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8266/8674299779_7c66d9f9e2.jpg 768w, //farm9.staticflickr.com/8266/8674299779_7c66d9f9e2_b.jpg 768w 2x, //farm9.staticflickr.com/8266/8674299779_77da66e5aa_k.jpg 2x" /></a></p>

<p>上一篇：<a href="https://blog.othree.net/log/2013/05/03/2013-kyoto-sakura-day1/">2013 日本賞櫻 京都 第一天</a> ，
下一篇：<a href="https://blog.othree.net/log/2013/05/05/2013-kyoto-sakura-day2/">2013 日本櫻花 京都 Day 2</a></p>

<p>其實昨天的京都第一天，我漏掉了另一個重要景點，就是醍醐寺，台灣的日本遊記 blog 常常會看到說，如果京都只有看一個地方的櫻花，就到醍醐寺，我必須說所言不假啊，所以乾脆獨立一篇來貼醍醐寺的照片好了。</p>
</b:mainContent>
				<b:extendContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675406204/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8539/8675406204_f0fbc5dd5f_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8539/8675406204_f0fbc5dd5f.jpg 768w, //farm9.staticflickr.com/8539/8675406204_f0fbc5dd5f_b.jpg 768w 2x, //farm9.staticflickr.com/8539/8675406204_4b1c33a870_k.jpg 2x" /></a></p>

<p>門口的兩株櫻花就很厲害了，顏色剛好對比強烈，不過其中白色那珠我沒拍好。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675405046/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8389/8675405046_af93973d28_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8389/8675405046_af93973d28.jpg 768w, //farm9.staticflickr.com/8389/8675405046_af93973d28_b.jpg 768w 2x, //farm9.staticflickr.com/8389/8675405046_8c004949a5_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674297547/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8389/8674297547_a6ca779526_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8389/8674297547_a6ca779526.jpg 768w, //farm9.staticflickr.com/8389/8674297547_a6ca779526_b.jpg 768w 2x, //farm9.staticflickr.com/8389/8674297547_ceb0c14878_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675399818/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8389/8675399818_f5aa2d9658_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8389/8675399818_f5aa2d9658.jpg 768w, //farm9.staticflickr.com/8389/8675399818_f5aa2d9658_b.jpg 768w 2x, //farm9.staticflickr.com/8389/8675399818_d6b8d5e2a9_k.jpg 2x" /></a></p>

<p>這株也很大，還有很多支架來撐著它的樹枝，這邊是三寶院要花錢進來的，不過這塊櫻花比較少，主要是有一個很漂亮還蠻大的庭院可以看，庭院是不能拍照的，其實我差點都忘了，差點只記得櫻花很少。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675398390/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8526/8675398390_d453e682b0_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8526/8675398390_d453e682b0.jpg 768w, //farm9.staticflickr.com/8526/8675398390_d453e682b0_b.jpg 768w 2x, //farm9.staticflickr.com/8526/8675398390_79f59da33a_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674292157/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8538/8674292157_03624173dd_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8538/8674292157_03624173dd.jpg 768w, //farm9.staticflickr.com/8538/8674292157_03624173dd_b.jpg 768w 2x, //farm9.staticflickr.com/8538/8674292157_19a537de69_k.jpg 2x" /></a></p>

<p>往伽藍的路上，兩邊也是開得很茂密，不過這次我沒進去伽藍。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674289607/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8122/8674289607_3d0d423625_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8122/8674289607_3d0d423625.jpg 768w, //farm9.staticflickr.com/8122/8674289607_3d0d423625_b.jpg 768w 2x, //farm9.staticflickr.com/8122/8674289607_9134713bfe_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675389882/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8119/8675389882_b6c7b28386_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8119/8675389882_b6c7b28386.jpg 768w, //farm9.staticflickr.com/8119/8675389882_b6c7b28386_b.jpg 768w 2x, //farm9.staticflickr.com/8119/8675389882_b485deae7e_k.jpg 2x" /></a></p>

<p>靈寶館這邊走道比較小，不過就更顯的櫻花茂密。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675387270/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8397/8675387270_acd428175e_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8397/8675387270_acd428175e.jpg 768w, //farm9.staticflickr.com/8397/8675387270_acd428175e_b.jpg 768w 2x, //farm9.staticflickr.com/8397/8675387270_cb35add63f_k.jpg 2x" /></a></p>

<p>靈寶館裡面有很多珠很大的櫻花樹，進來看櫻花很值得。話說這張照片右下角有一位穿風衣的男生，好像一直在等人散去想要拍照，我等他移動等好久，後來我放棄繼續往前走，繞了一圈回來他還在等，然後他想要拍的應該就是下面這張的這幾株，只能說有廣角真好XD。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675385814/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8530/8675385814_a1f2e41c53_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8530/8675385814_a1f2e41c53.jpg 768w, //farm9.staticflickr.com/8530/8675385814_a1f2e41c53_b.jpg 768w 2x, //farm9.staticflickr.com/8530/8675385814_ec0650b76c_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674280913/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8114/8674280913_a3d8fa3b27_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8114/8674280913_a3d8fa3b27.jpg 768w, //farm9.staticflickr.com/8114/8674280913_a3d8fa3b27_b.jpg 768w 2x, //farm9.staticflickr.com/8114/8674280913_ac28f2ce5c_k.jpg 2x" /></a></p>

<p>這株應該是這趟看到最大的櫻花樹了，而且樹枝都很完整，也還開的很多。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674280113/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8392/8674280113_f8649f6285_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8392/8674280113_f8649f6285.jpg 768w, //farm9.staticflickr.com/8392/8674280113_f8649f6285_b.jpg 768w 2x, //farm9.staticflickr.com/8392/8674280113_2dd2eead65_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675383032/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8386/8675383032_588f5673f4_b.jpg" width="683" height="1024" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8386/8675383032_588f5673f4.jpg 768w, //farm9.staticflickr.com/8386/8675383032_588f5673f4_b.jpg 768w 2x, //farm9.staticflickr.com/8386/8675383032_bb568a3441_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674278043/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8396/8674278043_dcffb876bb_b.jpg" width="683" height="1024" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8396/8674278043_dcffb876bb.jpg 768w, //farm9.staticflickr.com/8396/8674278043_dcffb876bb_b.jpg 768w 2x, //farm9.staticflickr.com/8396/8674278043_3fe1d785b6_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675380152/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8525/8675380152_a5aa9a1150_b.jpg" width="683" height="1024" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8525/8675380152_a5aa9a1150.jpg 768w, //farm9.staticflickr.com/8525/8675380152_a5aa9a1150_b.jpg 768w 2x, //farm9.staticflickr.com/8525/8675380152_0ae5ab21f4_k.jpg 2x" /></a></p>

<p>靈寶館後面很多枝垂櫻(?)，也稍微可以看到些<a href="http://www.flickr.com/photos/othree/8667542570/in/set-72157633229610920">櫻吹雪</a>。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674275473/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8126/8674275473_9f34b8b5e1_b.jpg" width="683" height="1024" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8126/8674275473_9f34b8b5e1.jpg 768w, //farm9.staticflickr.com/8126/8674275473_9f34b8b5e1_b.jpg 768w 2x, //farm9.staticflickr.com/8126/8674275473_7c08ee1dc5_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675377992/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8395/8675377992_0144e3bf36_b.jpg" width="683" height="1024" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8395/8675377992_0144e3bf36.jpg 768w, //farm9.staticflickr.com/8395/8675377992_0144e3bf36_b.jpg 768w 2x, //farm9.staticflickr.com/8395/8675377992_6f3fa28aa8_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674273553/" title="Flickr 上 othree 的 醍醐寺 櫻花"><img src="//farm9.staticflickr.com/8387/8674273553_8c65bb53ea_b.jpg" width="1024" height="683" alt="醍醐寺 櫻花" srcset="//farm9.staticflickr.com/8387/8674273553_8c65bb53ea.jpg 768w, //farm9.staticflickr.com/8387/8674273553_8c65bb53ea_b.jpg 768w 2x, //farm9.staticflickr.com/8387/8674273553_f4141f73bc_k.jpg 2x" /></a></p>

<p>最後這張是另外一個角度拍剛剛說最大的那株櫻花，大到我的廣角也輸了 T_T。</p>

<p>總結是，醍醐寺要花錢的幾個地方都蠻值得的，下次來應該直接買三個點都進去的套票，比較便宜，然後這次故意沒進去伽藍，想要留著下次去，故意留點遺憾，回來後聽朋友說伽藍裡面的櫻花花期也比較晚，所以好像沒進去運氣還蠻不錯的。</p>

<ul>
<li><a href="http://www.daigoji.or.jp/">醍醐寺</a></li>
</ul>
</b:extendContent>
			</b:content>

			<b:comments commentCount="1"></b:comments>


		</b:entry>

		<b:entry entryID="000738" baseName="deferred-then">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-03</b:date>
				<b:time>20:11:59</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>deferred.then</b:title>
			<b:content>
				<b:summary>前陣子 Bingo 告知才發現，jQuery Deferred 物件的 pipe 在 1.8 被標為 Deprecated 了，以後請改用 then，兩者其實不管回傳值的話，行為還蠻接近的，現在的 pipe 還沒移除掉，不過已經是新版的 then 的 alias 了。看文件的話如果不看下面的敘述，很可能不知道 1.8 前後的差異，雖然回傳的都是 Promise 物件，不過 1.8 之前回傳的是同一個 Promise 物件，1.8 之後回傳的則是新的，和原來 pipe 行為一樣，結果修改過的 Promise 物件。...</b:summary>
				<b:mainContent><p>前陣子 <a href="http://blog.blackbing.net/">Bingo</a> 告知才發現，jQuery Deferred 物件的 <a href="http://api.jquery.com/deferred.pipe/">pipe</a> 在 1.8 被標為 <strong>Deprecated</strong> 了，以後請改用 <a href="http://api.jquery.com/deferred.then/">then</a>，兩者其實不管回傳值的話，行為還蠻接近的，現在的 pipe 還沒移除掉，不過已經是新版的 then 的 alias 了。看文件的話如果不看下面的敘述，很可能不知道 1.8 前後的差異，雖然回傳的都是 Promise 物件，不過 1.8 之前回傳的是同一個 Promise 物件，1.8 之後回傳的則是新的，和原來 pipe 行為一樣，結果修改過的 Promise 物件。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000737" baseName="2013-kyoto-sakura-day1">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-03</b:date>
				<b:time>01:12:50</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>2013 日本賞櫻 京都 第一天</b:title>
			<b:content>
				<b:summary> 前一篇：2013 日本賞櫻， 下一篇：2013 日本賞櫻 京都 醍醐寺 這次所謂的往西，其實就是到京都，如果搭新幹線的話，來回票價要兩萬四日幣左右，其他交通手段的時間損失太大了，其實根本沒考慮，還好瑞男有提醒我 JR Pass 這東西，全日本 Pass 只要兩萬八日幣，所以我只要去個兩天就賺回本了，而且東京的 JR 交通也都還可以用，最後規劃就是到日本後的第一和第三天去京都看櫻花，隔一天是因為睡眠時間，不乾脆住在那是因為都沒房間了，幸好我當初還不確定行程時先用交通方便來找住宿地點，挑了品川來住，新幹線有停，所以可以直接品川到京都，沒去大阪是因為還要再轉車，時間消耗和變數太多，因為我要趕早上第一班和晚上最後一班，而且還只能搭每站停的車次，比較麻煩的是晚上九點就發車了，不過回到東京其實已經十一點半了，要是錯過就會很慘，而且我還要看夜櫻，兩天晚上都覺得好可怕XD。...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8658490952/" title="Flickr 上 othree 的 JR 京都"><img src="//farm9.staticflickr.com/8115/8658490952_e5817c7346_b.jpg" width="1024" height="683" alt="JR 京都" srcset="//farm9.staticflickr.com/8115/8658490952_e5817c7346.jpg 768w, //farm9.staticflickr.com/8115/8658490952_e5817c7346_b.jpg 768w 2x, //farm9.staticflickr.com/8115/8658490952_c043710da8_k.jpg 2x" /></a></p>

<p>前一篇：<a href="https://blog.othree.net/log/2013/05/02/2013-sakura/">2013 日本賞櫻</a>，
下一篇：<a href="https://blog.othree.net/log/2013/05/04/2013-daigoji-sakura/">2013 日本賞櫻 京都 醍醐寺</a></p>

<p>這次所謂的往西，其實就是到京都，如果搭新幹線的話，來回票價要兩萬四日幣左右，其他交通手段的時間損失太大了，其實根本沒考慮，還好瑞男有提醒我 JR Pass 這東西，全日本 Pass 只要兩萬八日幣，所以我只要去個兩天就賺回本了，而且東京的 JR 交通也都還可以用，最後規劃就是到日本後的第一和第三天去京都看櫻花，隔一天是因為睡眠時間，不乾脆住在那是因為都沒房間了，幸好我當初還不確定行程時先用交通方便來找住宿地點，挑了品川來住，新幹線有停，所以可以直接品川到京都，沒去大阪是因為還要再轉車，時間消耗和變數太多，因為我要趕早上第一班和晚上最後一班，而且還只能搭每站停的車次，比較麻煩的是晚上九點就發車了，不過回到東京其實已經十一點半了，要是錯過就會很慘，而且我還要看夜櫻，兩天晚上都覺得好可怕XD。</p>
</b:mainContent>
				<b:extendContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8654441139/" title="Flickr 上 othree 的 蹴上傾斜鐵道 櫻花"><img src="//farm9.staticflickr.com/8100/8654441139_31e6fea135_b.jpg" width="1024" height="683" alt="蹴上傾斜鐵道 櫻花" srcset="//farm9.staticflickr.com/8100/8654441139_31e6fea135.jpg 768w, //farm9.staticflickr.com/8100/8654441139_31e6fea135_b.jpg 768w 2x, //farm9.staticflickr.com/8100/8654441139_fc2197f8ac_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8655541920/" title="Flickr 上 othree 的 蹴上傾斜鐵道 櫻花"><img src="//farm9.staticflickr.com/8244/8655541920_4c7bc8c985_b.jpg" width="1024" height="683" alt="蹴上傾斜鐵道 櫻花" srcset="//farm9.staticflickr.com/8244/8655541920_4c7bc8c985.jpg 768w, //farm9.staticflickr.com/8244/8655541920_4c7bc8c985_b.jpg 768w 2x, //farm9.staticflickr.com/8244/8655541920_fa5251bb79_k.jpg 2x" /></a></p>

<p>不過有衝京都真好，第一站去了蹴上傾斜鐵道，這邊櫻花就很漂亮了，而且因為是斜坡的關係，有些地方櫻花就在垂手可得的位置，讓我可以趁機近拍上幾張，這邊大致繞一圈後，本來應該是要往下一個點移動的，不過發現很多人都往一條巷子移動，就跟著走過去，結果跑到南禪寺。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8655539174/" title="Flickr 上 othree 的 南禪寺"><img src="//farm9.staticflickr.com/8103/8655539174_91d51c90f1_b.jpg" width="1024" height="683" alt="南禪寺" srcset="//farm9.staticflickr.com/8103/8655539174_91d51c90f1.jpg 768w, //farm9.staticflickr.com/8103/8655539174_91d51c90f1_b.jpg 768w 2x, //farm9.staticflickr.com/8103/8655539174_574127cf4d_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8655538152/" title="Flickr 上 othree 的 南禪寺"><img src="//farm9.staticflickr.com/8241/8655538152_47ca032f5a_b.jpg" width="1024" height="683" alt="南禪寺" srcset="//farm9.staticflickr.com/8241/8655538152_47ca032f5a.jpg 768w, //farm9.staticflickr.com/8241/8655538152_47ca032f5a_b.jpg 768w 2x, //farm9.staticflickr.com/8241/8655538152_777229a227_k.jpg 2x" /></a></p>

<p>這邊沒有走到很裡面，不過有上三門拍附近的風景，還蠻喜歡這種看過去到處有櫻花樹點綴的景色。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8657382227/" title="Flickr 上 othree 的 一澤信三郎"><img src="//farm9.staticflickr.com/8109/8657382227_9b9b7c7269_b.jpg" width="1024" height="683" alt="一澤信三郎" srcset="//farm9.staticflickr.com/8109/8657382227_9b9b7c7269.jpg 768w, //farm9.staticflickr.com/8109/8657382227_9b9b7c7269_b.jpg 768w 2x, //farm9.staticflickr.com/8109/8657382227_edad4643a1_k.jpg 2x" /></a></p>

<p>一澤信三郎帆布是上次到京都就想去的店，不過上次沒時間，這次才有機會過來，買了一個背包打算接下來幾天用，這次有很多東西都是當地買的，包括打發時間用的 3DS LL 和這邊買的背包，其實買之前還猶豫蠻久的，因為有些貴，不過還好有買下去，後面幾天的行程要是沒有雙肩背包的話應該會累死（其實根本就有比較便宜的雙肩背包）。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8657379659/" title="Flickr 上 othree 的 白川"><img src="//farm9.staticflickr.com/8101/8657379659_f672869342_b.jpg" width="683" height="1024" alt="白川" srcset="//farm9.staticflickr.com/8101/8657379659_f672869342.jpg 768w, //farm9.staticflickr.com/8101/8657379659_f672869342_b.jpg 768w 2x, //farm9.staticflickr.com/8101/8657379659_e2e22a0d88_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8658486340/" title="Flickr 上 othree 的 白川"><img src="//farm9.staticflickr.com/8116/8658486340_1396d53d53_b.jpg" width="1024" height="683" alt="白川" srcset="//farm9.staticflickr.com/8116/8658486340_1396d53d53.jpg 768w, //farm9.staticflickr.com/8116/8658486340_1396d53d53_b.jpg 768w 2x, //farm9.staticflickr.com/8116/8658486340_109e14a343_k.jpg 2x" /></a></p>

<p>白川真不愧是賞櫻的有名景點，白天人就很多了，要拍到沒人的樣子大概只有很早就來吧，雖然我覺得晚上的夜櫻更漂亮，不過晚上應該沒有沒人的時間吧...</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8675420624/" title="Flickr 上 othree 的 鴨川"><img src="//farm9.staticflickr.com/8124/8675420624_975c1b8b75_b.jpg" width="1024" height="308" alt="鴨川" srcset="//farm9.staticflickr.com/8124/8675420624_975c1b8b75.jpg 768w, //farm9.staticflickr.com/8124/8675420624_975c1b8b75_b.jpg 768w 2x, //farm9.staticflickr.com/8124/8675420624_3141dc8ad6_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8658485194/" title="Flickr 上 othree 的 鴨川"><img src="//farm9.staticflickr.com/8104/8658485194_78dc98e2b5_b.jpg" width="1024" height="683" alt="鴨川" srcset="//farm9.staticflickr.com/8104/8658485194_78dc98e2b5.jpg 768w, //farm9.staticflickr.com/8104/8658485194_78dc98e2b5_b.jpg 768w 2x, //farm9.staticflickr.com/8104/8658485194_15245989fc_k.jpg 2x" /></a></p>

<p>在很不錯的時間點經過鴨川。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8657376365/" title="Flickr 上 othree 的 高瀨川"><img src="//farm9.staticflickr.com/8100/8657376365_6f20f416a1_b.jpg" width="1024" height="683" alt="高瀨川" srcset="//farm9.staticflickr.com/8100/8657376365_6f20f416a1.jpg 768w, //farm9.staticflickr.com/8100/8657376365_6f20f416a1_b.jpg 768w 2x, //farm9.staticflickr.com/8100/8657376365_6e9ac189cc_k.jpg 2x" /></a></p>

<p>高瀨川的櫻花也很多，不過和白川比起來，主要差異是周邊景色，高瀨川周邊都是比較現代的建築，白川那邊有一整段就是很古風，要是人少一些就更好了。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8657375823/" title="Flickr 上 othree 的 菊一文字"><img src="//farm9.staticflickr.com/8126/8657375823_80b6373947_b.jpg" width="1024" height="683" alt="菊一文字" srcset="//farm9.staticflickr.com/8126/8657375823_80b6373947.jpg 768w, //farm9.staticflickr.com/8126/8657375823_80b6373947_b.jpg 768w 2x, //farm9.staticflickr.com/8126/8657375823_8a53f3c509_k.jpg 2x" /></a></p>

<p>在等待天黑的時間，去了一趟菊一文字買剪刀和指甲刀，這也是本來就預定的行程之一，櫥窗裡的刀子真是很漂亮，那紋路不是去刻出來的，而是特殊的打造方法產生的。</p>

<p>第一天最後的重頭戲就是白川夜櫻了，高瀨川其實也有一段有打燈，不過很少人走過去看就是，位置是四条以南，其實明明就是四条以北人比較多，不知道為什麼只有南邊有打燈。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659758660/" title="Flickr 上 othree 的 白川夜櫻"><img src="//farm9.staticflickr.com/8119/8659758660_f4fe350593_b.jpg" width="1024" height="683" alt="白川夜櫻" srcset="//farm9.staticflickr.com/8119/8659758660_f4fe350593.jpg 768w, //farm9.staticflickr.com/8119/8659758660_f4fe350593_b.jpg 768w 2x, //farm9.staticflickr.com/8119/8659758660_363368d964_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8658652575/" title="Flickr 上 othree 的 白川夜櫻"><img src="//farm9.staticflickr.com/8099/8658652575_2e28e193c4_b.jpg" width="1024" height="683" alt="白川夜櫻" srcset="//farm9.staticflickr.com/8099/8658652575_2e28e193c4.jpg 768w, //farm9.staticflickr.com/8099/8658652575_2e28e193c4_b.jpg 768w 2x, //farm9.staticflickr.com/8099/8658652575_14fb991ff3_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8659758100/" title="Flickr 上 othree 的 白川夜櫻"><img src="//farm9.staticflickr.com/8126/8659758100_d2b5b4f889_b.jpg" width="1024" height="683" alt="白川夜櫻" srcset="//farm9.staticflickr.com/8126/8659758100_d2b5b4f889.jpg 768w, //farm9.staticflickr.com/8126/8659758100_d2b5b4f889_b.jpg 768w 2x, //farm9.staticflickr.com/8126/8659758100_93daea0039_k.jpg 2x" /></a></p>

<p>然後也就是這天我注意到<a href="https://twitter.com/othree/status/324703428204957699">新幹線的廁所有多大的</a>。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8658650037/" title="Flickr 上 othree 的 新幹線"><img src="//farm9.staticflickr.com/8120/8658650037_a03436746f_b.jpg" width="1024" height="683" alt="新幹線" srcset="//farm9.staticflickr.com/8120/8658650037_a03436746f.jpg 768w, //farm9.staticflickr.com/8120/8658650037_a03436746f_b.jpg 768w 2x, //farm9.staticflickr.com/8120/8658650037_1be3f8b708_k.jpg 2x" /></a></p>
</b:extendContent>
			</b:content>

			<b:comments commentCount="2"></b:comments>


		</b:entry>

		<b:entry entryID="000736" baseName="dnssec">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-02</b:date>
				<b:time>11:46:40</b:time>
			</b:datetime>
			<b:category>server</b:category>
			<b:title>DNSSEC</b:title>
			<b:content>
				<b:summary>前幾天我的網域名稱 othree.net 突然無法從 Google 的 Public DNS 8.8.8.8 查到，經過一些交叉比對後，發現 Google Public DNS 和 Linode 內部用的 DNS 查不到，其他大部分的 DNS 都查的到，一時也不知道到底是什麼問題，就和 namecheap 聯絡，結果對方客服還蠻鬼打牆的，聯繫兩次都說設定沒問題，他們連的到，有問題也是 Google 的，還好 DK 有跟我說可能和 DNSSEC 有關係，讓我比較好找問題，其實我也有跟 namecheap 的人說到 DNSSEC，但是他們好像沒聽到一樣，讓我有些訝異的是， namecheap 的人對於 Google Public DNS 查不到他們客戶的 domain 覺得好像沒什麼，沒有很積極找問題。 還好 Google...</b:summary>
				<b:mainContent><p>前幾天我的網域名稱 <strong>othree.net</strong> 突然無法從 Google 的 Public DNS 8.8.8.8 查到，經過一些交叉比對後，發現 Google Public DNS 和 Linode 內部用的 DNS 查不到，其他大部分的 DNS 都查的到，一時也不知道到底是什麼問題，就和 namecheap 聯絡，結果對方客服還蠻鬼打牆的，聯繫兩次都說設定沒問題，他們連的到，有問題也是 Google 的，還好 DK 有跟我說可能和 DNSSEC 有關係，讓我比較好找問題，其實我也有跟 namecheap 的人說到 DNSSEC，但是他們好像沒聽到一樣，讓我有些訝異的是， namecheap 的人對於 Google Public DNS 查不到他們客戶的 domain 覺得好像沒什麼，沒有很積極找問題。</p>

<p>還好 Google Public DNS 有 mailing-list，可以上去問這種問題，結果對方說我的 DNSSEC 驗證不過，附上 <a href="http://dnsviz.net/">DNSViz</a> 結果給我。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8699979829/" title="Flickr 上 othree 的 Bogus"><img src="//farm9.staticflickr.com/8119/8699979829_2005069587_b.jpg" width="552" height="947" alt="Bogus" srcset="//farm9.staticflickr.com/8119/8699979829_2005069587.jpg 768w, //farm9.staticflickr.com/8119/8699979829_2005069587_b.jpg 768w 2x" /></a></p>

<p>其實一開始光看這張圖還不知道問題在哪，接著又去看 DNSSEC 運作的原理才了解，DNSSEC 其中對於 domain name record 要不要信任基本上是靠 chain of trust，也就是一層一層確定沒問題才保證最後的目標沒問題，所以他會先驗證 net 的 resolve 結果是可信任的，然後才往下問 othree.net 的 DNSKEY，然後用 net 那邊的 DS record 來驗證目標的 DNSKEY，而我的狀況是，去問上層的 DNS 有沒有 othree.net 的 DS record ，結果是有的：</p>

<pre><code>[/root] -root- &gt;&gt;&gt; dig @192.55.83.30 othree.net. DS

; &lt;&lt;&gt;&gt; DiG 9.7.0-P1 &lt;&lt;&gt;&gt; @192.55.83.30 othree.net. DS
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 14284
;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 13, ADDITIONAL: 12
;; WARNING: recursion requested but not available

;; QUESTION SECTION:
;othree.net. IN DS

;; ANSWER SECTION:
othree.net. 86400 IN DS 1 1 1 1234567890123456789012345678901234657890
</code></pre>

<p>其實看到這邊有點傻眼，因為用來驗證我的 DNSKEY 的 hash 竟然是 '1234567890123456789012345678901234657890' ，怎麼想都是有人亂打的，不過我也不想追究了，總之上層有 DS record，但是去問下層 DNSKEY 時確沒有：</p>

<pre><code>[/root] -root- &gt;&gt;&gt; dig @208.64.122.242 +multiline othree.net. DNSKEY

; &lt;&lt;&gt;&gt; DiG 9.7.0-P1 &lt;&lt;&gt;&gt; @208.64.122.242 +multiline othree.net. DNSKEY
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 16844
;; flags: qr aa rd; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0
;; WARNING: recursion requested but not available

;; QUESTION SECTION:
;othree.net. IN DNSKEY
</code></pre>

<p>這樣當然無法通過 DNSSEC validation，本來以為把這件事跟 namecheap 講他們就知道該怎麼處理了，結果還是不行，於是我又更直接的請他們跟上層說把那筆 DS record 刪掉，到今天早上終於正常了。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8699979931/" title="Flickr 上 othree 的 Insecure"><img src="//farm9.staticflickr.com/8131/8699979931_575f791a25_b.jpg" width="555" height="910" alt="Insecure" srcset="//farm9.staticflickr.com/8131/8699979931_575f791a25.jpg 768w, //farm9.staticflickr.com/8131/8699979931_575f791a25_b.jpg 768w 2x" /></a></p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000735" baseName="2013-sakura">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-05-02</b:date>
				<b:time>00:23:58</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>2013 日本賞櫻</b:title>
			<b:content>
				<b:summary>去年朋友就問我要不要去日本賞櫻，我想了一段時間後答應了，於是就開始規劃、買票等等，沒想到今年東京櫻花比去年早了兩週開，完全超出原來規劃的緩衝時間，本來買的機票時間是不管櫻花早一週或晚一週開都還可以的，沒想到今年遇到是有紀錄以來第三早的，不過機票住宿都好了，所以就只能往北走或往西走，東京的櫻花我們到時都已經稀疏不少，有的還長葉子了。 這篇主要記錄東京和北邊的部分~ 後一篇：2013 日本賞櫻 京都 第一天 第一天就先跑去台場看鋼彈，天氣不好，早知道第一天不要過來台場，應該先去逛逛街的，因為最後一天晚上又和朋友來一次，而且那天的天氣好很多，拍的彩虹橋也漂亮多了。...</b:summary>
				<b:mainContent><p>去年朋友就問我要不要去日本賞櫻，我想了一段時間後答應了，於是就開始規劃、買票等等，沒想到今年東京櫻花比去年早了兩週開，完全超出原來規劃的緩衝時間，本來買的機票時間是不管櫻花早一週或晚一週開都還可以的，沒想到今年遇到是有紀錄以來第三早的，不過機票住宿都好了，所以就只能往北走或往西走，東京的櫻花我們到時都已經稀疏不少，有的還長葉子了。</p>

<p>這篇主要記錄東京和北邊的部分~</p>

<p>後一篇：<a href="https://blog.othree.net/log/2013/05/03/2013-kyoto-sakura-day1/">2013 日本賞櫻 京都 第一天</a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8647072723/" title="Flickr 上 othree 的 等身大鋼彈"><img src="//farm9.staticflickr.com/8382/8647072723_c319e5b683_b.jpg" width="683" height="1024" alt="等身大鋼彈" srcset="//farm9.staticflickr.com/8382/8647072723_c319e5b683.jpg 768w, //farm9.staticflickr.com/8382/8647072723_c319e5b683_b.jpg 768w 2x, //farm9.staticflickr.com/8382/8647072723_f133a68775_k.jpg 2x" /></a></p>

<p>第一天就先跑去台場看鋼彈，天氣不好，早知道第一天不要過來台場，應該先去逛逛街的，因為最後一天晚上又和朋友來一次，而且那天的天氣好很多，拍的彩虹橋也漂亮多了。</p>
</b:mainContent>
				<b:extendContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8642074591/" title="Flickr 上 othree 的 2k540"><img src="//farm9.staticflickr.com/8108/8642074591_dbc0e271a9_b.jpg" width="1024" height="683" alt="2k540" srcset="//farm9.staticflickr.com/8108/8642074591_dbc0e271a9.jpg 768w, //farm9.staticflickr.com/8108/8642074591_dbc0e271a9_b.jpg 768w 2x, //farm9.staticflickr.com/8108/8642074591_35f1ac3ee5_k.jpg 2x" /></a></p>

<p>2k540 是這次意外逛到的地方，裡面很多設計商品和職人店鋪，也還蠻好逛的，在這邊買了新的皮夾和證件夾。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8645272822/" title="Flickr 上 othree 的 宇都宮 八幡山公園"><img src="//farm9.staticflickr.com/8104/8645272822_fa6948e702_b.jpg" width="1024" height="683" alt="宇都宮 八幡山公園" srcset="//farm9.staticflickr.com/8104/8645272822_fa6948e702.jpg 768w, //farm9.staticflickr.com/8104/8645272822_fa6948e702_b.jpg 768w 2x, //farm9.staticflickr.com/8104/8645272822_720d62960e_k.jpg 2x" /></a></p>

<p>我們往北跑了兩個地方看櫻花，分別是小山和宇都宮，不過小山的也是謝了一半，宇都宮就好很多，剛開始櫻吹雪。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8647746898/" title="Flickr 上 othree 的 口袋怪獸塗裝 ANA"><img src="//farm9.staticflickr.com/8538/8647746898_712b8604ac_b.jpg" width="1024" height="683" alt="口袋怪獸塗裝 ANA" srcset="//farm9.staticflickr.com/8538/8647746898_712b8604ac.jpg 768w, //farm9.staticflickr.com/8538/8647746898_712b8604ac_b.jpg 768w 2x, //farm9.staticflickr.com/8538/8647746898_b8b505f0ba_k.jpg 2x" /></a></p>

<p>看完櫻花跑去羽田機場看飛機，結果運氣很不錯看到兩台口袋怪獸塗裝的機體。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8645288976/" title="Flickr 上 othree 的 六本木 hills"><img src="//farm9.staticflickr.com/8523/8645288976_56b854d710_b.jpg" width="1024" height="683" alt="六本木 hills" srcset="//farm9.staticflickr.com/8523/8645288976_56b854d710.jpg 768w, //farm9.staticflickr.com/8523/8645288976_56b854d710_b.jpg 768w 2x, //farm9.staticflickr.com/8523/8645288976_f10ff7d36f_k.jpg 2x" /></a></p>

<p>這次上 Tokyo City View 運氣不好，沒看到東京鐵塔點燈，因為超過十點了以為是關燈了，沒想到下來後發現東京鐵塔又亮了...</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8646625281/" title="Flickr 上 othree 的 隅田川 天空樹"><img src="//farm9.staticflickr.com/8400/8646625281_33c75fe4f7_b.jpg" width="683" height="1024" alt="隅田川 天空樹" srcset="//farm9.staticflickr.com/8400/8646625281_33c75fe4f7.jpg 768w, //farm9.staticflickr.com/8400/8646625281_33c75fe4f7_b.jpg 768w 2x, //farm9.staticflickr.com/8400/8646625281_d28cb3763b_k.jpg 2x" /></a></p>

<p>從隅田川公園看過去的天空樹，其實我覺得沒很好看，東京鐵塔還是比較漂亮，不過他下面的那個 Sola Machi 很好逛啊。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8647702350/" title="Flickr 上 othree 的 河口湖天上公園"><img src="//farm9.staticflickr.com/8264/8647702350_e1403cb8da_b.jpg" width="1024" height="683" alt="河口湖天上公園" srcset="//farm9.staticflickr.com/8264/8647702350_e1403cb8da.jpg 768w, //farm9.staticflickr.com/8264/8647702350_e1403cb8da_b.jpg 768w 2x, //farm9.staticflickr.com/8264/8647702350_fc66e7d5fb_k.jpg 2x" /></a></p>

<p>有一天去了河口湖，看到這樣的富士山...</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8648177254/" title="Flickr 上 othree 的 明治神宮"><img src="//farm9.staticflickr.com/8258/8648177254_ab7dce1bb1_b.jpg" width="683" height="1024" alt="明治神宮" srcset="//farm9.staticflickr.com/8258/8648177254_ab7dce1bb1.jpg 768w, //farm9.staticflickr.com/8258/8648177254_ab7dce1bb1_b.jpg 768w 2x, //farm9.staticflickr.com/8258/8648177254_c22e5baf23_k.jpg 2x" /></a></p>

<p>這次還看到不少新人，明治神宮兩對，後來在神田神社也看到一對。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8648173558/" title="Flickr 上 othree 的 原宿 EVA STORE"><img src="//farm9.staticflickr.com/8120/8648173558_fe99a56958_b.jpg" width="1024" height="683" alt="原宿 EVA STORE" srcset="//farm9.staticflickr.com/8120/8648173558_fe99a56958.jpg 768w, //farm9.staticflickr.com/8120/8648173558_fe99a56958_b.jpg 768w 2x, //farm9.staticflickr.com/8120/8648173558_2647b06fe1_k.jpg 2x" /></a></p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8647076553/" title="Flickr 上 othree 的 原宿"><img src="//farm9.staticflickr.com/8393/8647076553_cb52e9d5e4_b.jpg" width="1024" height="683" alt="原宿" srcset="//farm9.staticflickr.com/8393/8647076553_cb52e9d5e4.jpg 768w, //farm9.staticflickr.com/8393/8647076553_cb52e9d5e4_b.jpg 768w 2x, //farm9.staticflickr.com/8393/8647076553_d5921bb59a_k.jpg 2x" /></a></p>

<p>EVA Store 只買了面紙外套（其實還有個收納箱想要不過體積太大），倒是有點被原宿週末的人潮嚇到了。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8674317415/" title="Flickr 上 othree 的 彩虹橋"><img src="//farm9.staticflickr.com/8403/8674317415_02cfc1f948_b.jpg" width="1024" height="273" alt="彩虹橋" srcset="//farm9.staticflickr.com/8403/8674317415_02cfc1f948.jpg 768w, //farm9.staticflickr.com/8403/8674317415_02cfc1f948_b.jpg 768w 2x, //farm9.staticflickr.com/8403/8674317415_ef780f9ad6_k.jpg 2x" /></a></p>

<p>最後一個晚上重新拍的彩虹橋，不知道什麼時候才會打彩虹光線上去。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8647071869/" title="Flickr 上 othree 的 秋葉原 remm"><img src="//farm9.staticflickr.com/8525/8647071869_c86e34d5f8_b.jpg" width="1024" height="683" alt="秋葉原 remm" srcset="//farm9.staticflickr.com/8525/8647071869_c86e34d5f8.jpg 768w, //farm9.staticflickr.com/8525/8647071869_c86e34d5f8_b.jpg 768w 2x, //farm9.staticflickr.com/8525/8647071869_5ef1305c10_k.jpg 2x" /></a></p>

<p>最後一晚的秋葉原 remm 還不錯，不過就是單人比較貴，不然秋葉原搭 JR 很方便，車站又不複雜，旅館離車站超近，而且附近生活機能不錯，有好幾家開 24 小時的餐廳。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8648160202/" title="Flickr 上 othree 的 Disney 30 週年"><img src="//farm9.staticflickr.com/8266/8648160202_cfc084e99b_b.jpg" width="1024" height="683" alt="Disney 30 週年" srcset="//farm9.staticflickr.com/8266/8648160202_cfc084e99b.jpg 768w, //farm9.staticflickr.com/8266/8648160202_cfc084e99b_b.jpg 768w 2x, //farm9.staticflickr.com/8266/8648160202_e74898fe2f_k.jpg 2x" /></a></p>

<p>日本 Disney 樂園 30 週年，和午後的紅茶有合作，最大獎是 Disney Resort 四人連續住 30 天加上 Resort 到兩大樂園的一年 pass 加上 100 萬日圓的 Gift Card，超有誠意的大獎。</p>

<p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8648160624/" title="Flickr 上 othree 的 P4087791"><img src="//farm9.staticflickr.com/8382/8648160624_eb0752be70_b.jpg" width="683" height="1024" alt="P4087791" srcset="//farm9.staticflickr.com/8382/8648160624_eb0752be70.jpg 768w, //farm9.staticflickr.com/8382/8648160624_eb0752be70_b.jpg 768w 2x, //farm9.staticflickr.com/8382/8648160624_836ca3ae0f_k.jpg 2x" /></a></p>

<p>最後幾天天氣很好，雖然風大到飛機火車都受影響，不過天空超藍的，這張是最後一個早上在閒晃時拍的。</p>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000734" baseName="functional-underscorejs">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-04-21</b:date>
				<b:time>00:01:42</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>Functional Programming using underscore.js</b:title>
			<b:content>
				<b:summary>昨天在 OSDC 的演講投影片~ /* A_A */...</b:summary>
				<b:mainContent><p>昨天在 OSDC 的演講投影片~</p>

<p>
<script async="async" class="speakerdeck-embed" data-id="26d284708c000130b42a22000a9d071a" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js">/* A_A */</script>
</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000733" baseName="ie10-for-windows7">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-02-26</b:date>
				<b:time>23:54:14</b:time>
			</b:datetime>
			<b:category>web</b:category>
			<b:title>IE10 for Windows 7</b:title>
			<b:content>
				<b:summary> 剛剛正式 Release 了，第一眼印像是文字渲染方式不太一樣，和 Aurora 比一下。...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8510660798/" title="Flickr 上 othree 的 IE10 vs Aurora on Text rendering"><img src="//farm9.staticflickr.com/8509/8510660798_b86b070bef_b.jpg" width="996" height="610" alt="IE10 vs Aurora on Text rendering" srcset="//farm9.staticflickr.com/8509/8510660798_b86b070bef.jpg 768w, //farm9.staticflickr.com/8509/8510660798_b86b070bef_b.jpg 768w 2x" /></a></p>

<p>剛剛正式 Release 了，第一眼印像是文字渲染方式不太一樣，和 Aurora 比一下。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000732" baseName="eregexvim-260">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-02-26</b:date>
				<b:time>00:59:45</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>eregex.vim 2.60</b:title>
			<b:content>
				<b:summary>我這幾天釋出了 eregex.vim 2.6，因為離上次更新有點久了，所以重新來介紹一下這個 Vim plugin。 Vim 裡面搜尋和取代的 Regular Expression 有自己的一套語法，不過對於平常習慣使用 Perl style 語法的人來說實在是很不方便，大部分人解決這個問題使用的是 ack.vim，不過 ack.vim 使用的是系統安裝好的 ack，而且命令比較麻煩，所以我一直用另外一套日本人寫的 eregex.vim，它的作法是把你輸入的 Perl style 語法用對照表轉成 Vim style 的語法，然後用 Vim 的搜尋指令來搜尋，原來的開發者 安久津 幾乎是失聯，於是我大概一年半前就自己開維護起來，不過當時就有兩個 issue 處理不了，沒想到最近終於成功解掉了。 原來的 eregex.vim 只能單向搜尋，也就是只有支援 / 而不支援 ?，之前我加上了 ? 反向搜尋的支援，不過問題是反向搜尋後，按 n 找下一個的方向還是正向的，當時就是找半天不知道問題在哪，最近才發現問題在搜尋的相關參數，包括搜尋方向以及是不是要...</b:summary>
				<b:mainContent><p>我這幾天釋出了 <a href="https://github.com/othree/eregex.vim">eregex.vim</a> 2.6，因為離上次更新有點久了，所以重新來介紹一下這個 Vim plugin。</p>

<p>Vim 裡面搜尋和取代的 Regular Expression 有自己的一套<a href="http://vimdoc.sourceforge.net/htmldoc/pattern.html">語法</a>，不過對於平常習慣使用 Perl style 語法的人來說實在是很不方便，大部分人解決這個問題使用的是 <a href="https://github.com/mileszs/ack.vim">ack.vim</a>，不過 ack.vim 使用的是系統安裝好的 ack，而且命令比較麻煩，所以我一直用另外一套日本人寫的 eregex.vim，它的作法是把你輸入的 Perl style 語法用對照表轉成 Vim style 的語法，然後用 Vim 的搜尋指令來搜尋，原來的開發者 安久津 幾乎是失聯，於是我大概一年半前就自己開維護起來，不過當時就有兩個 issue 處理不了，沒想到最近終於成功解掉了。</p>

<p>原來的 eregex.vim 只能單向搜尋，也就是只有支援 <code>/</code> 而不支援 <code>?</code>，之前我加上了 <code>?</code> 反向搜尋的支援，不過問題是反向搜尋後，按 <code>n</code> 找下一個的方向還是正向的，當時就是找半天不知道問題在哪，最近才發現問題在搜尋的相關參數，包括搜尋方向以及是不是要 highlight 的設定，都會在離開 function call 之後被重設，於是我的作法就是讓我的自動指令變的複雜一點，相對的，本來很簡單的 keymapping 也複雜了許多，所以我一不做二不休，改成自動 mapping 的機制，使用者可以自己切換，設定 mapping key，終於可以讓搜尋指令的行為和原生的完全一樣，詳細可以上 github 看 README 的使用說明。</p>

<p>拖了將近兩年才解開的 issue，其實感覺還蠻特別的。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000731" baseName="vim-javascript-libraries">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-02-11</b:date>
				<b:time>10:58:16</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>Vim JavaScript Libraries Syntax</b:title>
			<b:content>
				<b:summary> 我的新 Vim Plugin，前幾天整理 Vim 設定和修 plugin 時順手弄的，JavaScript Libraries Syntax，說順手其實也不太順，為了支援 SyntaxComplete 以及不要和現有 JavaScript syntax 衝突，還是花很多時間查資料和測試，目前支援的 library 有 jQuery、underscore.js、Backbone.js 和 prelude.ls，其中 jQuery 是拿之前就 有的 為基礎修改，其他都是新寫的。支援 SyntaxComplete 的語言有 JavaScript、CoffeeScript 和 LiveScript，安裝建議用 pathogen 或是 vundle，專案放在 Github 上，patch welcome。 Github othree/javascript-libraries-syntax.vim...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="http://www.flickr.com/photos/othree/8462979359/" title="Flickr 上 othree 的 JavaScript Libraries Syntax"><img src="//farm9.staticflickr.com/8373/8462979359_27480834ea_b.jpg" width="1018" height="840" alt="JavaScript Libraries Syntax" srcset="//farm9.staticflickr.com/8373/8462979359_27480834ea.jpg 768w, //farm9.staticflickr.com/8373/8462979359_27480834ea_b.jpg 768w 2x" /></a></p>

<p>我的新 Vim Plugin，前幾天整理 Vim 設定和修 plugin 時順手弄的，<a href="http://www.vim.org/scripts/script.php?script_id=4428">JavaScript Libraries Syntax</a>，說順手其實也不太順，為了支援 <a href="https://blog.othree.net/log/2013/02/08/vim-syntax-complete/">SyntaxComplete</a> 以及不要和現有 JavaScript syntax 衝突，還是花很多時間查資料和測試，目前支援的 library 有 <a href="http://jquery.com/">jQuery</a>、<a href="http://underscorejs.org/">underscore.js</a>、<a href="http://backbonejs.org/">Backbone.js</a> 和 <a href="http://gkz.github.com/prelude-ls/">prelude.ls</a>，其中 jQuery 是拿之前就 <a href="http://www.vim.org/scripts/script.php?script_id=2416">有的</a> 為基礎修改，其他都是新寫的。支援 SyntaxComplete 的語言有 JavaScript、<a href="http://coffeescript.org/">CoffeeScript</a> 和 <a href="http://livescript.net/">LiveScript</a>，安裝建議用 <a href="http://www.vim.org/scripts/script.php?script_id=2332">pathogen</a> 或是 <a href="https://github.com/gmarik/vundle">vundle</a>，專案放在 Github 上，patch welcome。</p>

<ul>
<li><a href="https://github.com/othree/javascript-libraries-syntax.vim">Github othree/javascript-libraries-syntax.vim</a></li>
</ul>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000730" baseName="vim-syntax-complete">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-02-08</b:date>
				<b:time>21:25:25</b:time>
			</b:datetime>
			<b:category>vim</b:category>
			<b:title>Vim Syntax Complete</b:title>
			<b:content>
				<b:summary>Vim 的 Omni completion 功能推出之時，同時有提供一個 syntaxcomplete 的 function 可以拿 syntax highlight 裡面的關鍵字來做自動完成，設定方法很簡單： setlocal omnifunc=syntaxcomplete#Complete 這樣只要觸發 omnicomplete 的動作就會觸發這個 function ，列出 syntax 裡面有定義的關鍵字，不過他有一點小限制，就是該 syntax 設定檔裡面的 syntax group 名稱要是該檔案類型的 filetype 開頭的，例如 javascript 檔案就要 javascriptMethods, javascriptObjects 才會列入，如果是 jsPrototype, styles 為名稱的 group 就不會列出來，這其實也是 vim syntax...</b:summary>
				<b:mainContent><p>Vim 的 <a href="http://vimdoc.sourceforge.net/htmldoc/insert.html#compl-omni">Omni completion</a> 功能推出之時，同時有提供一個 <a href="http://vimdoc.sourceforge.net/htmldoc/insert.html#ft-syntax-omni">syntaxcomplete</a> 的 function 可以拿 syntax highlight 裡面的關鍵字來做自動完成，設定方法很簡單：</p>

<pre><code>setlocal omnifunc=syntaxcomplete#Complete
</code></pre>

<p>這樣只要觸發 omnicomplete 的動作就會觸發這個 function ，列出 syntax 裡面有定義的關鍵字，不過他有一點小限制，就是該 syntax 設定檔裡面的 syntax group 名稱要是該檔案類型的 filetype 開頭的，例如 javascript 檔案就要 javascriptMethods, javascriptObjects 才會列入，如果是 jsPrototype, styles 為名稱的 group 就不會列出來，這其實也是 vim syntax file 寫作的習慣之一。</p>

<p>而除了這個限制之外，因為設定是直接用上 omnifunc，結果就是其他有自己專屬的 omnifunc 的語言就無法同時使用到 syntaxcomplete 的功能，不然就是要把觸發的指令切開，設定成不同的快速鍵。不過使用上就沒這麼方便，還好我用的 <a href="http://www.vim.org/scripts/script.php?script_id=1879">autocomplpop</a> 有支援使用者自定義的函數，定義的函數介面和 omni complete functilon 一樣，所以我就加上兩行設定：</p>

<pre><code>let g:acp_behaviorUserDefinedMeets = 'acp#meetsForKeyword'
let g:acp_behaviorUserDefinedFunction = 'syntaxcomplete#Complete'
</code></pre>

<p>結果就可以用 autocomplpop 內建的的 keyword 觸發條件來觸發 syntax complete，還算蠻符合需求的。</p>

<p>最後回來看一下 syntaxcomplete，這個 function 雖然是 Vim 內建的，不過其實也有放在 <a href="http://www.vim.org/scripts/script.php?script_id=3172">vimscript</a> 上，而且上面還有比較新的版本，最近我有跟作者聯絡，或許還會再有新功能吧。另外就是 autocomplpop 很久沒更新了，所以我有 <a href="https://github.com/othree/vim-autocomplpop">fork 一版</a>出來自己加了些給 js, coffee, css 檔的預設行為，好像還修了一個 bug，本來有想接上新版的 <a href="https://github.com/garbas/vim-snipmate">snipMate</a>，不過比想像的複雜不少，所以暫時放棄了。</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

		<b:entry entryID="000729" baseName="webconf-2013-talk">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2013-01-12</b:date>
				<b:time>20:40:58</b:time>
			</b:datetime>
			<b:category>css-html</b:category>
			<b:title>WebConf 2013 talk</b:title>
			<b:content>
				<b:summary>題目是： Web Developer Tools in Modern Browsers 這次時間塞的很滿，投影片在下面，不過投影片不是本 Talk 重點，重點還是在 Demo 部分每個 Panel 的簡介，錄影不知道要等到何時，總之投影片的部分先放出了。 /* A_A */...</b:summary>
				<b:mainContent><p>題目是： Web Developer Tools in Modern Browsers</p>

<p>這次時間塞的很滿，投影片在下面，不過投影片不是本 Talk 重點，重點還是在 Demo 部分每個 Panel 的簡介，錄影不知道要等到何時，總之投影片的部分先放出了。</p>

<p>
<script async="async" class="speakerdeck-embed" data-id="cbfcdc603ee201304c57123138154bc3" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js">/* A_A */</script>
</p>
</b:mainContent>
				<b:extendContent>
</b:extendContent>
			</b:content>

			<b:comments commentCount="0"></b:comments>


		</b:entry>

	</b:entries>
</b:blog>
