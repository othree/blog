<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/main.xsl"?>
<b:blog xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://blog.othree.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://blog.othree.net http://blog.othree.net/blooog.xsd">
	<b:blogTitle>O3noBLOG</b:blogTitle>
	<b:blogDescription></b:blogDescription>
	<b:entries>
		<b:entriesMeta>
			<b:listType>i</b:listType>
			<b:listData listID="index"/>
		</b:entriesMeta>

		<b:entry entryID="001002" baseName="qr-code-history">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2024-01-12</b:date>
				<b:time>23:42:13</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>QR Code 發明歷史展</b:title>
			<b:content>
				<b:summary> 去年去名古屋時，有去了 Toyota 產業技術紀念館，館內的展覽其實著重在技術介紹，分為紡織和汽車，其實我以前不知道 Toyota 是紡織起家的，展覽的內容非常不錯，很多機器都還可以運作，而且也可以讓訪客按按鈕自動展示，非常用心：...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400019990/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400019990_281e6bd784_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400019990_9636388588_k.jpg 2x" /></a></p>
<p><a href="https://blog.othree.net/log/2024/01/06/2023-nagoya/">去年去名古屋</a>時，有去了 <a href="https://www.tcmit.org/">Toyota 產業技術紀念館</a>，館內的展覽其實著重在技術介紹，分為紡織和汽車，其實我以前不知道 Toyota 是紡織起家的，展覽的內容非常不錯，很多機器都還可以運作，而且也可以讓訪客按按鈕自動展示，非常用心：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400018490/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400018490_75533ab6f8_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53400018490_9bfe9edc2b_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398655727/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398655727_79d94ac64f_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53398655727_1525f1a646_k.jpg 2x" /></a></p>
</b:mainContent>
				<b:extendContent><p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400010890/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400010890_481e2c8b8e_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53400010890_b51e087f6e_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399581111/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399581111_f6dc3bdb30_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53399581111_5924ffeee2_k.jpg 2x" /></a></p>
<p>而除了兩個展覽館之外，其實這段時間在入口附近還有一個特別企劃的 <a href="https://www.tcmit.org/information/news/2023/10/50182">QR Code 發明歷史展</a>，應該是因為去年是 QR Code 發明的 30 週年吧，我自然是對這個很有興趣，雖然展區小小的但是也有些收穫，為了寫這篇文章我也又查了不少資料。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400021685/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400021685_84f171c074_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400021685_deea6cb207_k.jpg 2x" /></a></p>
<p>QR Code 的很多資訊其實在 Wikipedia 上都有，不過我是看展覽才注意到原來是因日本電装（Denso）內部的需求而要開始研發二維條碼，設計出 QR Code 的原昌宏當然也是日本電装的員工，該社的研發能力蠻強的，日本電装還有一個東西是我以前在介紹<a href="https://blog.othree.net/log/2022/12/23/japan-postal-code/">日本郵遞區號</a>時有提過的，就是日本導航常用的 <a href="https://www.denso-solution.com/mapcode/whats.html">Mapcode</a>，都是非常廣泛使用的東西，由於是 Toyota 子公司，這些發明也都是圍繞著汽車相關而生的，Mapcode 主要應用在導航，而 QR Code 當初主要是為了「かんばん」系統的汽車生產零件管理，而會能像現在這樣廣泛的被使用，我覺得有兩個主要的因素，第一個是原昌宏在設計 QR Code 時，底層的設計很通用，而沒有特化於汽車零件，另一個就是日本電装當時雖然有申請專利，但各種考量後決定公開來讓大家自由使用，接下來就來看看展覽的內容吧：</p>
<p>專利書：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399914129/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399914129_7bf2d481fc_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399914129_327369b27d_k.jpg 2x" /></a></p>
<p>原昌宏是設計 QR Code 的人，渡部元秋則是主要的軟體開發者，一開始的研發團隊就只有這兩位，另外三位當中的野尻忠雄是主管，另外兩位則是 Toyota 中央研究所的成員，應該是協助軟體開發的。</p>
<p>還有列出其他的關係者，以前比較沒機會看到的團隊成員、負責人還有推動公開標準化的成員等：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398660467/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398660467_e106eb192a_b.jpg" width="600" height="900" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53398660467_51b68c3a7f_k.jpg 2x" /></a></p>
<p>讀本裡面有介紹其他的二維條碼：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399914069/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399914069_b81e43605b_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399914069_3e03ed7782_k.jpg 2x" /></a></p>
<p>簡單的歷史：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399589081/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399589081_e89a7a029f_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399589081_9835b3e861_k.jpg 2x" /></a></p>
<p>中間有提到開放的原因之一，就是為了搶佔市占率，然後他們可以從 code reader 和印刷市場來賺取收益。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400020610/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400020610_8ba2bb2c6b_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400020610_99d696225f_k.jpg 2x" /></a></p>
<p>在各個關係者當中，負責標準化的柴田彰於 2022 年八月有在 Digital Practice 發表「<a href="https://www.ipsj.or.jp/dp/contents/publication/51/S1303-S05.html">QRコードの事業戦略と標準化</a>」一文，內容很多，有各種背景介紹，競爭對手，還有像是 Toyota 內部的「かんばん」系統在導入 QR Code 前後的標籤；與其他二維條碼的比較，有一組對照不同條碼相同設定相同資料的面積差異；還有標準化的各種紀錄，像是 ISO 15394 的包裹標籤在使用 QR Code 前後的差異等，非常值得看看。</p>
<p>然後就是我覺得最貴重的研究手稿了，不知道有沒有數位化保存：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399912629/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399912629_b8d3024ed9_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399912629_9736eb38c1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400019990/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400019990_281e6bd784_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400019990_9636388588_k.jpg 2x" /></a></p>
<p>然後是各種的變形版 QR Code：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398659582/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398659582_23a22e9a85_b.jpg" width="600" height="900" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53398659582_47e87667dd_k.jpg 2x" /></a></p>
<p>展覽中列出的有：</p>
<ul>
<li><a href="https://www.qrcode.com/codes/microqr.html">Micro QR Code</a>: 比較小的 QR Code，只有一個定位點；</li>
<li><a href="https://www.qrcode.com/codes/rmqr.html">rMQR Code(Rectangular Micro QR Code)</a>: 矩形的 Micro QR Code，可以弄成長方形列印在比較狹窄的地方；</li>
<li><a href="https://www.denso-wave.com/ja/system/qr/product/sqrc.html">SQRC(Security QR Code)</a>: 包含隱藏資料區的 code，要特定的 code reader 才可以讀取到隱藏內容，還有配合用特殊油墨列印的防複製的方法；</li>
<li><a href="https://www.denso-wave.com/ja/system/qr/product/frame.html">Frame QR</a>: 中間有留白一塊可以任意加工的版本。</li>
</ul>
<p>除了以上四種之外，其實還有：</p>
<ul>
<li><a href="https://www.qrcode.com/codes/iqr.html">iQR</a>: 也是可以做成長方形的 code，不過其實是過渡規格，沒有標準化，相關的設計後來就是用在 rMQR 中；</li>
<li><a href="https://www.denso-wave.com/ja/adcd/event/aice2019/tqr.pdf">tQR</a>: t 是 toughness，是東京都營地下鐵和 Denso Wave（日本電装子公司，負責 QR Code 的部門已經拆分至此）合作的，專門用來判斷列車車門位置用的，官方的介紹就有提到為什麼需要這種機制判斷車門位置，為的像是對應不同編成的列車或是不同車門配置的車廂等等，另外有一份日本自動識別系統協會的<a href="https://www.jaisa.or.jp/action/aim/pdfs/vol64.pdf">會報</a>（4-6 頁）裡面也有介紹部分的系統運作機制，而 tQR 就是這個系統所使用的特規的 QR Code，第一眼應該就可以發現三個定位點的位置不一樣，然後編碼的容錯率則有加強到 50%。</li>
</ul>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53458136027/" title="tQR by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53458136027_270911a92b_o_d.jpg" width="201" height="200" alt="tQR" /></a></p>
<p>然後除了這些，回來查資料後我還發現其實普通的 QR Code 就可以多個連接，日文就稱為「連接」，英文則是稱為 Structured Append，最多可以連接 16 個，如下圖：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53458187002/" title="Structure Append QR Code by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53458187002_dddb55862e_b.jpg" width="1024" height="630" alt="Structure Append QR Code" /></a></p>
<p>這個機制除了可以增加資料量外，也是早期在 iQR 或是 rMQR 出來前，可以把正方形轉成長方形的一種方式，不過有支援的裝置和軟體比較少，例如我用 iPhone 相機就不支援一次全部讀取，然後如果要讀取單一個 code 就可能會跑出「找不到可用的資料」，事實上，前面介紹的 QR Code 的變形版本，iPhone 內建的相機也都不支援。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53459436824/" title="Structure Appended QR Code by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53459436824_dc9923ca6e_b.jpg" width="473" height="1024" alt="Structure Appended QR Code" srcset="https://live.staticflickr.com/65535/53459436824_5117b13520_k.jpg 2x" /></a></p>
<p>所以接下來就要介紹最後一個收穫了，官方的 QR Code Scanner App：<a href="https://www.qrqrq.com/">クルクル（QRQR）</a>，其實我很久以前，就一直很好奇到底有沒有所謂官方的 QR Code reader 了，古早以前都是用 ZXing 的 <a href="https://play.google.com/store/apps/details?id=com.google.zxing.client.android">Barcode Scanner</a>，不過其實這是 Open Source 專案，現在也已經沒在維護了。而 Denso Wave 的官方 app，則是在 2017 年才和 Arara Inc（Denso Wave 是股東之一）一起合作<a href="https://www.denso-wave.com/ja/adcd/info/detail__14521.html">推出</a>的，當時名稱叫「Q」，後來則更名為 QRQR，免費，有多語系也沒廣告，佛心，然後支援很多種格式，包括了 Barcode、兩種標準的 QR Code，還有 Micro QR、iQR、rMQR、Frame QR 以及剛剛最後提到的連結的 QR Code，解碼速度也很快，不過曾經有過偷收集資料的壞紀錄，所以要不要用就自行評估啦。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53459416788/" title="クルクル（QRQR） by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53459416788_2e2fcae982_b.jpg" width="1024" height="686" alt="クルクル（QRQR）" srcset="https://live.staticflickr.com/65535/53459416788_7efb432723_k.jpg 2x" /></a></p>
</b:extendContent>
			</b:content>


		</b:entry>

		<b:entry entryID="001001" baseName="2023-nagoya">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2024-01-06</b:date>
				<b:time>23:34:12</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>2023 名古屋</b:title>
			<b:content>
				<b:summary> 去年十一月底的時候，安排了一趟名古屋的旅遊，一開始的目標很簡單，就是帶小孩去樂高樂園，所以挑選了名古屋，結果這趟旅遊在出發前還真是一波三折，首先是因為差不多快要楓葉季了，所以挑選時間時就想說挑個可以順便看楓葉的時間，又考量到公司專案的時程，兩週不錯的時間挑了第二週，和本來那個專案的時間差了兩三週，結果公司專案最後還是拖到我出國前還沒上線；接著在規劃行程時，本來想說一天去下呂溫泉，然後前面四天後面五天都在市區或是近郊，接著看回程要怎樣到機場時，考慮到有想多買行李箱，所以可能無法搭電車，就看了一下計程車費，不意外的很貴，想了一下去查了一下租車一天的價錢，結果發現差不多！但是都租車了，乾脆多租幾天在附近玩，所以就看起了中部國際機場所在的知多半島的觀光景點，發現有虎河豚套餐可以吃，後來老婆覺得可以不用太多小孩行程，想去飛驒高山，排到最後變成： 11/25 名古屋車站 11/26 Toyota 博物館、大須商店街 11/27 栄、Harbs 本店、東山植物園 11/28 Lego Land 11/29 三井 Outlet、名花之里 11/30 飛驒高山 12/01 下呂溫泉 12/02 犬山城、住南知多（源氏香） 12/03 知多半島、河豚套餐 12/04 臨空區、機場回程...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401245579/" title="高山陣屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401245579_c93978534b_b.jpg" width="1024" height="683" alt="高山陣屋" srcset="https://live.staticflickr.com/65535/53401245579_50db12c77e_k.jpg 2x" /></a></p>
<p>去年十一月底的時候，安排了一趟名古屋的旅遊，一開始的目標很簡單，就是帶小孩去樂高樂園，所以挑選了名古屋，結果這趟旅遊在出發前還真是一波三折，首先是因為差不多快要楓葉季了，所以挑選時間時就想說挑個可以順便看楓葉的時間，又考量到公司專案的時程，兩週不錯的時間挑了第二週，和本來那個專案的時間差了兩三週，結果公司專案最後還是拖到我出國前還沒上線；接著在規劃行程時，本來想說一天去下呂溫泉，然後前面四天後面五天都在市區或是近郊，接著看回程要怎樣到機場時，考慮到有想多買行李箱，所以可能無法搭電車，就看了一下計程車費，不意外的很貴，想了一下去查了一下租車一天的價錢，結果發現差不多！但是都租車了，乾脆多租幾天在附近玩，所以就看起了中部國際機場所在的知多半島的觀光景點，發現有虎河豚套餐可以吃，後來老婆覺得可以不用太多小孩行程，想去飛驒高山，排到最後變成：</p>
<pre><code>11/25 名古屋車站
11/26 Toyota 博物館、大須商店街
11/27 栄、Harbs 本店、東山植物園
11/28 Lego Land
11/29 三井 Outlet、名花之里
11/30 飛驒高山
12/01 下呂溫泉
12/02 犬山城、住南知多（源氏香）
12/03 知多半島、河豚套餐
12/04 臨空區、機場回程
</code></pre>
</b:mainContent>
				<b:extendContent><p>結果行程排定後，快要到出國前，又傳出高山那邊下大雪，高速公路限制沒雪胎不能上去，害我又趕快處理租車的問題，還好 Toyota 租車有一個外國人專用的號碼，可以講英文，雖然是社恐一名還是只能硬著頭皮打國際電話去加雪胎，多了一萬多日圓。至於出發前一週家裡洗衣機壞掉又是另外一回事了...</p>
<p>到這邊想岔題說一下，前陣子有很多文章在講日本有一些服務會某些程度給外國人加價，其實 Toyota 租車也是有點這種情況，在日文版網頁很多折扣在其他語言是看不到的，不過我是認為這比較不是不願意給外國人折扣，或許只是單純因為不同系統沒有開發資源，加上剛好可以減少複雜度，避免節外生枝，降低溝通成本，當然我是日文網站註冊在日文網站預約的，當初價錢還不錯，不過為了雪胎折扣掉的錢又都回來就是XD。</p>
<p>回到車子的部分，這次租的是新款的 Hybrid 動力的 Sienta 七人版，後面行李空間可以放兩個大行李箱加上推車和登機箱還有些空間，駕駛座位附近也很多空間，可以放各種東西（鑰匙、飲料、小包包等），不過鈑金什麼的感覺就比較單薄了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401420723/" title="Toyota Sienta by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401420723_2fb8baf46a_b.jpg" width="1024" height="683" alt="Toyota Sienta" srcset="https://live.staticflickr.com/65535/53401420723_a9df5d701d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401784867/" title="Toyota Sienta by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401784867_ef90517eac_b.jpg" width="1024" height="683" alt="Toyota Sienta" srcset="https://live.staticflickr.com/65535/53401784867_197fa2475c_k.jpg 2x" /></a></p>
<p>接著來介紹一下實際的行程吧：</p>
<p>首先第一天到中部國際機場，搭電車到名古屋站，住在萬保龍酒店，走路就可以到，所以規劃就是車站附近商圈逛逛和吃晚餐，本來有想第一天就去吃鰻魚飯，結果班機延誤一小時，去到白河看已經一大堆人，後來就是高島屋餐廳街隨便找，然後隨便逛了一下高島屋就回旅館了。</p>
<p>說到班機延誤，這次搭的是國泰的 CX530，直飛，其實我本來想說香港的航空公司怎麼會可以從台北直飛去日本，結果因為班機延誤一查才發現，原來其實這台是早上從香港到台灣，然後又馬不停蹄飛去日本，沒狀況的話會是同一台飛機下午又飛回台北（CX531），然後再回到香港，表定時間是早上九點出發然後回到香港是晚上十點了，非常忙碌的一台飛機。</p>
<p>回到名古屋車站，這邊有兩個要來推薦一下，首先是<a href="https://montblanc-hotel.jp/raffine/en/">萬保龍酒店 Raffine（Montblanc Hotel Raffine Nagoya Ekimae）</a>：位置不錯價錢實惠，而且還蠻新的，除了這些之外，裡面用的設備都蠻不錯的，列舉一下：</p>
<ul>
<li><a href="https://www.flickr.com/photos/othree/53398667727/in/album-72177720313161615/">Sony Bravia 電視</a>，似乎是我目前住過的飯店用的最好的電視了；</li>
<li><a href="https://www.flickr.com/photos/othree/53400773731/in/album-72177720313161615/">大金空調</a>；</li>
<li><a href="https://www.flickr.com/photos/othree/53399597501/in/album-72177720313161615/">Refa FINE BUBBLE PURE 蓮蓬頭（要三萬日幣以上）</a>；</li>
<li>Panasonic 吹風機；</li>
<li><a href="https://www.flickr.com/photos/othree/53399842952/in/album-72177720313161615/">Sharp 的空氣清淨機間加濕器</a>；</li>
<li><a href="https://www.flickr.com/photos/othree/53400029190/in/album-72177720313161615/">房間都有一台平板</a>，台座好像可以收藍芽但是我沒研究出來怎樣配對；</li>
<li><a href="https://www.flickr.com/photos/othree/53399921484/in/album-72177720313161615/">內建國際通用插座</a>；</li>
<li><a href="https://www.flickr.com/photos/othree/53400961598/in/album-72177720313161615/">門檔</a>，雖然效果不太好但是搬行李時有沒有還是差很多；</li>
<li><a href="https://www.flickr.com/photos/othree/53399785703/in/album-72177720313161615/">線材包</a> 和 <a href="https://www.flickr.com/photos/othree/53400785346/in/album-72177720313161615/">置物托盤（トレイ）</a> 也都不是很廉價的材質，更不用說有的飯店根本沒這些東西。</li>
</ul>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400785346/" title="Montblanc Hotel Raffine Nagoya Ekimae by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400785346_a2bab1fd2e_b.jpg" width="1024" height="683" alt="Montblanc Hotel Raffine Nagoya Ekimae" srcset="https://live.staticflickr.com/65535/53400785346_f4b091fea6_k.jpg 2x" /></a></p>
<p>另一個要推薦的就是名古屋車站的高島屋了，就在 JR Gate Tower 那一群裡面，非常的好逛，而且我這幾天也根本都沒逛完，裡面有 Uniqlo（可退稅）、GU、Bic Camera、Village Vanguard、三省堂書店（超大），三省堂有很多專業冷門書：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399916764/" title="三省堂書店 名古屋本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399916764_72b27b18c7_b.jpg" width="1024" height="683" alt="三省堂書店 名古屋本店" srcset="https://live.staticflickr.com/65535/53399916764_af16e11d9d_k.jpg 2x" /></a></p>
<p>鐵道專區的一小櫃：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400025755/" title="三省堂書店 名古屋本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400025755_795d98e8d0_b.jpg" width="1024" height="683" alt="三省堂書店 名古屋本店" srcset="https://live.staticflickr.com/65535/53400025755_bac79cb0a5_k.jpg 2x" /></a></p>
<p>超大野貓玩偶，剛好在辦特展：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399917334/" title="三省堂書店 名古屋本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399917334_ace03c4d9d_b.jpg" width="600" height="900" alt="三省堂書店 名古屋本店" srcset="https://live.staticflickr.com/65535/53399917334_ae8f26dfdc_k.jpg 2x" /></a></p>
<p>一樓還有迪士尼專賣店和 Ghibli 專賣店，飛行石抱枕很好笑：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398663022/" title="名古屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398663022_aaeea72461_b.jpg" width="" height="683" alt="名古屋" srcset="https://live.staticflickr.com/65535/53398663022_e93e440933_k.jpg 2x" /></a></p>
<p>然後隔壁棟還有手創館，這次幾乎沒去逛到就是，地下室食品區也是很大，我們每次去日本都會順便買一些日本的高湯包（だし），主要是買兵四郎和茅乃舍的，這兩家的高湯包也都不是隨便可以買到的，不過這邊就是都有，兵四郎在超市區，茅乃舍則是有專櫃在同一層附近而已，袋子很豪華：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399594891/" title="名古屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399594891_b2a9fa5e8b_b.jpg" width="1024" height="683" alt="名古屋" srcset="https://live.staticflickr.com/65535/53399594891_eaaddb27d4_k.jpg 2x" /></a></p>
<p>第二天和第三天是週六週日，其實這兩天沒有一定要哪天去哪裡，唯一有限制的就是東山植物園楓葉季的夜間點燈只有五六日，不過總之這第二天我們先去了栄的 Harbs 本店，在那邊隨便逛，在 Oasis 21 逛到一間哈利波特專賣店，然後大國藥妝店買了藥妝後回去名古屋車站附近的白河吃鰻魚飯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399596881/" title="栄 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399596881_1a5732b182_b.jpg" width="1024" height="683" alt="栄" srcset="https://live.staticflickr.com/65535/53399596881_c28d2269d4_k.jpg 2x" /></a></p>
<p>Harbs 本店的限定款蛋糕：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399919139/" title="HARBS 本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399919139_dd36a9beb0_b.jpg" width="1024" height="683" alt="HARBS 本店" srcset="https://live.staticflickr.com/65535/53399919139_eab5fe4e7f_k.jpg 2x" /></a></p>
<p>白河的鰻魚飯、魚骨仙貝：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399918364/" title="うなぎ和食しら河 名駅店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399918364_30458f5005_b.jpg" width="1024" height="683" alt="うなぎ和食しら河 名駅店" srcset="https://live.staticflickr.com/65535/53399918364_aea718d2c0_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399918514/" title="うなぎ和食しら河 名駅店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399918514_dae5e1b76d_b.jpg" width="1024" height="683" alt="うなぎ和食しら河 名駅店" srcset="https://live.staticflickr.com/65535/53399918514_c765046e24_k.jpg 2x" /></a></p>
<p>第三天就比較精實了，一早先在車站附近地下街的 Komeda 咖啡吃早餐，然後去了 Toyota 產業技術紀念館，結果剛好遇到第 700 萬位入場的訪客的頒獎，覺得有點可惜的是，其實我們早餐等了有點久，然後吃完搭車到荣生站時就發現那邊也一間 Komeda 咖啡...，如果當初有研究完整一點，就不用在車站那邊浪費時間，搞不好有機會成為第 700 萬位入場的XD。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399590361/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399590361_69dc256629_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53399590361_ed1a611237_k.jpg 2x" /></a></p>
<p>Toyota 產業技術紀念館展出的東西很多，分兩大塊，紡織和汽車，紡織的部分則是從古早時候的紡織技術開始介紹到現在的大型自動化的設備，而且很多機器都可以讓它動給你看，後半汽車則是從材料加工開始介紹，甚至還有現場實際展示金屬加工，汽車部分也是很多東西都會動給你看，還有可以隨便你玩的方向盤等等。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399773323/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399773323_f96e408866_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53399773323_15b3c4f8af_k.jpg 2x" /></a></p>
<p>午餐就吃館內的餐廳：BrickAge，餐點和價位比起來算是蠻不錯的，擺盤是比較精緻的路線，但是價位還是差不多一般博物館內附設餐廳的價位。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398647747/" title="BrickAge by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398647747_742a504a41_b.jpg" width="1024" height="683" alt="BrickAge" srcset="https://live.staticflickr.com/65535/53398647747_ae358b8637_k.jpg 2x" /></a></p>
<p>下午去了大須觀音和商店街一下，這條商店街我就覺得還好，大須觀音那邊看到有些自願者 cosplay 後在幫忙整理環境，蠻特別的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400911499/" title="大須観音 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400911499_60660c5776_b.jpg" width="1024" height="683" alt="大須観音" srcset="https://live.staticflickr.com/65535/53400911499_6e81e9d5b0_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401018020/" title="大須観音 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401018020_b5d0cc3494_b.jpg" width="600" height="600" alt="大須観音" srcset="https://live.staticflickr.com/65535/53401018020_26af7e597a_k.jpg 2x" /></a></p>
<p>傍晚就開始移動到東山植物園了，目標就是本次名古屋行程的重要目標之一的楓葉了，不過到達時已經完全天黑了，所以只有看到夜楓。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399658997/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399658997_8f5bd9aea2_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53399658997_b1c2732332_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401020525/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401020525_e3dca15836_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53401020525_2b5c76b95a_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401020970/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401020970_5f610fd7b4_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53401020970_04964052f1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400910649/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400910649_37661cf323_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53400910649_2047535acc_k.jpg 2x" /></a></p>
<p>第四天就是主要目標之二的樂高樂園，相較於迪士尼，樂高樂園小很多，而且土地形狀也比較不漂亮，不過對於小小孩來說是蠻適合的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399843232/" title="LEGOLAND Japan by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399843232_05a9ea809b_b.jpg" width="1024" height="683" alt="LEGOLAND Japan" srcset="https://live.staticflickr.com/65535/53399843232_a0c15d14c1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400965688/" title="LEGOLAND Japan by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400965688_ffd93c4b38_b.jpg" width="1024" height="683" alt="LEGOLAND Japan" srcset="https://live.staticflickr.com/65535/53400965688_ea89dec4f6_k.jpg 2x" /></a></p>
<p>樂高樂園也只有營業到傍晚，不像迪士尼還有到晚上，我們也本來就打算晚餐要回車站附近吃。</p>
<p>第五天白天去了三井爵士之夢 outlet，傍晚則是計畫去名花之里看燈飾，出發之前其實也是研究許久，最後決定是全部搭巴士，沒有買套票，運氣還不錯等車都沒等太久（其實早上出發時是用跑的才趕上），位子也剛好夠，最後回名古屋車站那班差點客滿就是。</p>
<p>名花之里的燈飾規模真的很大，而也很認真弄，不會有稀稀落落的：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399855947/" title="なばなの里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399855947_1a54be61fe_b.jpg" width="1024" height="683" alt="なばなの里" srcset="https://live.staticflickr.com/65535/53399855947_7ff2c2e050_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401217005/" title="なばなの里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401217005_f98c4aa0c2_b.jpg" width="1024" height="683" alt="なばなの里" srcset="https://live.staticflickr.com/65535/53401217005_dc7bf8a659_k.jpg 2x" /></a></p>
<p>今年的主燈則是金字塔：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401216580/" title="なばなの里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401216580_4cfc107b87_b.jpg" width="1024" height="683" alt="なばなの里" srcset="https://live.staticflickr.com/65535/53401216580_b715e87864_k.jpg 2x" /></a></p>
<p>第六天早上一樣是在名古屋車站附近商圈逛逛，午餐後去租車出發往飛驒高山，中間路上有遇到小雪，然後到高山時天也已經都黑了，路上幾乎也沒什麼人，不過那個有名的燒肉店還是排很多人在等，後來找了一家好味燒的餐廳「獨樂」，然後去逛超市結束這天的行程。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401249244/" title="ひるがの高原SA by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401249244_8a6b2148d0_b.jpg" width="1024" height="683" alt="ひるがの高原SA" srcset="https://live.staticflickr.com/65535/53401249244_b8e2b8592d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401111663/" title="お好み焼き独楽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401111663_c218ab5621_b.jpg" width="1024" height="683" alt="お好み焼き独楽" srcset="https://live.staticflickr.com/65535/53401111663_3113910452_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399995367/" title="飛驒高山 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399995367_4dde884cb4_b.jpg" width="1024" height="683" alt="飛驒高山" srcset="https://live.staticflickr.com/65535/53399995367_7149ef1668_k.jpg 2x" /></a></p>
<p>第七天白天在飛驒高山觀光，去了高山陣屋、宮川朝市、高山物產館、飛驒之里，結果早上也是沒仔細研究，順序錯了，本來應該要先去宮川朝市然後才往陣屋方向，順便要去看那條三町的老屋街區，結果一開始就跑錯方向，錯過那條老街，然後高山也都沒下雪，其實心理還是有點想看看雪景的。飛驒之里是一些老屋的集落，其實是搬遷過來的，有些是因為蓋水壩所以遷村之類的原因，也是第一次有機會進到合掌屋理參觀，很意外的是，裡面空間其實超大的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401247844/" title="飛驒高山 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401247844_8a17f241ff_b.jpg" width="1024" height="683" alt="飛驒高山" srcset="https://live.staticflickr.com/65535/53401247844_8557873e2f_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401110058/" title="高山陣屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401110058_76e1422165_b.jpg" width="1024" height="683" alt="高山陣屋" srcset="https://live.staticflickr.com/65535/53401110058_72a3a74f9d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400312907/" title="飛騨の里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400312907_fb82c3c2c2_b.jpg" width="1024" height="683" alt="飛騨の里" srcset="https://live.staticflickr.com/65535/53400312907_7f3f2bda05_k.jpg 2x" /></a></p>
<p>之後就開車往下呂溫泉，這邊有一個失算的，就是這段都不是高速公路，結果害我高速公路 pass 虧到，不過這段路程還算蠻漂亮的，晚上則是入住下呂的冨岳，算是傳統形式的溫泉旅館，早餐晚餐都在房間吃，有大浴場也有包場的時段可以挑。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402799389/" title="下呂温泉 冨岳 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402799389_2a43779e1b_b.jpg" width="1024" height="683" alt="下呂温泉 冨岳" srcset="https://live.staticflickr.com/65535/53402799389_3324ad662d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402663968/" title="下呂温泉 冨岳 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402663968_82d0ae4d67_b.jpg" width="1024" height="683" alt="下呂温泉 冨岳" srcset="https://live.staticflickr.com/65535/53402663968_b301c8d509_k.jpg 2x" /></a></p>
<p>第八天早上去下呂溫泉街逛了一下，然後去溫泉寺，楓葉雖然已經開始掉了但還是很漂亮，之後就開車下山，這段路其實蠻漂亮的，途中經過一個叫下原水壩的地方，經過時就覺得很漂亮，對岸還有火車經過，結果後來發現那邊還真的是一個<a href="https://maps.app.goo.gl/HUt3CXNCDLGQzdyk6">小有名氣的拍照點</a>。午餐則是吃下山後剛好路過的感動的肉與米，事前有查到這間不過沒預期到會剛好經過。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402471541/" title="温泉寺 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402471541_28628c6a67_b.jpg" width="1024" height="683" alt="温泉寺" srcset="https://live.staticflickr.com/65535/53402471541_0740028769_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401547237/" title="感動の肉と米 鵜沼店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401547237_5408c8659a_b.jpg" width="1024" height="683" alt="感動の肉と米 鵜沼店" srcset="https://live.staticflickr.com/65535/53401547237_b17514068c_k.jpg 2x" /></a></p>
<p>感動的肉與米是一個蠻特別的餐廳，可以說是最佳化過後的肉排加米飯的餐廳，東西蠻好吃的，我看網路上有人介紹過東京的店，不過東京店似乎小很多，店內的人來來去去比較不好拍照所以就沒什麼照片，我連自己的肉的照片都不見了。</p>
<p>之後前往犬山城，這趟行程沒去名古屋城反而選擇犬山城，主要是因為犬山城天守是國寶之一，不過天守之外保留下來的部分比姬路城少很多，不過也因此省了很多時間就是，總之就是上去繞了一圈天守這樣，城內倒是沒什麼東西可以看。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402750653/" title="犬山城 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402750653_3fd362ab51_b.jpg" width="1024" height="683" alt="犬山城" srcset="https://live.staticflickr.com/65535/53402750653_ab49664f61_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402562086/" title="犬山城 天守閣 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402562086_2c2b22da41_b.jpg" width="1024" height="683" alt="犬山城 天守閣" srcset="https://live.staticflickr.com/65535/53402562086_66740d3444_k.jpg 2x" /></a></p>
<p>然後住宿就是<a href="https://blog.othree.net/log/2023/12/09/genji-koh/">前一篇文章介紹過的源氏香</a>了。</p>
<p>第九天是回國前一天了，這天本來規劃就是知多半島為主，早上去知多半島最南端的羽豆岬，中午吃河豚，下午隨意逛逛，然後晚上去 J Hotel 臨空。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402662956/" title="羽豆岬 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402662956_1b560fdae5_b.jpg" width="1024" height="683" alt="羽豆岬" srcset="https://live.staticflickr.com/65535/53402662956_e98e2e58fe_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401738057/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401738057_cec9176a67_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53401738057_8f39bf8710_k.jpg 2x" /></a></p>
<p>不過到中午行程結束後，發現沒買小倉山莊的仙貝，所以下午就決定往北走回頭路，跑了一趟<a href="https://ogurasansou.jp.net/store/2021/06/24/16354/">小倉山莊的天白店</a>，順便跑高速公路少虧一點 pass 的錢，其實照本來的規劃應該是要前一天從犬山城往南時過去的，這間店的位置其實意外的偏遠，我覺得應該是沒什麼海外觀光客會到這裡，開車過去途中還經過好一大片的工業區；然後小倉山莊，我真的是覺得很厲害，賣仙貝也可以把商品包裝成這樣，然後店內可以擺的讓人目不暇給，也真的是讓我覺得很佩服，當然東西也好吃。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661296/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661296_3a1e4ab1eb_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53402661296_e8378583cf_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401739502/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401739502_2ca80d02be_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53401739502_9fb6a6e25e_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661171/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661171_f5c49d9e33_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53402661171_1160c63e8d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402851548/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402851548_126191c4d3_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53402851548_20f93503e6_k.jpg 2x" /></a></p>
<p>雖然跑去小倉山荘有點走回頭路，不過也因為跑這一趟，還有機會順便逛了一下 V drug 和<a href="https://www.otakarasouko.com/">お宝創庫 鳴海店</a>，在 V drug 也第一次在日本看到了 Costco 賣的那種 Attack Zero 超大補充包。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402851133/" title="お宝創庫 鳴海店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402851133_09807b0e9d_b.jpg" width="600" height="900" alt="お宝創庫 鳴海店" srcset="https://live.staticflickr.com/65535/53402851133_e48633e49c_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401738752/" title="お宝創庫 鳴海店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401738752_a01f5b03de_b.jpg" width="1024" height="683" alt="お宝創庫 鳴海店" srcset="https://live.staticflickr.com/65535/53401738752_6336922c24_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402660816/" title="V drug by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402660816_9dedcc5d1a_b.jpg" width="600" height="900" alt="Attack Zero 補充包" srcset="https://live.staticflickr.com/65535/53402660816_216d5e0049_k.jpg 2x" /></a></p>
<p>之後就直奔旅館 <a href="https://www.j-hotel-rinku.com/">J Hotel 臨空</a>，旁邊的 AEON Mall 真的超級大，行李丟進房間後又跑去 Costco 逛，我有隨便拍了一些店內商品，可以從<a href="https://www.flickr.com/photos/othree/53402899843/in/album-72177720313161615/">這張</a>開始看，也順便在那邊吃了晚餐。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402899968/" title="AEON Mall 常滑 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402899968_e9eecec6c3_b.jpg" width="1024" height="683" alt="AEON Mall 常滑" srcset="https://live.staticflickr.com/65535/53402899968_7adb1a0c99_k.jpg 2x" /></a></p>
<p><a href="https://www.j-hotel-rinku.com/">J Hotel 臨空</a>這次住起來感覺也很不錯，2023 剛重新裝潢過，有製冰機洗衣機，地理位置也很不錯，就在臨空站旁邊，離中部國際機場和常滑站都只有一站，旁邊 AEON Mall 走路就可以到，房間大小也都不錯，部分房間還有配 <a href="https://www.aladdinx.jp/">Aladdin 投影機</a>，就是那個現在很流行的西瓜遊戲的開發廠商的那個投影機，本來有想請他們幫忙安排，不過入住的時候忘了，但是被安排到很高的樓層是也不錯，房間正對 AEON Mall，看起來也是蠻震撼的，如果要拍中部國際機場或是電車，其實公共區域走到邊邊有個小陽台可以到外面拍，視野很好，也可以看時刻表來拍電車，一大早光線很不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403034194/" title="中部國際機場 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403034194_7033448906_b.jpg" width="1024" height="683" alt="中部國際機場" srcset="https://live.staticflickr.com/65535/53403034194_d7bed7feb7_k.jpg 2x" /></a></p>
<p>第十天也是最後一天，早上打算去常滑市的招財貓大道，在飯店吃早餐時發現有「想哭的我戴上了貓的面具 mini 原畫展」，才發現到常滑市就是該動畫的舞台，展覽也有列出聖地巡禮的點，不過沒什麼時間就沒細看了。飯後開車去常滑站附近逛了招財貓大道後，又接著逛了陶瓷器散步道去找巨大貓咪，必須要說陶瓷器散步道蠻不錯的，很悠閒又很多廢墟也很多商店，如果可以安排一整天在常滑的行程其實也蠻不錯的，可以早上來市區、中午找間餐廳、然後下午可以去 AEON Mall、Costco、明太子公園那一塊，光是 AEON Mall 就可以逛超久，旁邊還有個小賽車場，不想逛街也可以去玩玩，或是下午去機場的 <a href="https://www.centrair.jp/service/flightofdreams.html">FLIGHT OF DREAMS</a> 參觀，然後再來 AEON Mall 也很不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402708386/" title="想哭的我戴上了貓的面具 mini 原畫展 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402708386_97e91b4672_b.jpg" width="600" height="900" alt="想哭的我戴上了貓的面具 mini 原畫展" srcset="https://live.staticflickr.com/65535/53402708386_ee2abbed17_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401907747/" title="とこなめ招き猫通り by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401907747_e0c320dcff_b.jpg" width="1024" height="683" alt="とこなめ招き猫通り" srcset="https://live.staticflickr.com/65535/53401907747_3a0fa69db9_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402827296/" title="やきもの散歩道 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402827296_cf1d6d934d_b.jpg" width="1024" height="683" alt="やきもの散歩道" srcset="https://live.staticflickr.com/65535/53402827296_7a5a6c3bc1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403261865/" title="とこなめ見守り猫「とこにゃん」 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403261865_c66fd71b66_b.jpg" width="1024" height="683" alt="とこなめ見守り猫「とこにゃん」" srcset="https://live.staticflickr.com/65535/53403261865_5c33ca1394_k.jpg 2x" /></a></p>
<p>之後因為還有時間就去明太子樂園，然後 AEON Mall 吃午餐、隨便逛逛然後就去機場了，機場去領貨和買了一箱蝦餅，蝦餅本來在那邊挑半天，回來後覺得應該全部買綜合就好（PS. 真的蠻好吃）。</p>
<p>順帶一提，這間 AEON Mall 也有 Village Vanguard，而且有一半是 Village Vanguard Outlet，是我第一次看到這間書店的 outlet。我第一次知道 Village Vanguard 其實是被表哥帶去的，當時他們在高雄有開分店，中文店名叫「比利治玩家」，就是專門賣一些怪東西 ecxiting book store，到底賣什麼可以參考我從<a href="https://www.flickr.com/photos/othree/53402709586/in/album-72177720313161615/">這張</a>開始的照片，或是上他們<a href="https://www.village-v.co.jp">官網</a>逛逛就知道了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403146263/" title="かねふく めんたいパークとこなめ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403146263_53c42337a0_b.jpg" width="1024" height="683" alt="かねふく めんたいパークとこなめ" srcset="https://live.staticflickr.com/65535/53403146263_3552e69603_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403280364/" title="AEON Mall 常滑 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403280364_00454e6c32_b.jpg" width="1024" height="683" alt="AEON Mall 常滑" srcset="https://live.staticflickr.com/65535/53403280364_6abeeca16f_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402899108/" title="Village Vanguard 常滑 AEON Mall by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402899108_40eaaa9ca6_b.jpg" width="1024" height="683" alt="Village Vanguard 常滑 AEON Mall" srcset="https://live.staticflickr.com/65535/53402899108_d8a379814d_k.jpg 2x" /></a></p>
<p>最後，就來說說這次旅行的收穫與缺憾吧，首先是收穫的部分，第一個就是稍微體會到下雪天駕駛的感覺，不過因為雪不大，也只有在高速公路上，所以沒有到雪地駕駛的程度；第二個是河豚大餐，之後想單獨寫一篇文章介紹；然後第三個就是常滑和臨空區意外的還不錯，本來也有想單獨寫一篇文章，不過上面已經介紹的差不多了。</p>
<p>至於比較缺憾的部分：</p>
<ul>
<li>沒有看到高山雪景，不過我也有點害怕真的要雪地駕駛就是；</li>
<li>少去了羽豆岬旁邊的師崎漁港朝市；</li>
<li>東西買太少；</li>
<li>沒時間去鈴鹿賽車場；</li>
</ul>
<p>其實我當初規劃在市區近郊的行程有好幾個，可是因為後來市區天數縮水就沒機會了，這邊來列一下：</p>
<ul>
<li>鈴鹿賽車場，應該可以整個白天，不過要小心有比賽的日子，特別有興趣是因為有可以<a href="https://www.suzukacircuit.jp/tw/experience/amusementpark/circuitchallenger/">上真的賽道開電動車的體驗</a>，不過當然不是房車大小那種，但是也有雙座位的車種可以讓小孩在旁邊；</li>
<li>名古屋港：可以參觀南極探測船 5001 富士，因為之前看了<a href="https://blog.othree.net/log/2023/08/02/yorimoi/">比宇宙更遠的地方</a>，所以其實還蠻有興趣的；然後可以搭<a href="https://www.shachi-bus.com/marine/">水陸巴士</a>；接著去名古屋港水族館，不過如果想看企鵝散步時間可能要研究一下怎樣搭配比較好；</li>
<li>吉卜力公園，應該可以一個整天，不過這次因為小孩都還沒看過所以就沒安排，買票也還有點複雜，有想去的話可能要好好花時間研究；</li>
<li>樂高樂園加磁浮博物館，看地圖距離好像還好不過其實步行走的話還蠻遠的，加上樂高樂園我們離開時也已經五點多，所以就沒機會去磁浮博物館了；</li>
<li><a href="https://toyota-automobile-museum.jp/">Toyota 博物館</a>，除了我們去的產業技術紀念館之外，其實 Toyota 還有一間博物館，展示的東西內容也和產業技術紀念館不一樣，產業技術紀念館比較著重在各種技術的發展，而 Toyota 博物館就真的是以展示車輛為主的樣子。</li>
</ul>
<p>最後就是其他的遊記了：</p>
<ul>
<li><a href="https://blog.othree.net/log/2023/12/09/genji-koh/">源氏香 南知多</a></li>
<li><a href="https://blog.othree.net/log/2024/01/12/qr-code-history/">QR Code 發明歷史展</a></li>
</ul>
</b:extendContent>
			</b:content>


		</b:entry>

		<b:entry entryID="001000" baseName="genji-koh">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2023-12-09</b:date>
				<b:time>15:41:08</b:time>
			</b:datetime>
			<b:category>diary</b:category>
			<b:title>源氏香 南知多</b:title>
			<b:content>
				<b:summary> 前陣子去了一趟名古屋，一開始其實只是想說帶小孩去樂高樂園，結果行程規劃從一開始的名古屋市區和周邊為主，弄到後來變成市區五天租車五天的，然後打算最後一天住在機場旁邊，就想說那前一天就在附近玩玩好了，要去的地方就因此多了一個一開始完全沒考慮過的「知多半島」了，當然也有研究住宿，當時也有找到「源氏香」這間旅館，不過那時候已經有安排了下呂溫泉的溫泉旅館，所以就沒考慮這個價位的住宿了，就在一切都安排好後沒幾天，突然就看到 FB 上有人分享到他們有特別的，針對台灣人的免費體驗方案，就是入住後要在 SNS 上分享。...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566549/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566549_d4c2cc3812_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566549_2332169903_k.jpg 2x" /></a></p>
<p>前陣子去了一趟名古屋，一開始其實只是想說帶小孩去樂高樂園，結果行程規劃從一開始的名古屋市區和周邊為主，弄到後來變成市區五天租車五天的，然後打算最後一天住在機場旁邊，就想說那前一天就在附近玩玩好了，要去的地方就因此多了一個一開始完全沒考慮過的「知多半島」了，當然也有研究住宿，當時也有找到「<a href="https://genji-koh.kaiei-ryokans.com/">源氏香</a>」這間旅館，不過那時候已經有安排了下呂溫泉的溫泉旅館，所以就沒考慮這個價位的住宿了，就在一切都安排好後沒幾天，突然就看到 FB 上有人分享到他們有特別的，針對台灣人的免費體驗方案，就是入住後要在 SNS 上分享。</p>
</b:mainContent>
				<b:extendContent><p>研究加考慮了幾天，決定還是給他申請下去，然後因為有帶小孩的關係，我也有先寫信聯絡確認過沒問題（我日文大概是簡單的可以讀但不太能寫、所以靠 ChatGPT 翻譯，旅館方他們的回信也都有用工具翻譯成中文，所以溝通還算不是太大的問題），當然有另外收費，本來有點期待可以在房間看夕陽的，不過當天因為從下呂出發，中間還去了犬山城，然後七早八早就天黑，所以到達旅館時，已經看不到太陽了，還好還有晚霞。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377252211/" title="源氏香 夕陽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377252211_1035494cc3_b.jpg" width="1024" height="683" alt="源氏香 夕陽" srcset="https://live.staticflickr.com/65535/53377252211_878a8725b3_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376328142/" title="源氏香 夕陽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376328142_dc58e088f7_b.jpg" width="1024" height="683" alt="源氏香 夕陽" srcset="https://live.staticflickr.com/65535/53376328142_fecdbaf6a1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377699285/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377699285_e3eb6e2798_b.jpg" width="683" height="1024" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377699285_3a628c14ab_k.jpg 2x" /></a></p>
<p>大門邊還有兩盆火和一個鼓，後來看到其他人分享說請他們接送的，到飯店時還會有人擊鼓歡迎，不過我們到的時候停車場其實已經黑麻麻的了。進入大廳後馬上就聞到很特別的香味（飯店的特色），辦理入住後有抹茶和小點心，小點心我當時沒吃，回來才發現也是南知多的點心店的類似麻糬的小點，還蠻好吃的，意外的是還送了紙鶴的摺紙和色紙給我們的小朋友。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377695225/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377695225_da81da4c2f_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377695225_67d87ceeda_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377695225/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377430478_9901c76d9e_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377430478_5227e74aa8_k.jpg 2x" /></a></p>
<p>房間是他們最標準的和室，另外有獨立廁所、乾濕分離的衛浴、洗臉台還有兩個，其實空間也是很大，棉被則是自己鋪，不過有需要的也可以播電話到前台請他們幫忙，其他備品設備都很齊，可以自己燒水，還有一壺冷水(有冰那種）可以飲用，清潔度也沒大問題，我沒特別刁難的下去找哪裡沒乾淨，當然有些設備有點舊，不過都維護的還不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377430593/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377430593_9dc5f67f44_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377430593_805b310402_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377253426/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377253426_129c06686a_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377253426_030b98f08b_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377253426/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377430778_204ce69195_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377430778_66f98f2f8d_k_d.jpg 2x" /></a></p>
<p>進到房間時天色已經幾乎要全黑了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377253961/" title="源氏香 夕陽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377253961_aef74feac6_b.jpg" width="1024" height="683" alt="源氏香 夕陽" srcset="https://live.staticflickr.com/65535/53377253961_e2c4dd71f8_k.jpg 2x" /></a></p>
<p>然後就是特色的品香體驗了，除了官網介紹的體驗的活動之外，房間都有固定的準備了五種香可以自己點起來品聞。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377431548/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377431548_0e01a75328_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377431548_cc43a881e6_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377701580/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377701580_c55f6148d0_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377701580_2b00978bdb_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376329882/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376329882_d8863a7ef8_b.jpg" width="683" height="1024" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376329882_d00263949c_k.jpg 2x" /></a></p>
<p>我們試了其中三種，左邊兩個那個就比較接近台灣拜拜燒的香，不過第一款點的藍色的和第二天點的桃紅的都很特別，而且是好聞的味道，文章的前面沒詳述，其實源氏香號稱是日本第一間以薰香為主題的旅館（1999 年開業，其實不算老，有點意外這之前沒人想過經營這樣主題的旅宿），從一進到旅館就可以感受到，不同的公共空間有著不同的香味，像是大廳和電梯就明顯用了不一樣的香味，都是很好聞且會讓人舒服可以放鬆的味道，然後讓我印象深刻的是，這些味道其實我都沒有聞過（記憶中沒聞過），味道濃郁卻不也會刺鼻或讓人不舒服，而且我不會過敏，對我來說是個非常新的體驗，就是開了眼界這樣，原來有這樣的香味，然後原來可以這樣子來使用這些香味。</p>
<p>接著休息到晚餐時間，日式溫泉旅館的定番：懷石料理套餐，也有準備好中文版的菜單給我們看，有開胃菜、生魚片、肉類拼盤、蒸菜、天婦羅等，食物很美味，份量也夠，吃完時就很飽了，最後還給我們豆皮壽司帶回房間當宵夜，另外就是吃飯時都是單獨包廂，雖不是完全獨立房間但也有簾子可以完全檔著，隱私還是顧的不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377425398/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377425398_1ffcfbf3bf_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377425398_1f78921360_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376330807/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376330807_6e725f49a4_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376330807_e02bf3c15c_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377433103/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377433103_880a8e4482_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377433103_4b26839cc8_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376332187/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376332187_b673076856_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376332187_e9bc8de114_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376332352/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376332352_b049f76634_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376332352_477d362dc6_k.jpg 2x" /></a></p>
<p>飯店內很多地方都有展示薰香相關的東西，尤其是香爐。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377705165/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377705165_d4fab5674c_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377705165_0c9f74e0bc_k.jpg 2x" /></a></p>
<p>飯後休息一陣子後，我們就去洗澡泡湯了，旅館內的澡堂，在最頂樓十樓有男女分開兩間露天澡堂，然後八樓九樓各一間室內，一男一女的，我們想說晚上先泡室內的就好了，隔天早上再去泡露天的，不過這個決定有點失算，首先是兩間室內澡堂其實最早的規劃是包場的貸切風呂，現在改成公用的，所以很多基礎設備是沒有的，像是可以上鎖的櫃子，所以房間鑰匙只能和毛巾衣物一起塞到竹籃裡面，我本來覺得很奇怪，想說完全沒有也太奇怪，直到隔天去頂樓一看，才發現兩邊設備差太多了吧，頂樓不但更衣休息空間都大很多，有私人櫃子，還有飲水機和冰櫃，有免費冰棒，但是只有下午到晚上開放取用，所以我沒吃到...，要是還有其他人來造訪記得還是以露天風呂為優先，不然也是可以泡湯完去十樓的休息休息，晚上可以去拿冰棒吃，然後除了兩個澡堂的差異之外，還有一點要特別注意的是，澡堂開放時間不是非常棒，晚上只有到十一點，隔天早上則是九點（退房是十點）。</p>
<p>泡完澡，回到房間休息，看看外面，發現到看得到內海對岸（看地圖是伊勢神宮那方向最亮）的燈光，然後光害很少，所以星星也很多，用相機拍下去更多。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377429313/" title="源氏香 夜景 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377429313_6f8d04c654_b.jpg" width="1024" height="683" alt="源氏香 夜景" srcset="https://live.staticflickr.com/65535/53377429313_ade5d6dee5_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377698565/" title="源氏香 夜景 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377698565_6fa79d8ef6_b.jpg" width="683" height="1024" alt="源氏香 夜景" srcset="https://live.staticflickr.com/65535/53377698565_9f27911f1f_k.jpg 2x" /></a></p>
<p>可以拍星空，算是很意外的收穫，這天還是有月亮跑出來的日子，不然應該可以拍的到更多星星。然後晚上真的是很冷，南知多冬天應該是淡季吧，雖然有虎河豚，但是好像沒什麼其他觀光客。</p>
<p>隔天早上，意外的發現，這個地理位置竟然可以拍日出，但是我起床時太陽已經跑出來了一陣子了，我真是太小看日本的緯度了，</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376325997/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376325997_71e6f0071f_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376325997_c069bccb7c_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377696905/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377696905_f3519e90fc_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377696905_123e239c57_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377697230/" title="源氏香 廣緣 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377697230_62a1850dfb_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377697230_8fe833fe6e_k.jpg 2x" /></a></p>
<p>早餐一樣是在二樓餐廳，白天配上窗外景色真是漂亮很多，早餐也很豐盛，而且就有河豚可以吃了，不過是比較小隻的！</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566549/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566549_d4c2cc3812_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566549_2332169903_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566244/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566244_df5557fa88_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566244_40a043453e_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566469/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566469_242ecdbbde_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566469_aa5af1c24d_k.jpg 2x" /></a></p>
<p>因為澡堂早上九點就關的關係，我們排很早吃早餐，吃完飯後就去泡露天溫泉，外面依然很冷，躲在熱水裡都不敢出來，不過風景很好，其實在決定參加前，有看 Google Map 上的一些評論，有很多人說到露天溫泉水裡有很多羽毛之類ㄉ，這次我倒是沒遇到，不過不確定是因為冬天比較沒鳥來亂，還是有認真改善這個問題就是。</p>
<p>泡完湯後回房間休息，最後又點了一枝香。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377426453/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377426453_e156813103_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377426453_fcd357b2c6_k.jpg 2x" /></a></p>
<p>大廳早上還有一個迷你朝市，有賣些漁產，還有賣早餐的河豚（已經是處理成一夜干加上真空包裝了），逛完我們就退房去南知多的行程了，飯店的人也出來送別，還在門口等我們到準備好發車離開。</p>
<p>整體而言，這次的住宿是滿意的，雖然有發現一些小問題，不過重要的幾個項目都有不錯的體驗：房間舒適、薰香讓人印象深刻、餐飲也好吃、溫泉、海邊景觀很棒，雖然是特別的方案但是也沒給我們特別關照或是過度干擾，只有入住退房時有跟我們提醒到活動相關的規則。算是個花錢後不會讓人覺得不值的經驗，不過我發現南知多去的外國觀光客好像不多，甚至有很多是只能打電話預約的當地住宿，所以就來附上南知多我簡單研究一下覺得可以值得去看的景點（需自駕）：</p>
<ul>
<li><a href="https://www.ebisato.co.jp/index.php">蝦仙貝之里工廠</a>：本來是想讓小孩去作仙貝，但是因為本來就打算去機場買一箱，所以沒時間就放棄了；</li>
<li><a href="https://www.aichi-now.jp/spots/detail/112/">羽豆岬</a>：知多半島最南端，有神社、小展望台，還有個羽豆崎城跡，很小沒被列到兩百名城中；</li>
<li><a href="https://www.morozaki.jp/asaichi/">師崎港 朝市</a>：就在羽豆岬附近，不是在主要道路旁邊所以我錯過了，扼碗，看到別人去逛覺得蠻有趣的；</li>
<li>海鮮餐廳：附近很多海鮮餐廳，冬天有河豚，我有預約一間吃了虎河豚套餐，之後再來介紹（其實源氏香也有河豚套餐）；</li>
<li>其他還有一些甜食點心的店，像我本來有查了一兩家 parfait 的咖啡廳要去，結果吃完河豚套餐就太飽了；</li>
<li><a href="https://www.tokoname-kankou.net/">常滑市</a>在機場旁邊，算是比較熱鬧的地方，如果不規劃到更南邊，或是沒有開車，光是常滑市排個半天一天也不錯，車站附近有陶瓷器散步道，氣氛很不錯，還有很多招財貓，靠近機場那邊還有超大的 AEON Mall 和 Costco（見<a href="https://www.flickr.com/photos/othree/53384408327/in/dateposted-public/">照片</a>），然後這次去了我才發現該市也是 <a href="https://www.netflix.com/tw/title/81281872">想哭的我戴上了貓的面具</a> 的取景地。</li>
</ul>
</b:extendContent>
			</b:content>


		</b:entry>

		<b:entry entryID="000999" baseName="sign-in-with-">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2023-11-08</b:date>
				<b:time>21:52:51</b:time>
			</b:datetime>
			<b:category>web</b:category>
			<b:title>Sign-in with OOO ID</b:title>
			<b:content>
				<b:summary>最近工作上在研究 Sign-in with Apple/Google ID，其實這件事情也作過很多次了，不過距離上次也有點久了，不知道那些 SDK 有沒有什麼改變，所以還是要重頭來，而且這次多研究了一個 Apple，有搞懂些以前沒釐清的細節，想說紀錄一下。 首先就是，我發現到 Google 和 Apple 現在都會回一個 ID Token，內容則是 JWT，而且是認真的 JWT，真的會有帶一點使用者資料（像是 email）的，可以用來作 user authentication（認證）用的，這在以前只有 OAuth 2.0 的時候是沒有的，查一陣子資料才發現這其實是 OpenID Connect（簡稱 OIDC） 規範的，該規範是是 2014 年發布的，其實還比 JWT 早定稿。 相較於 OAuth 2.0 做的是 authorization（授權），OIDC 做的則是 authentication（認證），只不過 OIDC 是整個依附在...</b:summary>
				<b:mainContent><p>最近工作上在研究 Sign-in with Apple/Google ID，其實這件事情也作過很多次了，不過距離上次也有點久了，不知道那些 SDK 有沒有什麼改變，所以還是要重頭來，而且這次多研究了一個 Apple，有搞懂些以前沒釐清的細節，想說紀錄一下。</p>
<p>首先就是，我發現到 Google 和 Apple 現在都會回一個 <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">ID Token</a>，內容則是 JWT，而且是認真的 JWT，真的會有帶一點使用者資料（像是 email）的，可以用來作 user authentication（認證）用的，這在以前只有 OAuth 2.0 的時候是沒有的，查一陣子資料才發現這其實是 <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect</a>（簡稱 OIDC） 規範的，該規範是是 2014 年發布的，其實還比 JWT 早定稿。</p>
<p>相較於 OAuth 2.0 做的是 authorization（授權），OIDC 做的則是 authentication（認證），只不過 OIDC 是整個依附在 OAuth 2.0 的架構上，利用的就是 OAuth 2.0 的 <a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.1.1">response_type</a>，本來只有 <code>code</code> 和 <code>token</code> 兩種，在 OIDC 多提供了 <a href="https://openid.net/specs/openid-connect-core-1_0.html#Authentication"><code>id_token</code></a>，ID Token 是用 JWT，而且也有明確定義有裡面的 user profile 相關的<a href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">欄位</a>（不是定義哪些是必須提供，而是定義好語意和對應的欄位名稱）。</p>
<p>第二個則是我一直存疑已久的問題，就是 OAuth 2.0 的設計上基本是用 redirection flow，而且 <a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.1.2"><code>redirect_uri</code></a> 也是必要的，但是 Google 其實一直都支援純 JS 的方案，也就是說 Relying Party(應用程式端)不需要實作一個 redirection endpoint 來接資料，前端的 JS 就可以直接拿到 authorization code 和 access token，這次也認真的研究了這個問題，結果發現，Apple 的 OAuth 流程中，<a href="https://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#ResponseModes">response_mode</a> 給的值是目前不在標準內的 <code>web_message</code>，而 Google 則是 <a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.1.2"><code>redirect_uri</code></a> 給的是一個沒見過的 scheme：<code>storagerelay://</code> 的 URI。</p>
<p>其實我一開始以為這些設計，是各個公司自己想一想然後就自己做下去的，結果沒想到其實不是，首先是 Apple 的實作，用的是 <a href="https://datatracker.ietf.org/doc/html/draft-sakimura-oauth-wmrm-00">OAuth 2.0 Web Message Response Mode</a> 這份草稿的設計，這份草稿其中一位作者 Nat Sakimura 現在是 OpenID 的 chairman，而且他也是其他很多相關規範的作者（像是 <a href="https://www.rfc-editor.org/rfc/rfc7519">JWT</a>)，不過這份草稿只有一版且沒人更新，有很多細節沒有寫定，大部分都是提供範例程式碼而已，所以 Apple 有些東西不是照範例做，例如 message 的 payload；Google 實作的則是 <a href="https://lists.openid.net/pipermail/openid-specs-ab/2015-November/005865.html">OAuth 2.0 IDP-IFrame-based Implicit Flow</a>，這份文件其實是我最後才找到的，因為這份只有出現在 OpenID 的 mailing-list，而且也完全沒有討論和更新，不像前一份還有發到 IETF，回到文件內容，這份的作者，就全部都是 Google 的人了，內容完整許多，也有定義好 message 的 payload 結構，不過還是有些細節有缺，像是認證完成後的回傳事件，現在 Google 用的事件名稱在這份文件中就找不到。</p>
<p>除了這兩份草稿外，其實還有一份是 <a href="https://curity.io/">Curity</a> 提出的 <a href="https://datatracker.ietf.org/doc/html/draft-ideskog-assisted-token-05">OAuth 2.0 Assisted Token</a>，一樣有發到 IETF，而且還比較有在更新，最新一版是 2021 的，Assisted Token 的設計是多給了一個流程叫做 Assisted Token Flow，用不一樣的 URL 來使用這個 flow，這個流程的最後一步就是 postMessage 回到 opener/parent，規範寫的比較完整，包括各種新屬性的 registry、message 的 payload，還有安全性相關的考量都有，不過我看一看有些地方覺得有些疑惑，第一個是 message payload 的結構似乎辨識度沒很高，第二個則是完全沒提到 refresh token 和 authorization code，不確定是目前還沒考慮到那邊，還是因為安全性考量把它們先排除。</p>
<p>第三個是 Apple 的實作，雖然基本上還是照著 OAuth，但是其實限制更多，首先就是，<code>scope</code> 就只有 email 和 name 可以拿，而且 Apple 做成，只有第一次 authorization 時，會把 user profile 傳給 RP，之後是拿不到的（不過 email 有在 id token 內），然後，雖然可以拿到 access token，但是其實完全沒有可以使用它的 API endpoint，所以什麼事情都不能作，真的只能用來做 authentication，最後一個，就是用 code 換 token 時，要給的 <code>client_secret</code> 參數還特別麻煩，要<a href="https://developer.apple.com/documentation/accountorganizationaldatasharing/creating-a-client-secret">自己組一個 JWT</a>（但是也因此會 expire 比較安全），然後用之前從 Apple Developer 後台生好的 secret key 去算 signature。</p>
<p>最後一個想紀錄的就是，這幾份標準和文件裡面幾乎都有一個章節是 Security Consideration，內容雖然不全面但是還蠻值得一看的，也有提到一些攻擊手法，而除此之外，其實還有一份文件：<a href="https://www.rfc-editor.org/rfc/rfc6819">RFC6819: OAuth 2.0 Threat Model and Security Considerations</a>，內容就是有說明 OAuth 2.0 各種設計在安全性上的考量（像是為什麼有 <a href="https://www.rfc-editor.org/rfc/rfc6819#section-3.3">Refresh Token</a>，什麼情境下它有助於安全性的提升），以及各種可能的攻擊手法。</p>
</b:mainContent>
				<b:extendContent></b:extendContent>
			</b:content>


		</b:entry>

		<b:entry entryID="000998" baseName="celeste">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2023-10-22</b:date>
				<b:time>20:56:37</b:time>
			</b:datetime>
			<b:category>acg</b:category>
			<b:title>Celeste</b:title>
			<b:content>
				<b:summary> 一直想寫一篇關於 Celeste（蔚藍山脈）的文章，不過拖了很久一直寫不出來，其實我當初也是拖了很久才玩的。我因為原本就很喜歡 2D 的平台遊戲，然後看到 Celeste 的介紹覺得很特別，以登山為目標，沒有戰鬥但是有挑戰性的平台遊戲，多麼特別啊！所以 2019 年我就把它買下來了，還是 Limited Run Games 的版本，結果買回來後，稍微玩一下覺得怎麼難到爆炸，就放置了。 後來到了 2021 年底，在 FB 看到橘子說他登頂了，我才一點手癢一點不服輸的又重拾了起來，結果這次就順利了突破一開始的障礙，漸漸的上手了起來，後來橘子更是把全部的關卡包括第九章都過完了，本來想說我 B 面 C 面不勉強（有多難可以參考机核的文章：《蔚蓝：Celeste》：每个人心中都有一座山，但并非每个人都能登上山顶），結果還是不服輸的就慢慢的也都過完了，必須說這關卡難度的曲線設計的真的是非常棒，最後花了一個月左右，遊戲時間 50 多小時，成績是把全部關卡通過，收集到所有除了黃金草莓以外的草莓，認真的說，這遊戲真的很難，我相信一定很多人無法達到這樣的成績，當然我也不是要說我多厲害，因為我這樣的成績還不是全要素收集，更上一層還有無死通關的金草莓，不過這樣的挑戰歷程已經讓我想寫文章記錄下來了。 我覺得這款遊戲最讓我感到厲害的，就是它遊戲的內外呼應，遊戲內的故事主軸是登山，而在了遊戲故事之外，這款遊戲也設計成了一個讓人攀登的高山，關卡和整體的難度就是設計的非常精巧，大家都可以在山腳出發，但是可能只有一半人能到五成高度，到了八成高度的地方就只剩下兩成，而真正能到達山頂，達成全要素，收集到所有的草莓，真正見到最後那個山頂風景的，就只有少數的那些玩家，那 26 個黃金草莓，全世界登記有案能拿到的大約只有三百多人（台灣也有至少一位），Celeste 也有賣出一百萬套左右，也就說只有萬分之三的人，能夠到達這款遊戲的真正的山頂（要素的山頂、還有另一批人在拼 speed run）。 本來還想要介紹更多的東西，但是寫了兩三次都不盡如意，最後決定，留下這篇文章作為自己參與了這段挑戰的紀錄，我到現在偶爾，都還會拉出當時登山時的一些影片紀錄，有些關卡真的是非常困難，難到讓人過關時都忍不住會按下 Switch 的錄影按鍵紀錄下來，甚至也不少是功虧一簣的紀錄，當然，我拿到最後一顆 moon berry 的紀錄也有，當時也有貼在 FB 上。 附上幾篇開發相關的延伸閱讀： 開發經驗分享】專題系列－《Celeste》...</b:summary>
				<b:mainContent><p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53276279101/" title="Celeste by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53276279101_c264a1ba25_b.jpg" width="768" height="1024" alt="Celeste" srcset="https://live.staticflickr.com/65535/53276279101_77a78ba47f_k.jpg 2x" /></a></p>
<p>一直想寫一篇關於 <a href="https://www.celestegame.com/">Celeste</a>（蔚藍山脈）的文章，不過拖了很久一直寫不出來，其實我當初也是拖了很久才玩的。我因為原本就很喜歡 2D 的平台遊戲，然後看到 Celeste 的介紹覺得很特別，以登山為目標，沒有戰鬥但是有挑戰性的平台遊戲，多麼特別啊！所以 2019 年我就把它買下來了，還是 <a href="https://limitedrungames.com/products/switch-limited-run-23-celeste-preorder">Limited Run Games 的版本</a>，結果買回來後，稍微玩一下覺得怎麼難到爆炸，就放置了。</p>
<p>後來到了 2021 年底，在 FB 看到橘子說<a href="https://www.facebook.com/Orange.8361/posts/pfbid0MZgonb2aBDzEfp1JwzrRALTZGtjf384afpWZXYFo9Pt3Pk78rDaJAwxyXyPwtHoNl">他登頂了</a>，我才一點手癢一點不服輸的又重拾了起來，結果這次就順利了突破一開始的障礙，漸漸的上手了起來，後來橘子更是把<a href="https://www.facebook.com/Orange.8361/posts/pfbid02hRCPB4QydeQnBcUygewfZh7akZ2nWr9i9XTQmvB2sVpLjsheCCjWtiuuZmWpfJwal">全部的關卡包括第九章都過完</a>了，本來想說我 B 面 C 面不勉強（有多難可以參考机核的文章：<a href="https://www.gcores.com/articles/96249">《蔚蓝：Celeste》：每个人心中都有一座山，但并非每个人都能登上山顶</a>），結果還是不服輸的就慢慢的也都過完了，必須說這關卡難度的曲線設計的真的是非常棒，最後花了一個月左右，遊戲時間 50 多小時，成績是把全部關卡通過，收集到所有除了黃金草莓以外的草莓，認真的說，這遊戲真的很難，我相信一定很多人無法達到這樣的成績，當然我也不是要說我多厲害，因為我這樣的成績還不是全要素收集，更上一層還有無死通關的金草莓，不過這樣的挑戰歷程已經讓我想寫文章記錄下來了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53281633529/" title="Celeste by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53281633529_58b4cc2bc0_b.jpg" width="1024" height="576" alt="Celeste" srcset="" /></a></p>
<p>我覺得這款遊戲最讓我感到厲害的，就是它遊戲的內外呼應，遊戲內的故事主軸是登山，而在了遊戲故事之外，這款遊戲也設計成了一個讓人攀登的高山，關卡和整體的難度就是設計的非常精巧，大家都可以在山腳出發，但是可能只有一半人能到五成高度，到了八成高度的地方就只剩下兩成，而真正能到達山頂，達成全要素，收集到所有的草莓，真正見到最後那個山頂風景的，就只有少數的那些玩家，那 26 個黃金草莓，全世界登記有案能拿到的大約只有<a href="https://celeste.ink/wiki/List_of_Celeste_players_with_the_Farewell_Golden_Berry">三百多人</a>（<a href="https://forum.gamer.com.tw/C.php?bsn=32436&amp;snA=17">台灣也有至少一位</a>），Celeste 也有賣出一百萬套左右，也就說只有萬分之三的人，能夠到達這款遊戲的真正的山頂（要素的山頂、還有另一批人在拼 speed run）。</p>
<p>本來還想要介紹更多的東西，但是寫了兩三次都不盡如意，最後決定，留下這篇文章作為自己參與了這段挑戰的紀錄，我到現在偶爾，都還會拉出當時登山時的一些影片紀錄，有些關卡真的是非常困難，難到讓人過關時都忍不住會按下 Switch 的錄影按鍵紀錄下來，甚至也不少是功虧一簣的紀錄，當然，我拿到最後一顆 moon berry 的紀錄也有，當時也有<a href="https://www.facebook.com/othree/posts/pfbid0RtymcvfzMXR2QfdD1X756CNoCzuZBe4WYj9dCsCEu4zpEVorNweWqBjbrTMtUnJZl">貼在 FB</a> 上。</p>
<p>附上幾篇開發相關的延伸閱讀：</p>
<ul>
<li><a href="https://indie-guider.games/post/DevStudy-Celestegame/">開發經驗分享】專題系列－《Celeste》</a></li>
<li><a href="https://qwe321qwe321qwe321.github.io/posts/61013/">從移動和跳躍開始，做好 2D 平台跳躍遊戲的角色控制 _BB001</a></li>
<li><a href="https://www.rockpapershotgun.com/celeste-dash">Why Celeste's dash feels great</a></li>
<li><a href="https://www.youtube.com/watch?v=4RlpMhBKNr0">Level Design Workshop: Designing Celeste</a> Celeste 開發者 Maddy Thorson 在 GDC 2017 的分享</li>
</ul>
<p>其他延伸閱讀可以參考橘子的第二篇 FB 貼文。</p>
</b:mainContent>
				<b:extendContent></b:extendContent>
			</b:content>


		</b:entry>

		<b:entry entryID="000997" baseName="digital-envelope-routines-unsupported">
			<b:author>
				<b:authorName>othree</b:authorName>
				<b:authorEmail>othree@gmail.com</b:authorEmail>
				<b:authorUrl></b:authorUrl>
			</b:author>
			<b:datetime>
				<b:date>2023-09-15</b:date>
				<b:time>11:41:56</b:time>
			</b:datetime>
			<b:category>script</b:category>
			<b:title>digital envelope routines::unsupported</b:title>
			<b:content>
				<b:summary>Node.js 16 LTS 已經結束維護，所以手上的東西就開始需要升級升級，然後就必須要來正面面對這個我逃避已久的錯誤訊息： digital envelope routines::unsupported 這錯誤基本上就是發生在幾個網站的專案，尤其是 build 專案時特別會容易看到，而且這個錯誤其實和一般看到的 JS 錯誤長得不太一樣，全貌其實是這樣： Error: error:0308010C:digital envelope routines::unsupported 首先是錯誤訊息，前面有一些 hex 值，不知道是什麼，然後下面 trace 的地方，可以看到幾乎都是 node_module 內的東西，不是因為我們自己的 code 造成的，所以就很讓人困惑，想說是不是什麼系統問題、還是有什麼偷用非公開 API 造成不相容的狀況。總之以前就是遇到這個問題就是又降版回來，沒有仔細深究，這次終於要來認真處理，不過搜尋結果，幾乎都是說加一個 --openssl-legacy-provider flag，都沒人說到底是什麼問題，尋找許久，終於在 StackOverflow 找到一則最正確的答案，沒想到和 OpenSSL 1.x 的生命已經到盡頭有關。 結果這個錯誤，其實是因為 Node.js 17 開始，從 OpenSSL 1.x...</b:summary>
				<b:mainContent><p>Node.js 16 LTS 已經結束維護，所以手上的東西就開始需要升級升級，然後就必須要來正面面對這個我逃避已久的錯誤訊息：</p>
<pre><code>digital envelope routines::unsupported
</code></pre>
<p>這錯誤基本上就是發生在幾個網站的專案，尤其是 build 專案時特別會容易看到，而且這個錯誤其實和一般看到的 JS 錯誤長得不太一樣，全貌其實是這樣：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53186660279/" title="digital envelope routines::unsupported by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53186660279_4f2b82bbbc_b.jpg" width="1024" height="738" alt="digital envelope routines::unsupported" srcset="https://live.staticflickr.com/65535/53186660279_a5cd706923_k.jpg 2x" /></a></p>
<pre><code>Error: error:0308010C:digital envelope routines::unsupported
</code></pre>
<p>首先是錯誤訊息，前面有一些 hex 值，不知道是什麼，然後下面 trace 的地方，可以看到幾乎都是 node_module 內的東西，不是因為我們自己的 code 造成的，所以就很讓人困惑，想說是不是什麼系統問題、還是有什麼偷用非公開 API 造成不相容的狀況。總之以前就是遇到這個問題就是又降版回來，沒有仔細深究，這次終於要來認真處理，不過搜尋結果，幾乎都是說加一個 <code>--openssl-legacy-provider</code> flag，都沒人說到底是什麼問題，尋找許久，終於在 StackOverflow 找到一則<a href="https://stackoverflow.com/a/73027407/443051">最正確的答案</a>，沒想到和 OpenSSL 1.x 的生命已經到盡頭有關。</p>
<p>結果這個錯誤，其實是因為 Node.js 17 開始，從 OpenSSL 1.x 換到 3.x，然後 OpenSSL 3.x 不是向下相容的，所以有些東西有機會出錯，這邊爛掉的，其實是一些 legacy 的 hash method 預設是拿掉的，而 Webpack 在建立 bundle 檔案時，如果檔名有用到 hash 的話，預設的 hash method 用的就是已經被淘汰的 <a href="https://www.openssl.org/docs/man3.1/man3/MD4.html">md4</a>，然後 md4 是用 Node.js 的 <a href="https://nodejs.org/docs/latest-v20.x/api/crypto.html#cryptocreatehashalgorithm-options">crypto</a> 來呼叫 OpenSSL 做事，Node.js 的文件也有提到支援的演算法是依據你的 OpenSSL 版本和系統而定，所以其實並沒有保證 <strong>md4</strong> 一定可以用，而如果使用了 OpenSSL 不支援的演算法，跑出來的錯誤訊息就是像上面截圖一樣特別了，然後我還特別去用 OpenSSL 3 cli 跑跑看，結果出來的錯誤訊息真的就是差不多：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53188641438/" title="OpenSSL 3 error by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53188641438_3493041848_b.jpg" width="512" height="341" alt="OpenSSL 3 error" srcset="" /></a></p>
<p>使用 flag 開啟舊演算法的支援其實我覺得還算可以接受，畢竟是 build 而已，不是拿來跑服務，不過這個 flag 似乎有點特殊，似乎不能直接放在 <code>NODE_OPTIONS</code> 裡面，而且同個程式庫要是拿到舊版 Node.js 環境去跑，加這個 flag 反而跑不起來，所以最理想還是把問題解決掉。</p>
<p>那這個問題應該怎麼處理呢？其實簡單說就是把套件升級升級就好了，因為現在的套件新版本都有處理這個問題，不過走上升級這條路之前可以先試試看 StackOverflow 上的解法（有可能讓你專案爛掉，請先備份）：</p>
<pre><code class="language-bash">npm audit fix --force 
</code></pre>
<p>如果你用的是 yarn，沒有 <code>audit fix</code> 可用，但是也有人提供用 npm 來修理的<a href="https://stackoverflow.com/questions/51732435/is-there-a-yarn-alternative-for-npm-audit/60878037#60878037">流程</a>，不過我是沒試過這個流程，我自己有一個專案是靠 <code>yarn upgrade</code> 升級後解決問題的（實際上是把所有有用到的 <a href="https://github.com/webpack/loader-utils/releases/tag/v2.0.1"><strong>loader-utils</strong> 都升級到 2.0.4</a>，本來有個套件用到 2.0.0），剩下的還是無法修好的就要靠手工了，然後因為我處理的網站只有 Gatsby 和 CRE(Create React App) 兩種，所以以下就是只有說明這兩個系統的為主，兩者其實都是使用 Webpack 作打包工具的，而 <a href="https://github.com/webpack/webpack/releases/tag/v5.61.0">Webpack</a> 是從 v5.61.0 開始保證支援 Node.js 17 的，我稍微查了一下 Gatsby 是從 <a href="https://github.com/gatsbyjs/gatsby/releases/tag/gatsby%404.2.0">4.2.0</a>，而 CRA 的則是要最新版 react-script <a href="https://github.com/facebook/create-react-app/releases/tag/v5.0.1">5.0.1</a> 才保證支援，為什麼說是保證呢？因為 <code>^</code> 的 semver range 的關係，例如要是你的 react-script 是 5.0.0，那你本地可能會是裝到 Webpack v5.60.0，那就不支援 Node.js 17 了，像我就是有 Gatsby 3.x 的，升級到 4.x 就沒事了。</p>
<p>Gatsby 和 CRA 其實都還好，最慘的是 eject 過的 CRA 了，只能手工升級，基本上就是去 <a href="https://github.com/facebook/create-react-app/tree/main/packages/react-scripts">react-script</a> 那邊，複製需要的檔案回到你的專案覆蓋過去，最主要的是 <code>scripts/</code> 和 <code>config/</code> 下的檔案，然後根據自己的修改紀錄把自己作過的修改改回去，接著更新 <code>package.json</code> 裡面的 dependencies，版本號就是參照 react-script 那邊的 <a href="https://github.com/facebook/create-react-app/blob/main/packages/react-scripts/package.json#L30-L78">package.json</a>，最主要的就是 <code>webpack</code> 相關的，接著安裝套件後重新 build，要是還有一樣的錯誤，就看 trace 看看是哪個相依套件，看有沒有新版有修正就更新試試看，大概就是這樣，很容易漏東西所以會一直重複測試，蠻花時間的，不過最後 build 成功還是有成就感的。</p>
<p>PS. 還要小心其他升級的後遺症，如果是 app 最好要測試過各種行為，像我遇到 Webpack 5 不支援 polyfill Buffer 的問題，剛好那個錯誤又被 catch 掉，所以我 build 是沒問題的，就是測試跑不過，後來參考網路上的<a href="https://viglucci.io/articles/how-to-polyfill-buffer-with-webpack-5">文章</a>處理。</p>
</b:mainContent>
				<b:extendContent></b:extendContent>
			</b:content>


		</b:entry>

	</b:entries>
</b:blog>
