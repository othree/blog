<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>O3noBLOG</title>
<link>https://blog.othree.net/</link>
<description></description>
<copyright>Copyright 2024</copyright>
<lastBuildDate>Thu, 28 Mar 2024 10:01:14 +0800</lastBuildDate>
<generator>http://www.movabletype.org/?v=4.381</generator>
<docs>http://blogs.law.harvard.edu/tech/rss</docs> 


<item>
<title>やまに（yamani）旅館</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403097470/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403097470_8f640fb9b6_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53403097470_931b7f0426_k.jpg 2x" /></a></p>
<p><a href="https://blog.othree.net/log/2024/01/06/2023-nagoya/">去年的名古屋之行</a>因為所以然後就跑去了南知多，研究行程時發現當地冬天有虎河豚，也很多餐廳有套餐可以享用，所以在安排行程時就花了不少時間研究要找哪一間，做這種套餐的其實很多是旅館，蠻大部分是當地的小型旅館，沒有上國際的訂房網站，甚至有的只有電話可以聯絡訂房訂位的，後來我的搜尋方法就是用 Google Map 慢慢找，在上面找了很久，最後選的旅館叫 やまに（yamani）旅館，本來是打算住一晚，後來因為參加源氏香活動的關係，就改成只有去吃河豚套餐。</p>
<p>選擇 Yamani 旅館的一個主要原因是，雖然舊，但是看起來蠻乾淨，我也一直很想體驗看看比較在地的住宿體驗（雖然沒住），另外就是它們其實也是有上樂天旅遊可以接外國遊客，不過樂天旅遊訂的話會比較貴，所以就還是在官網訂（不過沒住宿的我忘了樂天能不能能訂），唯一比較擔心的大概就是我沒日本電話號碼吧，不過結果還蠻順利的，不多說廢話，就趕快來看看 やまに旅館 的虎河豚套餐吧。</p>
]]><![CDATA[<p>我們訂的是梅套餐，菜色當然是比松或竹少一些，但是份量還是很多，首先是小菜：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401737977/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401737977_21dd10297c_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53401737977_11775c73be_k.jpg 2x" /></a></p>
<p>重點的河豚生魚片，非常大盤，這樣的份量台灣不知道會多貴：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402677121/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402677121_0ee9d0f2d9_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402677121_da33f93d34_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403095425/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403095425_f80d4546c2_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53403095425_007315e940_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402985869/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402985869_99a3e7e93e_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402985869_cb020dd19f_k.jpg 2x" /></a></p>
<p>河豚生魚片很好吃，脆脆的口感非常特別，是整個套餐我最喜歡的，而且份量多讓我吃得很滿足。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402988134/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402988134_573282f201_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402988134_ecf32e7aeb_k.jpg 2x" /></a></p>
<p>然後是另外一個主要餐點之一的火鍋：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402985919/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402985919_8d8fdc8446_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402985919_564cf8cb5d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402852473/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402852473_fe2d926e31_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402852473_2a1ee2c9cc_k.jpg 2x" /></a></p>
<p>河豚生魚片也可以用火鍋煮，不過就沒那麼好吃了，火鍋本身就味道很清淡，河豚肉就稍微比較硬，然後有一堆蔬菜，是整趟行程吃到最多菜的一餐了，給的菜和河豚肉還有豆腐等等差不多可以煮兩鍋。</p>
<p>然後是炸河豚：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401740302/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401740302_5e6bc856e9_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53401740302_fef53a7dd7_k.jpg 2x" /></a></p>
<p>我們還有點兒童餐，也是很豐盛，這次名古屋行點了好幾次兒童餐，都蠻讓人滿意的，這邊的還有生魚片：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402850033/" title="やまに旅館 兒童餐 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402850033_cfc6d17f84_b.jpg" width="1024" height="683" alt="やまに旅館 兒童餐" srcset="https://live.staticflickr.com/65535/53402850033_efd17b042f_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401738032/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401738032_3226e3e7d2_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53401738032_183c5ac46c_k.jpg 2x" /></a></p>
<p>最後的雜炊，因為火鍋吃完時已經很飽了，但是又很想吃吃看所以請他做一人份，結果份量根本還是兩人吃也很夠：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402662081/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402662081_37cd660103_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402662081_3966c3afd2_k.jpg 2x" /></a>
<a class="thumbnail" href="https://www.flickr.com/photos/othree/53402662051/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402662051_3e45455680_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402662051_532ed836fb_k.jpg 2x" /></a></p>
<p>甜點：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402987994/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402987994_e08a7ef6f8_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53402987994_79c09427e1_k.jpg 2x" /></a></p>
<p>套餐內容其實還有兩個附近的富古神社（音同河豚）的繪馬，可以寫下願望後他幫我們去綁，我們一個寫願望一個帶回家當紀念。</p>
<p>然後稍微放些旅館本身的照片：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403097250/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403097250_805d477e51_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53403097250_f1d09170fb_k.jpg 2x" /></a>
<a class="thumbnail" href="https://www.flickr.com/photos/othree/53403097225/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403097225_d8c93ed0c4_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53403097225_8f5d8a7bc8_k.jpg 2x" /></a></p>
<p>洗手間超有年代感，但是很乾淨完全沒異味：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661896/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661896_636dd2321c_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53402661896_0029df0058_k.jpg 2x" /></a></p>
<p>兒童拖鞋是小熊維尼的皮拖鞋：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661406/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661406_3c029e9230_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53402661406_4c366c51bc_k.jpg 2x" /></a></p>
<p>玄關的擺飾：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661716/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661716_9a1d162ab8_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53402661716_1b0a06f1cd_k.jpg 2x" /></a>
<a class="thumbnail" href="https://www.flickr.com/photos/othree/53402987649/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402987649_cc95099649_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53402987649_3b80627c4b_k.jpg 2x" /></a>
<a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661626/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661626_d02d6b2a61_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53402661626_c623ff82cd_k.jpg 2x" /></a></p>
<p>簽名板們：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403097105/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403097105_146bd33a5c_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53403097105_88efa09b19_k.jpg 2x" /></a></p>
<p>外觀：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403096770/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403096770_19fe3649ca_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53403096770_fceda8081b_k.jpg 2x" /></a></p>
<p>大門：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403096745/" title="やまに旅館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403096745_23fbb63856_b.jpg" width="1024" height="683" alt="やまに旅館" srcset="https://live.staticflickr.com/65535/53403096745_aec28c474a_k.jpg 2x" /></a></p>
<p>結帳可以刷卡還有很正式的收據，然後因為非旺季又是平日，所以當天只有我們一組客人，女將(?)也很樂情的跟我稍微攀談，問我們怎麼找到他們旅館的，後來還送了小朋友一些東西，非常不好意思。</p>
<p>PS. 南知多很多旅館都有內部的全景可以看，似乎是當地的觀光協會之類的統一委託建制的，在 Google Maps 上就可以看到</p>
]]></description>
<link>https://blog.othree.net/log/2024/03/28/yamani/</link>
<guid>https://blog.othree.net/log/2024/03/28/yamani/</guid>
<category>diary</category>
<pubDate>Thu, 28 Mar 2024 10:01:14 +0800</pubDate>
</item>

<item>
<title>UI Event Order</title>
<description><![CDATA[<p>我一直以來都對於 DOM 事件的順序抱有一種不確定的感覺，舉例來說，當使用者點滑鼠時，你可以預期到會有 <code>mousedown</code>、<code>mouseup</code>、<code>click</code> 事件，但是它們的順序是什麼呢？可以確定的是 down 一定是第一個，up 一定在 down 之後，那 <code>click</code> 是在中間還是最後呢？更進一步，點在可以有 focus 的元件上，那 <code>focus</code> 事件的順序呢？如果已經有其他元件有 focus，那它的 <code>blur</code> 事件又是在 <code>focus</code> 的前面還後面呢？除了滑鼠事件外，鍵盤事件又更複雜，除了 keydown、keyup 之外還有 <code>input</code>、<code>change</code> 和 IME 的 composition 事件等，總之最近實在是太在意了，就認真的弄了個測試網頁自己測試，之後又查找了相關的標準規範，這篇就來記錄一下這些事件的順序。</p>
<p>首先就來說滑鼠（指標裝置）相關的事件順序吧，第一個是滑鼠點擊，就是 <code>mousedown</code>、<code>mouseup</code>、<code>click</code>，是在 <code>mouseup</code> 後才接著有 <code>click</code> 事件，其實仔細想了一下也是蠻合理的，要有 up 事件才代表完成了 <code>click</code> 事件。然後這順序其實是有定義在 <a href="https://www.w3.org/TR/uievents/#events-mouseevent-event-order">UI Events 5.3.3</a> 之中的，其中的最後一個表格就是一個標準的點擊時事件的順序，而且這個表格還包括了 <code>mousemove</code> 和 <code>dblclick</code> 事件，這個章節中的其他部分則是滑鼠移動經過不同、多層的 DOM node 時，不同 node 上的 <code>mouseover</code>、<code>mouseout</code> 事件的順序。</p>
]]><![CDATA[<p>除了 Mouse Events 之外，其實現在瀏覽器的實作應該是都實作 <a href="https://w3c.github.io/pointerevents/">Pointer Events</a> 了，Pointer Events 涵蓋了各種指標式的控制方式，包括了滑鼠、觸控、觸控筆等，所以可以說 Mouse Events 只能算是子集，相對應的事件名稱基本上就是把 <code>mouse</code> 換成 <code>pointer</code>，例如：<code>pointerdown</code>、<code>pointerup</code>，現在主流的瀏覽器也都已經有支援 Pointer Events 了，然後這時候問題就來了，Pointer Event 和 Mouse Events 誰先誰後？根據測試的結果，是 Pointer 先然後才 Mouse，所以更完整的順序是：</p>
<pre><code>pointerdown
mousedown
focus
focusin
pointerup
mouseup
click
</code></pre>
<p>至於這個順序是怎麼決定的呢？根據 Pointer Events 的 <a href="https://w3c.github.io/pointerevents/#compatibility-mapping-with-mouse-events">11 章「Compatibility mapping with mouse events」</a> 所述，瀏覽器開發時可以考慮同時發佈古時候的 Mouse Events，其中 11.2、11.3 就有提到先發佈 Pointer Events 接著再發佈對應的 Mouse Event。</p>
<p>然後還有一個細節是，根據 Pointer Event <a href="https://w3c.github.io/pointerevents/#the-pointerdown-event">4.2.3 The pointerdown event</a>，如果在 <code>pointerdown</code> 事件裡面呼叫 <code>event.preventDefault()</code> 取消事件的話，後面的 <code>mousedown</code> 和 <code>mouseup</code> 就都不會觸發。</p>
<p>我上面的那段事件順序，其實還多列了一個 <code>focusin</code>，這其實是一系列的新(相較於 DOM2)事件，包括了：</p>
<ul>
<li><code>focusin</code> 對應 <code>focus</code></li>
<li><code>focusout</code> 對應 <code>blur</code></li>
<li><code>mouseenter</code> 對應 <code>mouseover</code></li>
<li><code>mouseleave</code> 對應 <code>mouseout</code></li>
</ul>
<p>其實 <code>mouseenter</code>/<code>mouseleave</code> 是 IE5.5 時微軟先提出的，ppk 也有<a href="https://www.quirksmode.org/js/events_mouse.html#mouseenter">文章</a>介紹過它解決了什麼問題，jQuery 當年也有支援，後來進入了 W3C 標準，現在是放到 <a href="https://w3c.github.io/uievents/#event-type-mouseenter">UI Events</a> 裡面，這些事件最大的差異就是它們不會 bubble 到外層，減少了很多問題；<code>focusin</code>/<code>focusout</code> 則是剛好相反，它們會 bubble 而 <code>focus</code>/<code>blur</code> 不會，一樣 ppk 也有<a href="https://www.quirksmode.org/blog/archives/2008/04/delegating_the.html">文章</a>介紹到，簡單說就是 <code>focus</code>/<code>blur</code> 不會 bubble 只有 capture（外往內到 event target 的過程），但是 IE 不是用 addEventListener 所以沒有 capture 階段，所以會無法實作出 event delegation，然後只能用當年微軟 IE 特有的 <code>focusin</code>/<code>focusout</code> 事件，現在也是標準化，收到 <a href="https://www.w3.org/TR/DOM-Level-3-Events/#event-type-focusin">DOM 3 Events</a> 裡面；而除了這四組之外，其實 Pointer Events 也有 enter 和 leave，一樣順序是在 over 和 out 的後面，然後這些成對的事件，都是比較早定義的那些先發生，才接後來定義的，和有沒有 bubble 無關。</p>
<p>接著來說 Keyboard Events，這邊就針對 input 節點上的，一個鍵盤按鍵按壓的動作，會產生 <code>keydown</code>、<code>keypress</code>、<code>keyup</code> 三個基本的事件，通常按鍵盤按鍵就是為了輸入東西，所以會有個也是比較新的 <code>input</code> 事件，會在 <code>keypress</code> 之後，<code>input</code> 則還有一個成對的 <code>beforeinput</code>，如果在 <code>beforeinput</code> 內叫 <code>preventDefault()</code> 的話則可以阻止文字的輸入，總之順序如下：</p>
<pre><code>keydown
keypress
beforeinput
input
keyup
</code></pre>
<p><code>change</code> 事件則是要在 <code>blur</code> 時才會有，順序是先 <code>change</code> 才 <code>blur</code>：</p>
<pre><code>change
blur
focusout
</code></pre>
<p>這個順序是定義在 HTML 的 User Interaction 一章的 <a href="https://html.spec.whatwg.org/multipage/interaction.html#unfocus-causes-change-event">6.6.4 Processing model</a> 裡面，明確的寫下要先 commit change 後才 <code>blur</code>。</p>
<p>如果有用 IME 的話，事情就很不單純了，還會有 Composition Events，順序是在 <code>beforeinput</code> 前面，剛開始組字會同時有 <code>compositionstart</code> 和 <code>compositionupdate</code> 兩個事件，然後沒有 <code>keypress</code>，之後的輸入組字則就是只有 <code>update</code>：</p>
<pre><code>keydown
compositionstart
compositionupdate
beforeinput
input
keyup
</code></pre>
<p>Composition Events 現在標準的文件是放在 <a href="https://w3c.github.io/uievents/#events-compositionevents">UI Events 裡面</a>，不過文件中範例的順序和實際測試的結果並不一致，目前的文件草稿中 <code>compositionupdate</code> 是在 <code>beforeinput</code> 之後，不過其實現在瀏覽器的順序是在 UI Events 的 <a href="https://github.com/w3c/uievents/issues/354">Issue 354</a> 提出的變動，只是目前文件還沒有發布更新的內容。</p>
<p>結束組字的時候，不同瀏覽器的行為就有差異了，首先是按下 <kbd>Enter</kbd> 完成組字時，Firefox 的話不會有多一個 <code>update</code>，直接就是 <code>compositionend</code>，然後是在 <code>beforeinput</code> 和 <code>input</code> 之間：</p>
<pre><code>keydown
beforeinput
compositionend
input
keyup
</code></pre>
<p>Chrome(v123) 的話就會有多一個 <code>compositionupdate</code> 然後 <code>compositionend</code> 順序也不一樣，會在 <code>input</code> 的後面：</p>
<pre><code>keydown
compositionupdate
beforeinput
input
compositionend
keyup
</code></pre>
<p>其實 <a href="https://w3c.github.io/uievents/#events-composition-key-events">UI Events 文件 5.7.5</a> 內的範例是 Firefox 那種沒有多 <code>compositionupdate</code> 的順序，這個 5.7 章節內其實還有不少其他情境下的事件順序，像是手寫輸入，取消輸入等等。</p>
<p>如果是還沒完成組字，直接切換輸入法強迫結束組字，事件順序都和按下 <kbd>Enter</kbd> 都一樣，如果是組字到一半直接切換視窗，就是標準沒定義到的狀況了，Firefox 的行為比較接近上面的樣子，先完成 <code>input</code> 才 <code>blur</code>：</p>
<pre><code>beforeinput
compositionend
input
blur
focusout
</code></pre>
<p>Chrome 則是會先產生 <code>blur</code> 然後接 <code>compositionend</code>：</p>
<pre><code>change
blur
focusout
compositionend

</code></pre>
<p>以上，大概紀錄了我一直以來都有疑惑的使用者行為所產生的事件們的順序，最後附上我用的程式碼（超單純）：</p>
<pre><code class="language-javascript">const events = [
  &quot;keydown&quot;,
  &quot;keypress&quot;,
  &quot;keyup&quot;,
  &quot;change&quot;,
  &quot;compositionstart&quot;,
  &quot;compositionupdate&quot;,
  &quot;compositionend&quot;,
  &quot;beforeinput&quot;,
  &quot;input&quot;,
  &quot;click&quot;,
  &quot;auxclick&quot;,
  &quot;contextmenu&quot;,
  &quot;mousedown&quot;,
  &quot;mouseup&quot;,
  &quot;focus&quot;,
  &quot;focusin&quot;,
  &quot;focusout&quot;,
  &quot;blur&quot;,
  &quot;pointerdown&quot;,
  &quot;pointerup&quot;,
  &quot;paste&quot;,
];

const elem1 = document.getElementById(&quot;target-1&quot;);
const elem2 = document.getElementById(&quot;target-2&quot;);

events.forEach((event) =&gt; {
  elem1.addEventListener(
    `${event}`,
    () =&gt; {
      console.log(event.target.id, event);
    },
    false
  );
  elem2.addEventListener(
    `${event}`,
    () =&gt; {
      console.log(event.target.id, event);
    },
    false
  );
});
</code></pre>
]]></description>
<link>https://blog.othree.net/log/2024/03/24/ui-event-order/</link>
<guid>https://blog.othree.net/log/2024/03/24/ui-event-order/</guid>
<category>script</category>
<pubDate>Sun, 24 Mar 2024 18:07:13 +0800</pubDate>
</item>

<item>
<title>鳥山明過世</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53575001401/" title="鳥山明訃報 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53575001401_24c238fbc5_b.jpg" width="600" height="800" alt="鳥山明訃報" /></a></p>
<p>今天（2024-03-08）官方發布的<a href="https://dragon-ball-official.com/news/01_2499.html">消息</a>，七龍珠的作者鳥山明在三月一日時因病過世了，JUMP 也有<a href="https://www.shonenjump.com/j/2024/03/08/240308_oshirase.html">訃報</a>，而且還有堀井雄二、桂正和、尾田栄一郎和岸本斉史的緬懷文（巴哈姆特 GNN 有<a href="https://gnn.gamer.com.tw/detail.php?sn=264681">譯文</a>），在緬懷鳥山明之餘，想來紀錄一下我對七龍珠系列的一些小心得。</p>
<p>首先是作者名字，其實我小時候一直搞錯，而且搞錯很久，把「鳥」當成「島」，即使到現在我都還需要在腦中確認一下，然後直到今天我才知道名字的念法（Akira Toriyama）；然後就是雖然現在大家對於 Z 那段的印象是很拖，但是其實拖的是電視動畫而已，後來我回去重看漫畫時，其實節奏還蠻明快的，當然有不少轉折拉長連載的時間，但不會在同一段劇情上拖拖拉拉；然後另外一個印象就是角色強度的通膨，以前總有個是不是一直吃書改設定的印象，像是佛力札已經號稱是宇宙最強了，怎麼後面還可以一直有更強的角色，後來重看漫畫才發現其實沒有，宇宙帝王佛力札就是在那個時間點的該宇宙中戰鬥力最高的人，接在後面的人造人是紅緞帶軍團製造出來的，魔人普烏則是古早時候就被大界王神封印的，所以佛力札作威作福時人造人還不存在，普烏則是被封印的狀態。</p>
<p>然後動畫故事到魔人普烏之後的續作，有「GT」和「神 vs 神」、「超」那一個系列的兩個線，其實我兩部都蠻喜歡的，比較早的 GT 是鳥山明沒有參與的，這邊就先略過，後來好不容易鳥山明回來參與的「神 vs 神」劇場版開始的世界設定，擴展了整個世界/宇宙的設定，從和界王神成對的破壞神開始到後來的多重宇宙、超級賽亞人 Blue、全王等等，我覺得都很非常的精巧，有趣而且最厲害的是沒有破壞到既有的設定，只能說真不愧是鳥山明，不知道這些設定有多詳細，和未來的企劃也不知道有多少關聯（像是那個還沒開始的大魔），不管如何，都是無限讓人惋惜啊。</p>
<p>最後想放一個 YouTube 的影片連結：</p>
<p><a href="https://www.youtube.com/watch?v=aOXs5hg0a5Y">https://www.youtube.com/watch?v=aOXs5hg0a5Y</a></p>
<p>這是龍珠超最後悟空和吉連對決最高潮的片段，也就是悟空進入「身勝手の極意」狀態的片段，似乎是在墨西哥的非官方?公開放映的景象（一開始有非授權的放映，但是後來有各種地方政府取得授權的放映活動），當初看到這影片的時候就覺得很驚訝，沒想到會在離日本這麼遙遠的地方，有個國家這麼多人都對七龍珠有這麼大的熱情，真的是個空前的成就。</p>
<p>追記：在發文的時間點，推特（現在的 X）的日本的 Trends 上沒有鳥山明，不過其實有三個相關的：「かめはめ波」、「スーパーサイヤ人」和「国民栄誉賞」。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53575020381/" title="Japan Trends 2024-03-08 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53575020381_d36fbe330e_b.jpg" width="387" height="1024" alt="Japan Trends 2024-03-08" srcset="https://live.staticflickr.com/65535/53575020381_37c354f542_k.jpg 2x" /></a></p>
]]></description>
<link>https://blog.othree.net/log/2024/03/08/akira-toriyama/</link>
<guid>https://blog.othree.net/log/2024/03/08/akira-toriyama/</guid>
<category>acg</category>
<pubDate>Fri, 08 Mar 2024 23:15:52 +0800</pubDate>
</item>

<item>
<title>QR Code 發明歷史展</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400019990/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400019990_281e6bd784_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400019990_9636388588_k.jpg 2x" /></a></p>
<p><a href="https://blog.othree.net/log/2024/01/06/2023-nagoya/">去年去名古屋</a>時，有去了 <a href="https://www.tcmit.org/">Toyota 產業技術紀念館</a>，館內的展覽其實著重在技術介紹，分為紡織和汽車，其實我以前不知道 Toyota 是紡織起家的，展覽的內容非常不錯，很多機器都還可以運作，而且也可以讓訪客按按鈕自動展示，非常用心：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400018490/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400018490_75533ab6f8_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53400018490_9bfe9edc2b_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398655727/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398655727_79d94ac64f_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53398655727_1525f1a646_k.jpg 2x" /></a></p>
]]><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400010890/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400010890_481e2c8b8e_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53400010890_b51e087f6e_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399581111/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399581111_f6dc3bdb30_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53399581111_5924ffeee2_k.jpg 2x" /></a></p>
<p>而除了兩個展覽館之外，其實這段時間在入口附近還有一個特別企劃的 <a href="https://www.tcmit.org/information/news/2023/10/50182">QR Code 發明歷史展</a>，應該是因為去年是 QR Code 發明的 30 週年吧，我自然是對這個很有興趣，雖然展區小小的但是也有些收穫，為了寫這篇文章我也又查了不少資料。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400021685/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400021685_84f171c074_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400021685_deea6cb207_k.jpg 2x" /></a></p>
<p>QR Code 的很多資訊其實在 Wikipedia 上都有，不過我是看展覽才注意到原來是因日本電装（Denso）內部的需求而要開始研發二維條碼，設計出 QR Code 的原昌宏當然也是日本電装的員工，該社的研發能力蠻強的，日本電装還有一個東西是我以前在介紹<a href="https://blog.othree.net/log/2022/12/23/japan-postal-code/">日本郵遞區號</a>時有提過的，就是日本導航常用的 <a href="https://www.denso-solution.com/mapcode/whats.html">Mapcode</a>，都是非常廣泛使用的東西，由於是 Toyota 子公司，這些發明也都是圍繞著汽車相關而生的，Mapcode 主要應用在導航，而 QR Code 當初主要是為了「かんばん」系統的汽車生產零件管理，而會能像現在這樣廣泛的被使用，我覺得有兩個主要的因素，第一個是原昌宏在設計 QR Code 時，底層的設計很通用，而沒有特化於汽車零件，另一個就是日本電装當時雖然有申請專利，但各種考量後決定公開來讓大家自由使用，接下來就來看看展覽的內容吧：</p>
<p>專利書：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399914129/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399914129_7bf2d481fc_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399914129_327369b27d_k.jpg 2x" /></a></p>
<p>原昌宏是設計 QR Code 的人，渡部元秋則是主要的軟體開發者，一開始的研發團隊就只有這兩位，另外三位當中的野尻忠雄是主管，另外兩位則是 Toyota 中央研究所的成員，應該是協助軟體開發的。</p>
<p>還有列出其他的關係者，以前比較沒機會看到的團隊成員、負責人還有推動公開標準化的成員等：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398660467/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398660467_e106eb192a_b.jpg" width="600" height="900" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53398660467_51b68c3a7f_k.jpg 2x" /></a></p>
<p>讀本裡面有介紹其他的二維條碼：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399914069/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399914069_b81e43605b_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399914069_3e03ed7782_k.jpg 2x" /></a></p>
<p>簡單的歷史：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399589081/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399589081_e89a7a029f_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399589081_9835b3e861_k.jpg 2x" /></a></p>
<p>中間有提到開放的原因之一，就是為了搶佔市占率，然後他們可以從 code reader 和印刷市場來賺取收益。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400020610/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400020610_8ba2bb2c6b_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400020610_99d696225f_k.jpg 2x" /></a></p>
<p>在各個關係者當中，負責標準化的柴田彰於 2022 年八月有在 Digital Practice 發表「<a href="https://www.ipsj.or.jp/dp/contents/publication/51/S1303-S05.html">QRコードの事業戦略と標準化</a>」一文，內容很多，有各種背景介紹，競爭對手，還有像是 Toyota 內部的「かんばん」系統在導入 QR Code 前後的標籤；與其他二維條碼的比較，有一組對照不同條碼相同設定相同資料的面積差異；還有標準化的各種紀錄，像是 ISO 15394 的包裹標籤在使用 QR Code 前後的差異等，非常值得看看。</p>
<p>然後就是我覺得最貴重的研究手稿了，不知道有沒有數位化保存：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399912629/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399912629_b8d3024ed9_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53399912629_9736eb38c1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400019990/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400019990_281e6bd784_b.jpg" width="1024" height="683" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53400019990_9636388588_k.jpg 2x" /></a></p>
<p>然後是各種的變形版 QR Code：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398659582/" title="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398659582_23a22e9a85_b.jpg" width="600" height="900" alt="QRコード発明ヒストリー～QRコードはトヨタグループの発明だった！～" srcset="https://live.staticflickr.com/65535/53398659582_47e87667dd_k.jpg 2x" /></a></p>
<p>展覽中列出的有：</p>
<ul>
<li><a href="https://www.qrcode.com/codes/microqr.html">Micro QR Code</a>: 比較小的 QR Code，只有一個定位點；</li>
<li><a href="https://www.qrcode.com/codes/rmqr.html">rMQR Code(Rectangular Micro QR Code)</a>: 矩形的 Micro QR Code，可以弄成長方形列印在比較狹窄的地方；</li>
<li><a href="https://www.denso-wave.com/ja/system/qr/product/sqrc.html">SQRC(Security QR Code)</a>: 包含隱藏資料區的 code，要特定的 code reader 才可以讀取到隱藏內容，還有配合用特殊油墨列印的防複製的方法；</li>
<li><a href="https://www.denso-wave.com/ja/system/qr/product/frame.html">Frame QR</a>: 中間有留白一塊可以任意加工的版本。</li>
</ul>
<p>除了以上四種之外，其實還有：</p>
<ul>
<li><a href="https://www.qrcode.com/codes/iqr.html">iQR</a>: 也是可以做成長方形的 code，不過其實是過渡規格，沒有標準化，相關的設計後來就是用在 rMQR 中；</li>
<li><a href="https://www.denso-wave.com/ja/adcd/event/aice2019/tqr.pdf">tQR</a>: t 是 toughness，是東京都營地下鐵和 Denso Wave（日本電装子公司，負責 QR Code 的部門已經拆分至此）合作的，專門用來判斷列車車門位置用的，官方的介紹就有提到為什麼需要這種機制判斷車門位置，為的像是對應不同編成的列車或是不同車門配置的車廂等等，另外有一份日本自動識別系統協會的<a href="https://www.jaisa.or.jp/action/aim/pdfs/vol64.pdf">會報</a>（4-6 頁）裡面也有介紹部分的系統運作機制，而 tQR 就是這個系統所使用的特規的 QR Code，第一眼應該就可以發現三個定位點的位置不一樣，然後編碼的容錯率則有加強到 50%。</li>
</ul>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53458136027/" title="tQR by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53458136027_270911a92b_o_d.jpg" width="201" height="200" alt="tQR" /></a></p>
<p>然後除了這些，回來查資料後我還發現其實普通的 QR Code 就可以多個連接，日文就稱為「連接」，英文則是稱為 Structured Append，最多可以連接 16 個，如下圖：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53458187002/" title="Structure Append QR Code by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53458187002_dddb55862e_b.jpg" width="1024" height="630" alt="Structure Append QR Code" /></a></p>
<p>這個機制除了可以增加資料量外，也是早期在 iQR 或是 rMQR 出來前，可以把正方形轉成長方形的一種方式，不過有支援的裝置和軟體比較少，例如我用 iPhone 相機就不支援一次全部讀取，然後如果要讀取單一個 code 就可能會跑出「找不到可用的資料」，事實上，前面介紹的 QR Code 的變形版本，iPhone 內建的相機也都不支援。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53459436824/" title="Structure Appended QR Code by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53459436824_dc9923ca6e_b.jpg" width="473" height="1024" alt="Structure Appended QR Code" srcset="https://live.staticflickr.com/65535/53459436824_5117b13520_k.jpg 2x" /></a></p>
<p>所以接下來就要介紹最後一個收穫了，官方的 QR Code Scanner App：<a href="https://www.qrqrq.com/">クルクル（QRQR）</a>，其實我很久以前，就一直很好奇到底有沒有所謂官方的 QR Code reader 了，古早以前都是用 ZXing 的 <a href="https://play.google.com/store/apps/details?id=com.google.zxing.client.android">Barcode Scanner</a>，不過其實這是 Open Source 專案，現在也已經沒在維護了。而 Denso Wave 的官方 app，則是在 2017 年才和 Arara Inc（Denso Wave 是股東之一）一起合作<a href="https://www.denso-wave.com/ja/adcd/info/detail__14521.html">推出</a>的，當時名稱叫「Q」，後來則更名為 QRQR，免費，有多語系也沒廣告，佛心，然後支援很多種格式，包括了 Barcode、兩種標準的 QR Code，還有 Micro QR、iQR、rMQR、Frame QR 以及剛剛最後提到的連結的 QR Code，解碼速度也很快，不過曾經有過偷收集資料的壞紀錄，所以要不要用就自行評估啦。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53459416788/" title="クルクル（QRQR） by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53459416788_2e2fcae982_b.jpg" width="1024" height="686" alt="クルクル（QRQR）" srcset="https://live.staticflickr.com/65535/53459416788_7efb432723_k.jpg 2x" /></a></p>
]]></description>
<link>https://blog.othree.net/log/2024/01/12/qr-code-history/</link>
<guid>https://blog.othree.net/log/2024/01/12/qr-code-history/</guid>
<category>diary</category>
<pubDate>Fri, 12 Jan 2024 23:42:13 +0800</pubDate>
</item>

<item>
<title>2023 名古屋</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401245579/" title="高山陣屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401245579_c93978534b_b.jpg" width="1024" height="683" alt="高山陣屋" srcset="https://live.staticflickr.com/65535/53401245579_50db12c77e_k.jpg 2x" /></a></p>
<p>去年十一月底的時候，安排了一趟名古屋的旅遊，一開始的目標很簡單，就是帶小孩去樂高樂園，所以挑選了名古屋，結果這趟旅遊在出發前還真是一波三折，首先是因為差不多快要楓葉季了，所以挑選時間時就想說挑個可以順便看楓葉的時間，又考量到公司專案的時程，兩週不錯的時間挑了第二週，和本來那個專案的時間差了兩三週，結果公司專案最後還是拖到我出國前還沒上線；接著在規劃行程時，本來想說一天去下呂溫泉，然後前面四天後面五天都在市區或是近郊，接著看回程要怎樣到機場時，考慮到有想多買行李箱，所以可能無法搭電車，就看了一下計程車費，不意外的很貴，想了一下去查了一下租車一天的價錢，結果發現差不多！但是都租車了，乾脆多租幾天在附近玩，所以就看起了中部國際機場所在的知多半島的觀光景點，發現有虎河豚套餐可以吃，後來老婆覺得可以不用太多小孩行程，想去飛驒高山，排到最後變成：</p>
<pre><code>11/25 名古屋車站
11/26 Toyota 博物館、大須商店街
11/27 栄、Harbs 本店、東山植物園
11/28 Lego Land
11/29 三井 Outlet、名花之里
11/30 飛驒高山
12/01 下呂溫泉
12/02 犬山城、住南知多（源氏香）
12/03 知多半島、河豚套餐
12/04 臨空區、機場回程
</code></pre>
]]><![CDATA[<p>結果行程排定後，快要到出國前，又傳出高山那邊下大雪，高速公路限制沒雪胎不能上去，害我又趕快處理租車的問題，還好 Toyota 租車有一個外國人專用的號碼，可以講英文，雖然是社恐一名還是只能硬著頭皮打國際電話去加雪胎，多了一萬多日圓。至於出發前一週家裡洗衣機壞掉又是另外一回事了...</p>
<p>到這邊想岔題說一下，前陣子有很多文章在講日本有一些服務會某些程度給外國人加價，其實 Toyota 租車也是有點這種情況，在日文版網頁很多折扣在其他語言是看不到的，不過我是認為這比較不是不願意給外國人折扣，或許只是單純因為不同系統沒有開發資源，加上剛好可以減少複雜度，避免節外生枝，降低溝通成本，當然我是日文網站註冊在日文網站預約的，當初價錢還不錯，不過為了雪胎折扣掉的錢又都回來就是XD。</p>
<p>回到車子的部分，這次租的是新款的 Hybrid 動力的 Sienta 七人版，後面行李空間可以放兩個大行李箱加上推車和登機箱還有些空間，駕駛座位附近也很多空間，可以放各種東西（鑰匙、飲料、小包包等），不過鈑金什麼的感覺就比較單薄了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401420723/" title="Toyota Sienta by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401420723_2fb8baf46a_b.jpg" width="1024" height="683" alt="Toyota Sienta" srcset="https://live.staticflickr.com/65535/53401420723_a9df5d701d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401784867/" title="Toyota Sienta by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401784867_ef90517eac_b.jpg" width="1024" height="683" alt="Toyota Sienta" srcset="https://live.staticflickr.com/65535/53401784867_197fa2475c_k.jpg 2x" /></a></p>
<p>接著來介紹一下實際的行程吧：</p>
<p>首先第一天到中部國際機場，搭電車到名古屋站，住在萬保龍酒店，走路就可以到，所以規劃就是車站附近商圈逛逛和吃晚餐，本來有想第一天就去吃鰻魚飯，結果班機延誤一小時，去到白河看已經一大堆人，後來就是高島屋餐廳街隨便找，然後隨便逛了一下高島屋就回旅館了。</p>
<p>說到班機延誤，這次搭的是國泰的 CX530，直飛，其實我本來想說香港的航空公司怎麼會可以從台北直飛去日本，結果因為班機延誤一查才發現，原來其實這台是早上從香港到台灣，然後又馬不停蹄飛去日本，沒狀況的話會是同一台飛機下午又飛回台北（CX531），然後再回到香港，表定時間是早上九點出發然後回到香港是晚上十點了，非常忙碌的一台飛機。</p>
<p>回到名古屋車站，這邊有兩個要來推薦一下，首先是<a href="https://montblanc-hotel.jp/raffine/en/">萬保龍酒店 Raffine（Montblanc Hotel Raffine Nagoya Ekimae）</a>：位置不錯價錢實惠，而且還蠻新的，除了這些之外，裡面用的設備都蠻不錯的，列舉一下：</p>
<ul>
<li><a href="https://www.flickr.com/photos/othree/53398667727/in/album-72177720313161615/">Sony Bravia 電視</a>，似乎是我目前住過的飯店用的最好的電視了；</li>
<li><a href="https://www.flickr.com/photos/othree/53400773731/in/album-72177720313161615/">大金空調</a>；</li>
<li><a href="https://www.flickr.com/photos/othree/53399597501/in/album-72177720313161615/">Refa FINE BUBBLE PURE 蓮蓬頭（要三萬日幣以上）</a>；</li>
<li>Panasonic 吹風機；</li>
<li><a href="https://www.flickr.com/photos/othree/53399842952/in/album-72177720313161615/">Sharp 的空氣清淨機間加濕器</a>；</li>
<li><a href="https://www.flickr.com/photos/othree/53400029190/in/album-72177720313161615/">房間都有一台平板</a>，台座好像可以收藍芽但是我沒研究出來怎樣配對；</li>
<li><a href="https://www.flickr.com/photos/othree/53399921484/in/album-72177720313161615/">內建國際通用插座</a>；</li>
<li><a href="https://www.flickr.com/photos/othree/53400961598/in/album-72177720313161615/">門檔</a>，雖然效果不太好但是搬行李時有沒有還是差很多；</li>
<li><a href="https://www.flickr.com/photos/othree/53399785703/in/album-72177720313161615/">線材包</a> 和 <a href="https://www.flickr.com/photos/othree/53400785346/in/album-72177720313161615/">置物托盤（トレイ）</a> 也都不是很廉價的材質，更不用說有的飯店根本沒這些東西。</li>
</ul>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400785346/" title="Montblanc Hotel Raffine Nagoya Ekimae by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400785346_a2bab1fd2e_b.jpg" width="1024" height="683" alt="Montblanc Hotel Raffine Nagoya Ekimae" srcset="https://live.staticflickr.com/65535/53400785346_f4b091fea6_k.jpg 2x" /></a></p>
<p>另一個要推薦的就是名古屋車站的高島屋了，就在 JR Gate Tower 那一群裡面，非常的好逛，而且我這幾天也根本都沒逛完，裡面有 Uniqlo（可退稅）、GU、Bic Camera、Village Vanguard、三省堂書店（超大），三省堂有很多專業冷門書：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399916764/" title="三省堂書店 名古屋本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399916764_72b27b18c7_b.jpg" width="1024" height="683" alt="三省堂書店 名古屋本店" srcset="https://live.staticflickr.com/65535/53399916764_af16e11d9d_k.jpg 2x" /></a></p>
<p>鐵道專區的一小櫃：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400025755/" title="三省堂書店 名古屋本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400025755_795d98e8d0_b.jpg" width="1024" height="683" alt="三省堂書店 名古屋本店" srcset="https://live.staticflickr.com/65535/53400025755_bac79cb0a5_k.jpg 2x" /></a></p>
<p>超大野貓玩偶，剛好在辦特展：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399917334/" title="三省堂書店 名古屋本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399917334_ace03c4d9d_b.jpg" width="600" height="900" alt="三省堂書店 名古屋本店" srcset="https://live.staticflickr.com/65535/53399917334_ae8f26dfdc_k.jpg 2x" /></a></p>
<p>一樓還有迪士尼專賣店和 Ghibli 專賣店，飛行石抱枕很好笑：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398663022/" title="名古屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398663022_aaeea72461_b.jpg" width="" height="683" alt="名古屋" srcset="https://live.staticflickr.com/65535/53398663022_e93e440933_k.jpg 2x" /></a></p>
<p>然後隔壁棟還有手創館，這次幾乎沒去逛到就是，地下室食品區也是很大，我們每次去日本都會順便買一些日本的高湯包（だし），主要是買兵四郎和茅乃舍的，這兩家的高湯包也都不是隨便可以買到的，不過這邊就是都有，兵四郎在超市區，茅乃舍則是有專櫃在同一層附近而已，袋子很豪華：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399594891/" title="名古屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399594891_b2a9fa5e8b_b.jpg" width="1024" height="683" alt="名古屋" srcset="https://live.staticflickr.com/65535/53399594891_eaaddb27d4_k.jpg 2x" /></a></p>
<p>第二天和第三天是週六週日，其實這兩天沒有一定要哪天去哪裡，唯一有限制的就是東山植物園楓葉季的夜間點燈只有五六日，不過總之這第二天我們先去了栄的 Harbs 本店，在那邊隨便逛，在 Oasis 21 逛到一間哈利波特專賣店，然後大國藥妝店買了藥妝後回去名古屋車站附近的白河吃鰻魚飯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399596881/" title="栄 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399596881_1a5732b182_b.jpg" width="1024" height="683" alt="栄" srcset="https://live.staticflickr.com/65535/53399596881_c28d2269d4_k.jpg 2x" /></a></p>
<p>Harbs 本店的限定款蛋糕：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399919139/" title="HARBS 本店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399919139_dd36a9beb0_b.jpg" width="1024" height="683" alt="HARBS 本店" srcset="https://live.staticflickr.com/65535/53399919139_eab5fe4e7f_k.jpg 2x" /></a></p>
<p>白河的鰻魚飯、魚骨仙貝：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399918364/" title="うなぎ和食しら河 名駅店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399918364_30458f5005_b.jpg" width="1024" height="683" alt="うなぎ和食しら河 名駅店" srcset="https://live.staticflickr.com/65535/53399918364_aea718d2c0_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399918514/" title="うなぎ和食しら河 名駅店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399918514_dae5e1b76d_b.jpg" width="1024" height="683" alt="うなぎ和食しら河 名駅店" srcset="https://live.staticflickr.com/65535/53399918514_c765046e24_k.jpg 2x" /></a></p>
<p>第三天就比較精實了，一早先在車站附近地下街的 Komeda 咖啡吃早餐，然後去了 Toyota 產業技術紀念館，結果剛好遇到第 700 萬位入場的訪客的頒獎，覺得有點可惜的是，其實我們早餐等了有點久，然後吃完搭車到荣生站時就發現那邊也一間 Komeda 咖啡...，如果當初有研究完整一點，就不用在車站那邊浪費時間，搞不好有機會成為第 700 萬位入場的XD。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399590361/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399590361_69dc256629_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53399590361_ed1a611237_k.jpg 2x" /></a></p>
<p>Toyota 產業技術紀念館展出的東西很多，分兩大塊，紡織和汽車，紡織的部分則是從古早時候的紡織技術開始介紹到現在的大型自動化的設備，而且很多機器都可以讓它動給你看，後半汽車則是從材料加工開始介紹，甚至還有現場實際展示金屬加工，汽車部分也是很多東西都會動給你看，還有可以隨便你玩的方向盤等等。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399773323/" title="トヨタ産業技術記念館 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399773323_f96e408866_b.jpg" width="1024" height="683" alt="トヨタ産業技術記念館" srcset="https://live.staticflickr.com/65535/53399773323_15b3c4f8af_k.jpg 2x" /></a></p>
<p>午餐就吃館內的餐廳：BrickAge，餐點和價位比起來算是蠻不錯的，擺盤是比較精緻的路線，但是價位還是差不多一般博物館內附設餐廳的價位。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53398647747/" title="BrickAge by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53398647747_742a504a41_b.jpg" width="1024" height="683" alt="BrickAge" srcset="https://live.staticflickr.com/65535/53398647747_ae358b8637_k.jpg 2x" /></a></p>
<p>下午去了大須觀音和商店街一下，這條商店街我就覺得還好，大須觀音那邊看到有些自願者 cosplay 後在幫忙整理環境，蠻特別的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400911499/" title="大須観音 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400911499_60660c5776_b.jpg" width="1024" height="683" alt="大須観音" srcset="https://live.staticflickr.com/65535/53400911499_6e81e9d5b0_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401018020/" title="大須観音 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401018020_b5d0cc3494_b.jpg" width="600" height="600" alt="大須観音" srcset="https://live.staticflickr.com/65535/53401018020_26af7e597a_k.jpg 2x" /></a></p>
<p>傍晚就開始移動到東山植物園了，目標就是本次名古屋行程的重要目標之一的楓葉了，不過到達時已經完全天黑了，所以只有看到夜楓。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399658997/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399658997_8f5bd9aea2_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53399658997_b1c2732332_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401020525/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401020525_e3dca15836_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53401020525_2b5c76b95a_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401020970/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401020970_5f610fd7b4_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53401020970_04964052f1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400910649/" title="東山植物園 夜楓 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400910649_37661cf323_b.jpg" width="1024" height="683" alt="東山植物園 夜楓" srcset="https://live.staticflickr.com/65535/53400910649_2047535acc_k.jpg 2x" /></a></p>
<p>第四天就是主要目標之二的樂高樂園，相較於迪士尼，樂高樂園小很多，而且土地形狀也比較不漂亮，不過對於小小孩來說是蠻適合的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399843232/" title="LEGOLAND Japan by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399843232_05a9ea809b_b.jpg" width="1024" height="683" alt="LEGOLAND Japan" srcset="https://live.staticflickr.com/65535/53399843232_a0c15d14c1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400965688/" title="LEGOLAND Japan by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400965688_ffd93c4b38_b.jpg" width="1024" height="683" alt="LEGOLAND Japan" srcset="https://live.staticflickr.com/65535/53400965688_ea89dec4f6_k.jpg 2x" /></a></p>
<p>樂高樂園也只有營業到傍晚，不像迪士尼還有到晚上，我們也本來就打算晚餐要回車站附近吃。</p>
<p>第五天白天去了三井爵士之夢 outlet，傍晚則是計畫去名花之里看燈飾，出發之前其實也是研究許久，最後決定是全部搭巴士，沒有買套票，運氣還不錯等車都沒等太久（其實早上出發時是用跑的才趕上），位子也剛好夠，最後回名古屋車站那班差點客滿就是。</p>
<p>名花之里的燈飾規模真的很大，而也很認真弄，不會有稀稀落落的：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399855947/" title="なばなの里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399855947_1a54be61fe_b.jpg" width="1024" height="683" alt="なばなの里" srcset="https://live.staticflickr.com/65535/53399855947_7ff2c2e050_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401217005/" title="なばなの里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401217005_f98c4aa0c2_b.jpg" width="1024" height="683" alt="なばなの里" srcset="https://live.staticflickr.com/65535/53401217005_dc7bf8a659_k.jpg 2x" /></a></p>
<p>今年的主燈則是金字塔：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401216580/" title="なばなの里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401216580_4cfc107b87_b.jpg" width="1024" height="683" alt="なばなの里" srcset="https://live.staticflickr.com/65535/53401216580_b715e87864_k.jpg 2x" /></a></p>
<p>第六天早上一樣是在名古屋車站附近商圈逛逛，午餐後去租車出發往飛驒高山，中間路上有遇到小雪，然後到高山時天也已經都黑了，路上幾乎也沒什麼人，不過那個有名的燒肉店還是排很多人在等，後來找了一家好味燒的餐廳「獨樂」，然後去逛超市結束這天的行程。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401249244/" title="ひるがの高原SA by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401249244_8a6b2148d0_b.jpg" width="1024" height="683" alt="ひるがの高原SA" srcset="https://live.staticflickr.com/65535/53401249244_b8e2b8592d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401111663/" title="お好み焼き独楽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401111663_c218ab5621_b.jpg" width="1024" height="683" alt="お好み焼き独楽" srcset="https://live.staticflickr.com/65535/53401111663_3113910452_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53399995367/" title="飛驒高山 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53399995367_4dde884cb4_b.jpg" width="1024" height="683" alt="飛驒高山" srcset="https://live.staticflickr.com/65535/53399995367_7149ef1668_k.jpg 2x" /></a></p>
<p>第七天白天在飛驒高山觀光，去了高山陣屋、宮川朝市、高山物產館、飛驒之里，結果早上也是沒仔細研究，順序錯了，本來應該要先去宮川朝市然後才往陣屋方向，順便要去看那條三町的老屋街區，結果一開始就跑錯方向，錯過那條老街，然後高山也都沒下雪，其實心理還是有點想看看雪景的。飛驒之里是一些老屋的集落，其實是搬遷過來的，有些是因為蓋水壩所以遷村之類的原因，也是第一次有機會進到合掌屋理參觀，很意外的是，裡面空間其實超大的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401247844/" title="飛驒高山 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401247844_8a17f241ff_b.jpg" width="1024" height="683" alt="飛驒高山" srcset="https://live.staticflickr.com/65535/53401247844_8557873e2f_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401110058/" title="高山陣屋 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401110058_76e1422165_b.jpg" width="1024" height="683" alt="高山陣屋" srcset="https://live.staticflickr.com/65535/53401110058_72a3a74f9d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53400312907/" title="飛騨の里 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53400312907_fb82c3c2c2_b.jpg" width="1024" height="683" alt="飛騨の里" srcset="https://live.staticflickr.com/65535/53400312907_7f3f2bda05_k.jpg 2x" /></a></p>
<p>之後就開車往下呂溫泉，這邊有一個失算的，就是這段都不是高速公路，結果害我高速公路 pass 虧到，不過這段路程還算蠻漂亮的，晚上則是入住下呂的冨岳，算是傳統形式的溫泉旅館，早餐晚餐都在房間吃，有大浴場也有包場的時段可以挑。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402799389/" title="下呂温泉 冨岳 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402799389_2a43779e1b_b.jpg" width="1024" height="683" alt="下呂温泉 冨岳" srcset="https://live.staticflickr.com/65535/53402799389_3324ad662d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402663968/" title="下呂温泉 冨岳 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402663968_82d0ae4d67_b.jpg" width="1024" height="683" alt="下呂温泉 冨岳" srcset="https://live.staticflickr.com/65535/53402663968_b301c8d509_k.jpg 2x" /></a></p>
<p>第八天早上去下呂溫泉街逛了一下，然後去溫泉寺，楓葉雖然已經開始掉了但還是很漂亮，之後就開車下山，這段路其實蠻漂亮的，途中經過一個叫下原水壩的地方，經過時就覺得很漂亮，對岸還有火車經過，結果後來發現那邊還真的是一個<a href="https://maps.app.goo.gl/HUt3CXNCDLGQzdyk6">小有名氣的拍照點</a>。午餐則是吃下山後剛好路過的感動的肉與米，事前有查到這間不過沒預期到會剛好經過。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402471541/" title="温泉寺 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402471541_28628c6a67_b.jpg" width="1024" height="683" alt="温泉寺" srcset="https://live.staticflickr.com/65535/53402471541_0740028769_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401547237/" title="感動の肉と米 鵜沼店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401547237_5408c8659a_b.jpg" width="1024" height="683" alt="感動の肉と米 鵜沼店" srcset="https://live.staticflickr.com/65535/53401547237_b17514068c_k.jpg 2x" /></a></p>
<p>感動的肉與米是一個蠻特別的餐廳，可以說是最佳化過後的肉排加米飯的餐廳，東西蠻好吃的，我看網路上有人介紹過東京的店，不過東京店似乎小很多，店內的人來來去去比較不好拍照所以就沒什麼照片，我連自己的肉的照片都不見了。</p>
<p>之後前往犬山城，這趟行程沒去名古屋城反而選擇犬山城，主要是因為犬山城天守是國寶之一，不過天守之外保留下來的部分比姬路城少很多，不過也因此省了很多時間就是，總之就是上去繞了一圈天守這樣，城內倒是沒什麼東西可以看。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402750653/" title="犬山城 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402750653_3fd362ab51_b.jpg" width="1024" height="683" alt="犬山城" srcset="https://live.staticflickr.com/65535/53402750653_ab49664f61_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402562086/" title="犬山城 天守閣 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402562086_2c2b22da41_b.jpg" width="1024" height="683" alt="犬山城 天守閣" srcset="https://live.staticflickr.com/65535/53402562086_66740d3444_k.jpg 2x" /></a></p>
<p>然後住宿就是<a href="https://blog.othree.net/log/2023/12/09/genji-koh/">前一篇文章介紹過的源氏香</a>了。</p>
<p>第九天是回國前一天了，這天本來規劃就是知多半島為主，早上去知多半島最南端的羽豆岬，中午吃河豚，下午隨意逛逛，然後晚上去 J Hotel 臨空。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402662956/" title="羽豆岬 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402662956_1b560fdae5_b.jpg" width="1024" height="683" alt="羽豆岬" srcset="https://live.staticflickr.com/65535/53402662956_e98e2e58fe_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401738057/" title="やまに旅館 お手頃ふぐ梅 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401738057_cec9176a67_b.jpg" width="1024" height="683" alt="やまに旅館 お手頃ふぐ梅" srcset="https://live.staticflickr.com/65535/53401738057_8f39bf8710_k.jpg 2x" /></a></p>
<p>不過到中午行程結束後，發現沒買小倉山莊的仙貝，所以下午就決定往北走回頭路，跑了一趟<a href="https://ogurasansou.jp.net/store/2021/06/24/16354/">小倉山莊的天白店</a>，順便跑高速公路少虧一點 pass 的錢，其實照本來的規劃應該是要前一天從犬山城往南時過去的，這間店的位置其實意外的偏遠，我覺得應該是沒什麼海外觀光客會到這裡，開車過去途中還經過好一大片的工業區；然後小倉山莊，我真的是覺得很厲害，賣仙貝也可以把商品包裝成這樣，然後店內可以擺的讓人目不暇給，也真的是讓我覺得很佩服，當然東西也好吃。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661296/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661296_3a1e4ab1eb_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53402661296_e8378583cf_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401739502/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401739502_2ca80d02be_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53401739502_9fb6a6e25e_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402661171/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402661171_f5c49d9e33_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53402661171_1160c63e8d_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402851548/" title="小倉山荘 天白店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402851548_126191c4d3_b.jpg" width="1024" height="683" alt="小倉山荘 天白店" srcset="https://live.staticflickr.com/65535/53402851548_20f93503e6_k.jpg 2x" /></a></p>
<p>雖然跑去小倉山荘有點走回頭路，不過也因為跑這一趟，還有機會順便逛了一下 V drug 和<a href="https://www.otakarasouko.com/">お宝創庫 鳴海店</a>，在 V drug 也第一次在日本看到了 Costco 賣的那種 Attack Zero 超大補充包。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402851133/" title="お宝創庫 鳴海店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402851133_09807b0e9d_b.jpg" width="600" height="900" alt="お宝創庫 鳴海店" srcset="https://live.staticflickr.com/65535/53402851133_e48633e49c_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401738752/" title="お宝創庫 鳴海店 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401738752_a01f5b03de_b.jpg" width="1024" height="683" alt="お宝創庫 鳴海店" srcset="https://live.staticflickr.com/65535/53401738752_6336922c24_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402660816/" title="V drug by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402660816_9dedcc5d1a_b.jpg" width="600" height="900" alt="Attack Zero 補充包" srcset="https://live.staticflickr.com/65535/53402660816_216d5e0049_k.jpg 2x" /></a></p>
<p>之後就直奔旅館 <a href="https://www.j-hotel-rinku.com/">J Hotel 臨空</a>，旁邊的 AEON Mall 真的超級大，行李丟進房間後又跑去 Costco 逛，我有隨便拍了一些店內商品，可以從<a href="https://www.flickr.com/photos/othree/53402899843/in/album-72177720313161615/">這張</a>開始看，也順便在那邊吃了晚餐。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402899968/" title="AEON Mall 常滑 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402899968_e9eecec6c3_b.jpg" width="1024" height="683" alt="AEON Mall 常滑" srcset="https://live.staticflickr.com/65535/53402899968_7adb1a0c99_k.jpg 2x" /></a></p>
<p><a href="https://www.j-hotel-rinku.com/">J Hotel 臨空</a>這次住起來感覺也很不錯，2023 剛重新裝潢過，有製冰機洗衣機，地理位置也很不錯，就在臨空站旁邊，離中部國際機場和常滑站都只有一站，旁邊 AEON Mall 走路就可以到，房間大小也都不錯，部分房間還有配 <a href="https://www.aladdinx.jp/">Aladdin 投影機</a>，就是那個現在很流行的西瓜遊戲的開發廠商的那個投影機，本來有想請他們幫忙安排，不過入住的時候忘了，但是被安排到很高的樓層是也不錯，房間正對 AEON Mall，看起來也是蠻震撼的，如果要拍中部國際機場或是電車，其實公共區域走到邊邊有個小陽台可以到外面拍，視野很好，也可以看時刻表來拍電車，一大早光線很不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403034194/" title="中部國際機場 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403034194_7033448906_b.jpg" width="1024" height="683" alt="中部國際機場" srcset="https://live.staticflickr.com/65535/53403034194_d7bed7feb7_k.jpg 2x" /></a></p>
<p>第十天也是最後一天，早上打算去常滑市的招財貓大道，在飯店吃早餐時發現有「想哭的我戴上了貓的面具 mini 原畫展」，才發現到常滑市就是該動畫的舞台，展覽也有列出聖地巡禮的點，不過沒什麼時間就沒細看了。飯後開車去常滑站附近逛了招財貓大道後，又接著逛了陶瓷器散步道去找巨大貓咪，必須要說陶瓷器散步道蠻不錯的，很悠閒又很多廢墟也很多商店，如果可以安排一整天在常滑的行程其實也蠻不錯的，可以早上來市區、中午找間餐廳、然後下午可以去 AEON Mall、Costco、明太子公園那一塊，光是 AEON Mall 就可以逛超久，旁邊還有個小賽車場，不想逛街也可以去玩玩，或是下午去機場的 <a href="https://www.centrair.jp/service/flightofdreams.html">FLIGHT OF DREAMS</a> 參觀，然後再來 AEON Mall 也很不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402708386/" title="想哭的我戴上了貓的面具 mini 原畫展 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402708386_97e91b4672_b.jpg" width="600" height="900" alt="想哭的我戴上了貓的面具 mini 原畫展" srcset="https://live.staticflickr.com/65535/53402708386_ee2abbed17_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53401907747/" title="とこなめ招き猫通り by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53401907747_e0c320dcff_b.jpg" width="1024" height="683" alt="とこなめ招き猫通り" srcset="https://live.staticflickr.com/65535/53401907747_3a0fa69db9_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402827296/" title="やきもの散歩道 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402827296_cf1d6d934d_b.jpg" width="1024" height="683" alt="やきもの散歩道" srcset="https://live.staticflickr.com/65535/53402827296_7a5a6c3bc1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403261865/" title="とこなめ見守り猫「とこにゃん」 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403261865_c66fd71b66_b.jpg" width="1024" height="683" alt="とこなめ見守り猫「とこにゃん」" srcset="https://live.staticflickr.com/65535/53403261865_5c33ca1394_k.jpg 2x" /></a></p>
<p>之後因為還有時間就去明太子樂園，然後 AEON Mall 吃午餐、隨便逛逛然後就去機場了，機場去領貨和買了一箱蝦餅，蝦餅本來在那邊挑半天，回來後覺得應該全部買綜合就好（PS. 真的蠻好吃）。</p>
<p>順帶一提，這間 AEON Mall 也有 Village Vanguard，而且有一半是 Village Vanguard Outlet，是我第一次看到這間書店的 outlet。我第一次知道 Village Vanguard 其實是被表哥帶去的，當時他們在高雄有開分店，中文店名叫「比利治玩家」，就是專門賣一些怪東西 ecxiting book store，到底賣什麼可以參考我從<a href="https://www.flickr.com/photos/othree/53402709586/in/album-72177720313161615/">這張</a>開始的照片，或是上他們<a href="https://www.village-v.co.jp">官網</a>逛逛就知道了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403146263/" title="かねふく めんたいパークとこなめ by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403146263_53c42337a0_b.jpg" width="1024" height="683" alt="かねふく めんたいパークとこなめ" srcset="https://live.staticflickr.com/65535/53403146263_3552e69603_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53403280364/" title="AEON Mall 常滑 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53403280364_00454e6c32_b.jpg" width="1024" height="683" alt="AEON Mall 常滑" srcset="https://live.staticflickr.com/65535/53403280364_6abeeca16f_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53402899108/" title="Village Vanguard 常滑 AEON Mall by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53402899108_40eaaa9ca6_b.jpg" width="1024" height="683" alt="Village Vanguard 常滑 AEON Mall" srcset="https://live.staticflickr.com/65535/53402899108_d8a379814d_k.jpg 2x" /></a></p>
<p>最後，就來說說這次旅行的收穫與缺憾吧，首先是收穫的部分，第一個就是稍微體會到下雪天駕駛的感覺，不過因為雪不大，也只有在高速公路上，所以沒有到雪地駕駛的程度；第二個是河豚大餐，之後想單獨寫一篇文章介紹；然後第三個就是常滑和臨空區意外的還不錯，本來也有想單獨寫一篇文章，不過上面已經介紹的差不多了。</p>
<p>至於比較缺憾的部分：</p>
<ul>
<li>沒有看到高山雪景，不過我也有點害怕真的要雪地駕駛就是；</li>
<li>少去了羽豆岬旁邊的師崎漁港朝市；</li>
<li>東西買太少；</li>
<li>沒時間去鈴鹿賽車場；</li>
</ul>
<p>其實我當初規劃在市區近郊的行程有好幾個，可是因為後來市區天數縮水就沒機會了，這邊來列一下：</p>
<ul>
<li>鈴鹿賽車場，應該可以整個白天，不過要小心有比賽的日子，特別有興趣是因為有可以<a href="https://www.suzukacircuit.jp/tw/experience/amusementpark/circuitchallenger/">上真的賽道開電動車的體驗</a>，不過當然不是房車大小那種，但是也有雙座位的車種可以讓小孩在旁邊；</li>
<li>名古屋港：可以參觀南極探測船 5001 富士，因為之前看了<a href="https://blog.othree.net/log/2023/08/02/yorimoi/">比宇宙更遠的地方</a>，所以其實還蠻有興趣的；然後可以搭<a href="https://www.shachi-bus.com/marine/">水陸巴士</a>；接著去名古屋港水族館，不過如果想看企鵝散步時間可能要研究一下怎樣搭配比較好；</li>
<li>吉卜力公園，應該可以一個整天，不過這次因為小孩都還沒看過所以就沒安排，買票也還有點複雜，有想去的話可能要好好花時間研究；</li>
<li>樂高樂園加磁浮博物館，看地圖距離好像還好不過其實步行走的話還蠻遠的，加上樂高樂園我們離開時也已經五點多，所以就沒機會去磁浮博物館了；</li>
<li><a href="https://toyota-automobile-museum.jp/">Toyota 博物館</a>，除了我們去的產業技術紀念館之外，其實 Toyota 還有一間博物館，展示的東西內容也和產業技術紀念館不一樣，產業技術紀念館比較著重在各種技術的發展，而 Toyota 博物館就真的是以展示車輛為主的樣子。</li>
</ul>
<p>最後就是其他的遊記了：</p>
<ul>
<li><a href="https://blog.othree.net/log/2023/12/09/genji-koh/">源氏香 南知多</a></li>
<li><a href="https://blog.othree.net/log/2024/01/12/qr-code-history/">QR Code 發明歷史展</a></li>
<li><a href="https://blog.othree.net/log/2024/03/28/yamani/">やまに（yamani）旅館</a></li>
</ul>
]]></description>
<link>https://blog.othree.net/log/2024/01/06/2023-nagoya/</link>
<guid>https://blog.othree.net/log/2024/01/06/2023-nagoya/</guid>
<category>diary</category>
<pubDate>Sat, 06 Jan 2024 23:34:12 +0800</pubDate>
</item>

<item>
<title>源氏香 南知多</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566549/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566549_d4c2cc3812_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566549_2332169903_k.jpg 2x" /></a></p>
<p>前陣子去了一趟名古屋，一開始其實只是想說帶小孩去樂高樂園，結果行程規劃從一開始的名古屋市區和周邊為主，弄到後來變成市區五天租車五天的，然後打算最後一天住在機場旁邊，就想說那前一天就在附近玩玩好了，要去的地方就因此多了一個一開始完全沒考慮過的「知多半島」了，當然也有研究住宿，當時也有找到「<a href="https://genji-koh.kaiei-ryokans.com/">源氏香</a>」這間旅館，不過那時候已經有安排了下呂溫泉的溫泉旅館，所以就沒考慮這個價位的住宿了，就在一切都安排好後沒幾天，突然就看到 FB 上有人分享到他們有特別的，針對台灣人的免費體驗方案，就是入住後要在 SNS 上分享。</p>
]]><![CDATA[<p>研究加考慮了幾天，決定還是給他申請下去，然後因為有帶小孩的關係，我也有先寫信聯絡確認過沒問題（我日文大概是簡單的可以讀但不太能寫、所以靠 ChatGPT 翻譯，旅館方他們的回信也都有用工具翻譯成中文，所以溝通還算不是太大的問題），當然有另外收費，本來有點期待可以在房間看夕陽的，不過當天因為從下呂出發，中間還去了犬山城，然後七早八早就天黑，所以到達旅館時，已經看不到太陽了，還好還有晚霞。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377252211/" title="源氏香 夕陽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377252211_1035494cc3_b.jpg" width="1024" height="683" alt="源氏香 夕陽" srcset="https://live.staticflickr.com/65535/53377252211_878a8725b3_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376328142/" title="源氏香 夕陽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376328142_dc58e088f7_b.jpg" width="1024" height="683" alt="源氏香 夕陽" srcset="https://live.staticflickr.com/65535/53376328142_fecdbaf6a1_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377699285/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377699285_e3eb6e2798_b.jpg" width="683" height="1024" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377699285_3a628c14ab_k.jpg 2x" /></a></p>
<p>大門邊還有兩盆火和一個鼓，後來看到其他人分享說請他們接送的，到飯店時還會有人擊鼓歡迎，不過我們到的時候停車場其實已經黑麻麻的了。進入大廳後馬上就聞到很特別的香味（飯店的特色），辦理入住後有抹茶和小點心，小點心我當時沒吃，回來才發現也是南知多的點心店的類似麻糬的小點，還蠻好吃的，意外的是還送了紙鶴的摺紙和色紙給我們的小朋友。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377695225/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377695225_da81da4c2f_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377695225_67d87ceeda_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377695225/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377430478_9901c76d9e_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377430478_5227e74aa8_k.jpg 2x" /></a></p>
<p>房間是他們最標準的和室，另外有獨立廁所、乾濕分離的衛浴、洗臉台還有兩個，其實空間也是很大，棉被則是自己鋪，不過有需要的也可以播電話到前台請他們幫忙，其他備品設備都很齊，可以自己燒水，還有一壺冷水(有冰那種）可以飲用，清潔度也沒大問題，我沒特別刁難的下去找哪裡沒乾淨，當然有些設備有點舊，不過都維護的還不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377430593/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377430593_9dc5f67f44_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377430593_805b310402_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377253426/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377253426_129c06686a_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377253426_030b98f08b_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377253426/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377430778_204ce69195_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377430778_66f98f2f8d_k_d.jpg 2x" /></a></p>
<p>進到房間時天色已經幾乎要全黑了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377253961/" title="源氏香 夕陽 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377253961_aef74feac6_b.jpg" width="1024" height="683" alt="源氏香 夕陽" srcset="https://live.staticflickr.com/65535/53377253961_e2c4dd71f8_k.jpg 2x" /></a></p>
<p>然後就是特色的品香體驗了，除了官網介紹的體驗的活動之外，房間都有固定的準備了五種香可以自己點起來品聞。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377431548/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377431548_0e01a75328_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377431548_cc43a881e6_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377701580/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377701580_c55f6148d0_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377701580_2b00978bdb_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376329882/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376329882_d8863a7ef8_b.jpg" width="683" height="1024" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376329882_d00263949c_k.jpg 2x" /></a></p>
<p>我們試了其中三種，左邊兩個那個就比較接近台灣拜拜燒的香，不過第一款點的藍色的和第二天點的桃紅的都很特別，而且是好聞的味道，文章的前面沒詳述，其實源氏香號稱是日本第一間以薰香為主題的旅館（1999 年開業，其實不算老，有點意外這之前沒人想過經營這樣主題的旅宿），從一進到旅館就可以感受到，不同的公共空間有著不同的香味，像是大廳和電梯就明顯用了不一樣的香味，都是很好聞且會讓人舒服可以放鬆的味道，然後讓我印象深刻的是，這些味道其實我都沒有聞過（記憶中沒聞過），味道濃郁卻不也會刺鼻或讓人不舒服，而且我不會過敏，對我來說是個非常新的體驗，就是開了眼界這樣，原來有這樣的香味，然後原來可以這樣子來使用這些香味。</p>
<p>接著休息到晚餐時間，日式溫泉旅館的定番：懷石料理套餐，也有準備好中文版的菜單給我們看，有開胃菜、生魚片、肉類拼盤、蒸菜、天婦羅等，食物很美味，份量也夠，吃完時就很飽了，最後還給我們豆皮壽司帶回房間當宵夜，另外就是吃飯時都是單獨包廂，雖不是完全獨立房間但也有簾子可以完全檔著，隱私還是顧的不錯。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377425398/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377425398_1ffcfbf3bf_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377425398_1f78921360_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376330807/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376330807_6e725f49a4_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376330807_e02bf3c15c_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377433103/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377433103_880a8e4482_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377433103_4b26839cc8_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376332187/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376332187_b673076856_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376332187_e9bc8de114_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376332352/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376332352_b049f76634_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376332352_477d362dc6_k.jpg 2x" /></a></p>
<p>飯店內很多地方都有展示薰香相關的東西，尤其是香爐。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377705165/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377705165_d4fab5674c_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377705165_0c9f74e0bc_k.jpg 2x" /></a></p>
<p>飯後休息一陣子後，我們就去洗澡泡湯了，旅館內的澡堂，在最頂樓十樓有男女分開兩間露天澡堂，然後八樓九樓各一間室內，一男一女的，我們想說晚上先泡室內的就好了，隔天早上再去泡露天的，不過這個決定有點失算，首先是兩間室內澡堂其實最早的規劃是包場的貸切風呂，現在改成公用的，所以很多基礎設備是沒有的，像是可以上鎖的櫃子，所以房間鑰匙只能和毛巾衣物一起塞到竹籃裡面，我本來覺得很奇怪，想說完全沒有也太奇怪，直到隔天去頂樓一看，才發現兩邊設備差太多了吧，頂樓不但更衣休息空間都大很多，有私人櫃子，還有飲水機和冰櫃，有免費冰棒，但是只有下午到晚上開放取用，所以我沒吃到...，要是還有其他人來造訪記得還是以露天風呂為優先，不然也是可以泡湯完去十樓的休息休息，晚上可以去拿冰棒吃，然後除了兩個澡堂的差異之外，還有一點要特別注意的是，澡堂開放時間不是非常棒，晚上只有到十一點，隔天早上則是九點（退房是十點）。</p>
<p>泡完澡，回到房間休息，看看外面，發現到看得到內海對岸（看地圖是伊勢神宮那方向最亮）的燈光，然後光害很少，所以星星也很多，用相機拍下去更多。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377429313/" title="源氏香 夜景 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377429313_6f8d04c654_b.jpg" width="1024" height="683" alt="源氏香 夜景" srcset="https://live.staticflickr.com/65535/53377429313_ade5d6dee5_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377698565/" title="源氏香 夜景 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377698565_6fa79d8ef6_b.jpg" width="683" height="1024" alt="源氏香 夜景" srcset="https://live.staticflickr.com/65535/53377698565_9f27911f1f_k.jpg 2x" /></a></p>
<p>可以拍星空，算是很意外的收穫，這天還是有月亮跑出來的日子，不然應該可以拍的到更多星星。然後晚上真的是很冷，南知多冬天應該是淡季吧，雖然有虎河豚，但是好像沒什麼其他觀光客。</p>
<p>隔天早上，意外的發現，這個地理位置竟然可以拍日出，但是我起床時太陽已經跑出來了一陣子了，我真是太小看日本的緯度了，</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53376325997/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53376325997_71e6f0071f_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53376325997_c069bccb7c_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377696905/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377696905_f3519e90fc_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377696905_123e239c57_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377697230/" title="源氏香 廣緣 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377697230_62a1850dfb_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377697230_8fe833fe6e_k.jpg 2x" /></a></p>
<p>早餐一樣是在二樓餐廳，白天配上窗外景色真是漂亮很多，早餐也很豐盛，而且就有河豚可以吃了，不過是比較小隻的！</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566549/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566549_d4c2cc3812_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566549_2332169903_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566244/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566244_df5557fa88_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566244_40a043453e_k.jpg 2x" /></a></p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377566469/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377566469_242ecdbbde_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377566469_aa5af1c24d_k.jpg 2x" /></a></p>
<p>因為澡堂早上九點就關的關係，我們排很早吃早餐，吃完飯後就去泡露天溫泉，外面依然很冷，躲在熱水裡都不敢出來，不過風景很好，其實在決定參加前，有看 Google Map 上的一些評論，有很多人說到露天溫泉水裡有很多羽毛之類ㄉ，這次我倒是沒遇到，不過不確定是因為冬天比較沒鳥來亂，還是有認真改善這個問題就是。</p>
<p>泡完湯後回房間休息，最後又點了一枝香。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53377426453/" title="源氏香 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53377426453_e156813103_b.jpg" width="1024" height="683" alt="源氏香" srcset="https://live.staticflickr.com/65535/53377426453_fcd357b2c6_k.jpg 2x" /></a></p>
<p>大廳早上還有一個迷你朝市，有賣些漁產，還有賣早餐的河豚（已經是處理成一夜干加上真空包裝了），逛完我們就退房去南知多的行程了，飯店的人也出來送別，還在門口等我們到準備好發車離開。</p>
<p>整體而言，這次的住宿是滿意的，雖然有發現一些小問題，不過重要的幾個項目都有不錯的體驗：房間舒適、薰香讓人印象深刻、餐飲也好吃、溫泉、海邊景觀很棒，雖然是特別的方案但是也沒給我們特別關照或是過度干擾，只有入住退房時有跟我們提醒到活動相關的規則。算是個花錢後不會讓人覺得不值的經驗，不過我發現南知多去的外國觀光客好像不多，甚至有很多是只能打電話預約的當地住宿，所以就來附上南知多我簡單研究一下覺得可以值得去看的景點（需自駕）：</p>
<ul>
<li><a href="https://www.ebisato.co.jp/index.php">蝦仙貝之里工廠</a>：本來是想讓小孩去作仙貝，但是因為本來就打算去機場買一箱，所以沒時間就放棄了；</li>
<li><a href="https://www.aichi-now.jp/spots/detail/112/">羽豆岬</a>：知多半島最南端，有神社、小展望台，還有個羽豆崎城跡，很小沒被列到兩百名城中；</li>
<li><a href="https://www.morozaki.jp/asaichi/">師崎港 朝市</a>：就在羽豆岬附近，不是在主要道路旁邊所以我錯過了，扼碗，看到別人去逛覺得蠻有趣的；</li>
<li>海鮮餐廳：附近很多海鮮餐廳，冬天有河豚，我有預約一間吃了虎河豚套餐，之後再來介紹（其實源氏香也有河豚套餐）；</li>
<li>其他還有一些甜食點心的店，像我本來有查了一兩家 parfait 的咖啡廳要去，結果吃完河豚套餐就太飽了；</li>
<li><a href="https://www.tokoname-kankou.net/">常滑市</a>在機場旁邊，算是比較熱鬧的地方，如果不規劃到更南邊，或是沒有開車，光是常滑市排個半天一天也不錯，車站附近有陶瓷器散步道，氣氛很不錯，還有很多招財貓，靠近機場那邊還有超大的 AEON Mall 和 Costco（見<a href="https://www.flickr.com/photos/othree/53384408327/in/dateposted-public/">照片</a>），然後這次去了我才發現該市也是 <a href="https://www.netflix.com/tw/title/81281872">想哭的我戴上了貓的面具</a> 的取景地。</li>
</ul>
]]></description>
<link>https://blog.othree.net/log/2023/12/09/genji-koh/</link>
<guid>https://blog.othree.net/log/2023/12/09/genji-koh/</guid>
<category>diary</category>
<pubDate>Sat, 09 Dec 2023 15:41:08 +0800</pubDate>
</item>

<item>
<title>Sign-in with OOO ID</title>
<description><![CDATA[<p>最近工作上在研究 Sign-in with Apple/Google ID，其實這件事情也作過很多次了，不過距離上次也有點久了，不知道那些 SDK 有沒有什麼改變，所以還是要重頭來，而且這次多研究了一個 Apple，有搞懂些以前沒釐清的細節，想說紀錄一下。</p>
<p>首先就是，我發現到 Google 和 Apple 現在都會回一個 <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">ID Token</a>，內容則是 JWT，而且是認真的 JWT，真的會有帶一點使用者資料（像是 email）的，可以用來作 user authentication（認證）用的，這在以前只有 OAuth 2.0 的時候是沒有的，查一陣子資料才發現這其實是 <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect</a>（簡稱 OIDC） 規範的，該規範是是 2014 年發布的，其實還比 JWT 早定稿。</p>
<p>相較於 OAuth 2.0 做的是 authorization（授權），OIDC 做的則是 authentication（認證），只不過 OIDC 是整個依附在 OAuth 2.0 的架構上，利用的就是 OAuth 2.0 的 <a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.1.1">response_type</a>，本來只有 <code>code</code> 和 <code>token</code> 兩種，在 OIDC 多提供了 <a href="https://openid.net/specs/openid-connect-core-1_0.html#Authentication"><code>id_token</code></a>，ID Token 是用 JWT，而且也有明確定義有裡面的 user profile 相關的<a href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">欄位</a>（不是定義哪些是必須提供，而是定義好語意和對應的欄位名稱）。</p>
<p>第二個則是我一直存疑已久的問題，就是 OAuth 2.0 的設計上基本是用 redirection flow，而且 <a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.1.2"><code>redirect_uri</code></a> 也是必要的，但是 Google 其實一直都支援純 JS 的方案，也就是說 Relying Party(應用程式端)不需要實作一個 redirection endpoint 來接資料，前端的 JS 就可以直接拿到 authorization code 和 access token，這次也認真的研究了這個問題，結果發現，Apple 的 OAuth 流程中，<a href="https://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#ResponseModes">response_mode</a> 給的值是目前不在標準內的 <code>web_message</code>，而 Google 則是 <a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.1.2"><code>redirect_uri</code></a> 給的是一個沒見過的 scheme：<code>storagerelay://</code> 的 URI。</p>
<p>其實我一開始以為這些設計，是各個公司自己想一想然後就自己做下去的，結果沒想到其實不是，首先是 Apple 的實作，用的是 <a href="https://datatracker.ietf.org/doc/html/draft-sakimura-oauth-wmrm-00">OAuth 2.0 Web Message Response Mode</a> 這份草稿的設計，這份草稿其中一位作者 Nat Sakimura 現在是 OpenID 的 chairman，而且他也是其他很多相關規範的作者（像是 <a href="https://www.rfc-editor.org/rfc/rfc7519">JWT</a>)，不過這份草稿只有一版且沒人更新，有很多細節沒有寫定，大部分都是提供範例程式碼而已，所以 Apple 有些東西不是照範例做，例如 message 的 payload；Google 實作的則是 <a href="https://lists.openid.net/pipermail/openid-specs-ab/2015-November/005865.html">OAuth 2.0 IDP-IFrame-based Implicit Flow</a>，這份文件其實是我最後才找到的，因為這份只有出現在 OpenID 的 mailing-list，而且也完全沒有討論和更新，不像前一份還有發到 IETF，回到文件內容，這份的作者，就全部都是 Google 的人了，內容完整許多，也有定義好 message 的 payload 結構，不過還是有些細節有缺，像是認證完成後的回傳事件，現在 Google 用的事件名稱在這份文件中就找不到。</p>
<p>除了這兩份草稿外，其實還有一份是 <a href="https://curity.io/">Curity</a> 提出的 <a href="https://datatracker.ietf.org/doc/html/draft-ideskog-assisted-token-05">OAuth 2.0 Assisted Token</a>，一樣有發到 IETF，而且還比較有在更新，最新一版是 2021 的，Assisted Token 的設計是多給了一個流程叫做 Assisted Token Flow，用不一樣的 URL 來使用這個 flow，這個流程的最後一步就是 postMessage 回到 opener/parent，規範寫的比較完整，包括各種新屬性的 registry、message 的 payload，還有安全性相關的考量都有，不過我看一看有些地方覺得有些疑惑，第一個是 message payload 的結構似乎辨識度沒很高，第二個則是完全沒提到 refresh token 和 authorization code，不確定是目前還沒考慮到那邊，還是因為安全性考量把它們先排除。</p>
<p>第三個是 Apple 的實作，雖然基本上還是照著 OAuth，但是其實限制更多，首先就是，<code>scope</code> 就只有 email 和 name 可以拿，而且 Apple 做成，只有第一次 authorization 時，會把 user profile 傳給 RP，之後是拿不到的（不過 email 有在 id token 內），然後，雖然可以拿到 access token，但是其實完全沒有可以使用它的 API endpoint，所以什麼事情都不能作，真的只能用來做 authentication，最後一個，就是用 code 換 token 時，要給的 <code>client_secret</code> 參數還特別麻煩，要<a href="https://developer.apple.com/documentation/accountorganizationaldatasharing/creating-a-client-secret">自己組一個 JWT</a>（但是也因此會 expire 比較安全），然後用之前從 Apple Developer 後台生好的 secret key 去算 signature。</p>
<p>最後一個想紀錄的就是，這幾份標準和文件裡面幾乎都有一個章節是 Security Consideration，內容雖然不全面但是還蠻值得一看的，也有提到一些攻擊手法，而除此之外，其實還有一份文件：<a href="https://www.rfc-editor.org/rfc/rfc6819">RFC6819: OAuth 2.0 Threat Model and Security Considerations</a>，內容就是有說明 OAuth 2.0 各種設計在安全性上的考量（像是為什麼有 <a href="https://www.rfc-editor.org/rfc/rfc6819#section-3.3">Refresh Token</a>，什麼情境下它有助於安全性的提升），以及各種可能的攻擊手法。</p>
]]></description>
<link>https://blog.othree.net/log/2023/11/08/sign-in-with-/</link>
<guid>https://blog.othree.net/log/2023/11/08/sign-in-with-/</guid>
<category>web</category>
<pubDate>Wed, 08 Nov 2023 21:52:51 +0800</pubDate>
</item>

<item>
<title>Celeste</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53276279101/" title="Celeste by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53276279101_c264a1ba25_b.jpg" width="768" height="1024" alt="Celeste" srcset="https://live.staticflickr.com/65535/53276279101_77a78ba47f_k.jpg 2x" /></a></p>
<p>一直想寫一篇關於 <a href="https://www.celestegame.com/">Celeste</a>（蔚藍山脈）的文章，不過拖了很久一直寫不出來，其實我當初也是拖了很久才玩的。我因為原本就很喜歡 2D 的平台遊戲，然後看到 Celeste 的介紹覺得很特別，以登山為目標，沒有戰鬥但是有挑戰性的平台遊戲，多麼特別啊！所以 2019 年我就把它買下來了，還是 <a href="https://limitedrungames.com/products/switch-limited-run-23-celeste-preorder">Limited Run Games 的版本</a>，結果買回來後，稍微玩一下覺得怎麼難到爆炸，就放置了。</p>
<p>後來到了 2021 年底，在 FB 看到橘子說<a href="https://www.facebook.com/Orange.8361/posts/pfbid0MZgonb2aBDzEfp1JwzrRALTZGtjf384afpWZXYFo9Pt3Pk78rDaJAwxyXyPwtHoNl">他登頂了</a>，我才一點手癢一點不服輸的又重拾了起來，結果這次就順利了突破一開始的障礙，漸漸的上手了起來，後來橘子更是把<a href="https://www.facebook.com/Orange.8361/posts/pfbid02hRCPB4QydeQnBcUygewfZh7akZ2nWr9i9XTQmvB2sVpLjsheCCjWtiuuZmWpfJwal">全部的關卡包括第九章都過完</a>了，本來想說我 B 面 C 面不勉強（有多難可以參考机核的文章：<a href="https://www.gcores.com/articles/96249">《蔚蓝：Celeste》：每个人心中都有一座山，但并非每个人都能登上山顶</a>），結果還是不服輸的就慢慢的也都過完了，必須說這關卡難度的曲線設計的真的是非常棒，最後花了一個月左右，遊戲時間 50 多小時，成績是把全部關卡通過，收集到所有除了黃金草莓以外的草莓，認真的說，這遊戲真的很難，我相信一定很多人無法達到這樣的成績，當然我也不是要說我多厲害，因為我這樣的成績還不是全要素收集，更上一層還有無死通關的金草莓，不過這樣的挑戰歷程已經讓我想寫文章記錄下來了。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53281633529/" title="Celeste by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53281633529_58b4cc2bc0_b.jpg" width="1024" height="576" alt="Celeste" srcset="" /></a></p>
<p>我覺得這款遊戲最讓我感到厲害的，就是它遊戲的內外呼應，遊戲內的故事主軸是登山，而在了遊戲故事之外，這款遊戲也設計成了一個讓人攀登的高山，關卡和整體的難度就是設計的非常精巧，大家都可以在山腳出發，但是可能只有一半人能到五成高度，到了八成高度的地方就只剩下兩成，而真正能到達山頂，達成全要素，收集到所有的草莓，真正見到最後那個山頂風景的，就只有少數的那些玩家，那 26 個黃金草莓，全世界登記有案能拿到的大約只有<a href="https://celeste.ink/wiki/List_of_Celeste_players_with_the_Farewell_Golden_Berry">三百多人</a>（<a href="https://forum.gamer.com.tw/C.php?bsn=32436&amp;snA=17">台灣也有至少一位</a>），Celeste 也有賣出一百萬套左右，也就說只有萬分之三的人，能夠到達這款遊戲的真正的山頂（要素的山頂、還有另一批人在拼 speed run）。</p>
<p>本來還想要介紹更多的東西，但是寫了兩三次都不盡如意，最後決定，留下這篇文章作為自己參與了這段挑戰的紀錄，我到現在偶爾，都還會拉出當時登山時的一些影片紀錄，有些關卡真的是非常困難，難到讓人過關時都忍不住會按下 Switch 的錄影按鍵紀錄下來，甚至也不少是功虧一簣的紀錄，當然，我拿到最後一顆 moon berry 的紀錄也有，當時也有<a href="https://www.facebook.com/othree/posts/pfbid0RtymcvfzMXR2QfdD1X756CNoCzuZBe4WYj9dCsCEu4zpEVorNweWqBjbrTMtUnJZl">貼在 FB</a> 上。</p>
<p>附上幾篇開發相關的延伸閱讀：</p>
<ul>
<li><a href="https://indie-guider.games/post/DevStudy-Celestegame/">開發經驗分享】專題系列－《Celeste》</a></li>
<li><a href="https://qwe321qwe321qwe321.github.io/posts/61013/">從移動和跳躍開始，做好 2D 平台跳躍遊戲的角色控制 _BB001</a></li>
<li><a href="https://www.rockpapershotgun.com/celeste-dash">Why Celeste's dash feels great</a></li>
<li><a href="https://www.youtube.com/watch?v=4RlpMhBKNr0">Level Design Workshop: Designing Celeste</a> Celeste 開發者 Maddy Thorson 在 GDC 2017 的分享</li>
</ul>
<p>其他延伸閱讀可以參考橘子的第二篇 FB 貼文。</p>
]]></description>
<link>https://blog.othree.net/log/2023/10/22/celeste/</link>
<guid>https://blog.othree.net/log/2023/10/22/celeste/</guid>
<category>acg</category>
<pubDate>Sun, 22 Oct 2023 20:56:37 +0800</pubDate>
</item>

<item>
<title>digital envelope routines::unsupported</title>
<description><![CDATA[<p>Node.js 16 LTS 已經結束維護，所以手上的東西就開始需要升級升級，然後就必須要來正面面對這個我逃避已久的錯誤訊息：</p>
<pre><code>digital envelope routines::unsupported
</code></pre>
<p>這錯誤基本上就是發生在幾個網站的專案，尤其是 build 專案時特別會容易看到，而且這個錯誤其實和一般看到的 JS 錯誤長得不太一樣，全貌其實是這樣：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53186660279/" title="digital envelope routines::unsupported by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53186660279_4f2b82bbbc_b.jpg" width="1024" height="738" alt="digital envelope routines::unsupported" srcset="https://live.staticflickr.com/65535/53186660279_a5cd706923_k.jpg 2x" /></a></p>
<pre><code>Error: error:0308010C:digital envelope routines::unsupported
</code></pre>
<p>首先是錯誤訊息，前面有一些 hex 值，不知道是什麼，然後下面 trace 的地方，可以看到幾乎都是 node_module 內的東西，不是因為我們自己的 code 造成的，所以就很讓人困惑，想說是不是什麼系統問題、還是有什麼偷用非公開 API 造成不相容的狀況。總之以前就是遇到這個問題就是又降版回來，沒有仔細深究，這次終於要來認真處理，不過搜尋結果，幾乎都是說加一個 <code>--openssl-legacy-provider</code> flag，都沒人說到底是什麼問題，尋找許久，終於在 StackOverflow 找到一則<a href="https://stackoverflow.com/a/73027407/443051">最正確的答案</a>，沒想到和 OpenSSL 1.x 的生命已經到盡頭有關。</p>
<p>結果這個錯誤，其實是因為 Node.js 17 開始，從 OpenSSL 1.x 換到 3.x，然後 OpenSSL 3.x 不是向下相容的，所以有些東西有機會出錯，這邊爛掉的，其實是一些 legacy 的 hash method 預設是拿掉的，而 Webpack 在建立 bundle 檔案時，如果檔名有用到 hash 的話，預設的 hash method 用的就是已經被淘汰的 <a href="https://www.openssl.org/docs/man3.1/man3/MD4.html">md4</a>，然後 md4 是用 Node.js 的 <a href="https://nodejs.org/docs/latest-v20.x/api/crypto.html#cryptocreatehashalgorithm-options">crypto</a> 來呼叫 OpenSSL 做事，Node.js 的文件也有提到支援的演算法是依據你的 OpenSSL 版本和系統而定，所以其實並沒有保證 <strong>md4</strong> 一定可以用，而如果使用了 OpenSSL 不支援的演算法，跑出來的錯誤訊息就是像上面截圖一樣特別了，然後我還特別去用 OpenSSL 3 cli 跑跑看，結果出來的錯誤訊息真的就是差不多：</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53188641438/" title="OpenSSL 3 error by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53188641438_3493041848_b.jpg" width="512" height="341" alt="OpenSSL 3 error" srcset="" /></a></p>
<p>使用 flag 開啟舊演算法的支援其實我覺得還算可以接受，畢竟是 build 而已，不是拿來跑服務，不過這個 flag 似乎有點特殊，似乎不能直接放在 <code>NODE_OPTIONS</code> 裡面，而且同個程式庫要是拿到舊版 Node.js 環境去跑，加這個 flag 反而跑不起來，所以最理想還是把問題解決掉。</p>
<p>那這個問題應該怎麼處理呢？其實簡單說就是把套件升級升級就好了，因為現在的套件新版本都有處理這個問題，不過走上升級這條路之前可以先試試看 StackOverflow 上的解法（有可能讓你專案爛掉，請先備份）：</p>
<pre><code class="language-bash">npm audit fix --force 
</code></pre>
<p>如果你用的是 yarn，沒有 <code>audit fix</code> 可用，但是也有人提供用 npm 來修理的<a href="https://stackoverflow.com/questions/51732435/is-there-a-yarn-alternative-for-npm-audit/60878037#60878037">流程</a>，不過我是沒試過這個流程，我自己有一個專案是靠 <code>yarn upgrade</code> 升級後解決問題的（實際上是把所有有用到的 <a href="https://github.com/webpack/loader-utils/releases/tag/v2.0.1"><strong>loader-utils</strong> 都升級到 2.0.4</a>，本來有個套件用到 2.0.0），剩下的還是無法修好的就要靠手工了，然後因為我處理的網站只有 Gatsby 和 CRE(Create React App) 兩種，所以以下就是只有說明這兩個系統的為主，兩者其實都是使用 Webpack 作打包工具的，而 <a href="https://github.com/webpack/webpack/releases/tag/v5.61.0">Webpack</a> 是從 v5.61.0 開始保證支援 Node.js 17 的，我稍微查了一下 Gatsby 是從 <a href="https://github.com/gatsbyjs/gatsby/releases/tag/gatsby%404.2.0">4.2.0</a>，而 CRA 的則是要最新版 react-script <a href="https://github.com/facebook/create-react-app/releases/tag/v5.0.1">5.0.1</a> 才保證支援，為什麼說是保證呢？因為 <code>^</code> 的 semver range 的關係，例如要是你的 react-script 是 5.0.0，那你本地可能會是裝到 Webpack v5.60.0，那就不支援 Node.js 17 了，像我就是有 Gatsby 3.x 的，升級到 4.x 就沒事了。</p>
<p>Gatsby 和 CRA 其實都還好，最慘的是 eject 過的 CRA 了，只能手工升級，基本上就是去 <a href="https://github.com/facebook/create-react-app/tree/main/packages/react-scripts">react-script</a> 那邊，複製需要的檔案回到你的專案覆蓋過去，最主要的是 <code>scripts/</code> 和 <code>config/</code> 下的檔案，然後根據自己的修改紀錄把自己作過的修改改回去，接著更新 <code>package.json</code> 裡面的 dependencies，版本號就是參照 react-script 那邊的 <a href="https://github.com/facebook/create-react-app/blob/main/packages/react-scripts/package.json#L30-L78">package.json</a>，最主要的就是 <code>webpack</code> 相關的，接著安裝套件後重新 build，要是還有一樣的錯誤，就看 trace 看看是哪個相依套件，看有沒有新版有修正就更新試試看，大概就是這樣，很容易漏東西所以會一直重複測試，蠻花時間的，不過最後 build 成功還是有成就感的。</p>
<p>PS. 還要小心其他升級的後遺症，如果是 app 最好要測試過各種行為，像我遇到 Webpack 5 不支援 polyfill Buffer 的問題，剛好那個錯誤又被 catch 掉，所以我 build 是沒問題的，就是測試跑不過，後來參考網路上的<a href="https://viglucci.io/articles/how-to-polyfill-buffer-with-webpack-5">文章</a>處理。</p>
]]></description>
<link>https://blog.othree.net/log/2023/09/15/digital-envelope-routines-unsupported/</link>
<guid>https://blog.othree.net/log/2023/09/15/digital-envelope-routines-unsupported/</guid>
<category>script</category>
<pubDate>Fri, 15 Sep 2023 11:41:56 +0800</pubDate>
</item>

<item>
<title>Vim License 的故事（下）</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177611514/" title="Vim License on choosealicense by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177611514_6232063ea9_b.jpg" width="1024" height="684" alt="Vim License on choosealicense" srcset="https://live.staticflickr.com/65535/53177611514_69382dace8_k.jpg 2x" /></a></p>
<p>接續<a href="https://blog.othree.net/log/2023/09/10/vim-license-1/">前一篇</a>。</p>
<p>Mike 在 SPDX License List 這邊提出的問題則是，為什麼會有 Vim 要替換，但是 Vim Maintainer 不要替換這樣特別的情形，所以我就是認真的解釋，並且說明這是跟原作者 Bram 確認過的細節並附上討論，還有舉我前面提過那個最極端的例子，然後我猜最重要的是現實世界有沒有人這樣使用過，還好我還真的找到幾個專案有認真的把條款內的 Vim 替換掉（當然是連 Vim Maintainer 也換掉了），像是 <a href="https://github.com/preservim/tagbar/blob/master/LICENSE">Tagbar</a>；我的 PR 是 2019/07/11 提的，然後一直來回到 9/25 回了最後一個回應之後就沒人回我了，之後到了 10/19 就突然被合併了（其實 SPDX 有定期的會議，應該是在其中有討論過要不要合併這個 PR 吧），接著等到 2020 一月我發了 PR 到 choosealicense 把 vim.txt 加進去，這次就蠻順利就合併了。</p>
]]><![CDATA[<p>解決了上游問題，回到 Licensee 偵測的問題，我本來的 PR 沒被合併，而是 Mike 另外弄了一個比較通用的解法，是根據條款文本內的替換字串來動態調整差異的容許範圍，然後接著 2020/03/13，Licensee 9.13.1 作為第一版支援 Vim License 的 Licensee 發佈了，接下來，我理論上就只要等 GitHub 更新 Licensee 的版本就好了，這我倒是不太擔心，我是有種感覺 GitHub 是有在認真更新這些東西的，然後，時間快轉到三個月後，這段期間其實我都有偶爾上去 GitHub 看一下 Vim License 有沒有被偵測出來，想著要是終於完成的話就可以投個稿了，當時的時間大概是搞了三年這樣，總之因為過有點久了，我又去拉了最新版 Licensee 來測試，結果讓我嚇了一跳，竟然偵測不出來了！</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177845605/" title="Licensee 9.13.1 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177845605_dbd6f40e06_b.jpg" width="1024" height="684" alt="Licensee 9.13.1" srcset="https://live.staticflickr.com/65535/53177845605_169f7db9ba_k.jpg 2x" /></a></p>
<p>所以我又花時間下去查原因，結果是 2020/05/12 的 9.14 開始爛掉的，Mike 在 9.14 有修改一部分的演算法，在比對兩份文件時，因為有替換字串的關係，不可能用完全比對的方式，所以在有替換字串時，文件的長度差異會影響相似度，有個動態的 <code>max_delta</code>，如果替換字串後長度差異太大超過 <code>max_delta</code> 的話，就會被判定為不同的文件，在 9.14 則是把這個機制拿掉，直接把替換字串的影響弄進相似度之中，不過其中長度差異的懲罰太大，結果造成 Vim 專案本身的判斷失準，發現原因之後，我就發了 PR 調整懲罰的參數，讓 Vim 剛好可以過關這樣，結果我發 PR 時 Mike 早已經發現這個問題，也已經修改好開了 PR 只是還在 review，而該 PR 的方法是則是動態的根據替換字串的數量來調整文件長度差異的值，除此之外，Vim License 還被加到測試之中，所以以後應該不會再發生這種問題了。</p>
<p>然後，我就等這個 PR merge 等了三個月，不過還好 merge 後馬上就發佈 9.14.1 了，接著又回到等 GitHub 更新的時間了，我就一直等，一直等，偶爾上去 GitHub 的 Vim repo 確認一下，2021 年初我還寫信去 GitHub Support 問他們當時使用的版本是哪一版，Support 還有認真去幫我確認是沒更新，然後就這樣一直等一直等到 2022 年初，有天在用 GitHub 的搜尋功能時，突然發現到，可以用條件設定搜尋特定授權條款的專案，然後我就想說可以來試試看 Vim License：<code>license:vim</code>，結果竟然有<a href="https://github.com/search?q=license%3Avim&amp;type=repositories">符合條件的專案</a>出現！讓我大吃一驚！原來不知何時 GitHub 已經偵測的到 Vim License 了，可是 Vim 那個 repo 結果卻還是不正確，深入了解一下，推測應該是 GitHub 有 cache 機制，找了一下文件發現到有提到說如果有發現專案的授權條款標示不正確，可以聯絡 support，於是我就發了 support request，這次很快就收到回應，然後在 2022/01/12 這天，確認了 GitHub 上的 Vim 專案有正確的顯示為 Vim License 了，歷時將近五年，那天我還發推慶祝了一下。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177410816/" title="Search result of Vim Licensed repo by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177410816_564bde201f_b.jpg" width="1024" height="684" alt="Search result of Vim Licensed repo" srcset="https://live.staticflickr.com/65535/53177410816_1f295d5269_k.jpg 2x" /></a></p>
<blockquote class="twitter-tweet"><p lang="zh" dir="ltr">自己挖了將近五年的坑今天終於填平了，今年終於可以投個稿</p>-- othree (@othree) <a href="https://twitter.com/othree/status/1481290722368458757?ref_src=twsrc%5Etfw">January 12, 2022</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>之後，終於可以準備投稿，然後順利投上 2022 年的 COSCUP，題目是「<a href="https://coscup.org/2022/zh-TW/session/ESQUUF">歷時五年的開源貢獻，GitHub 支援 Vim License 的故事</a>」（<a href="https://www.youtube.com/watch?v=YM7RHRwIrKU">影片</a>、<a href="https://speakerdeck.com/othree/how-github-supports-vim-license-detection-the-five-years-journey">投影片</a>），在準備分享的過程也是遭受很多的<del>電玩干擾</del>阻力，分享過程還算順利，自己有點小不滿意不過還算可以接受，不滿意的地方是有些我一開始有想要分享的點忘了說，不過也是在這篇文章有補齊了。</p>
<p>其實在初期那段等待的時間之間，我還開了一個小專案 <a href="https://vim-license.dev/">Vim License Gen</a>，用來幫人產生自己的專案/軟體用的 Vim License 文件，為什麼要有這個工具是因為以前的純文字文件，每行的寬度大概都在 80 個字元以內，但是每個專案的名稱都不一樣，如果直接做替換，有可能會破版，所以這個工具一是會保持版面，二是它可以正確的只替換需要替換的部分，然後這個專案就是用 Vim License 開源，並且是用自己產生 Vim License 文件，然後我也把他列為使用 Vim License 的三個專案之一（另外兩個分別是 Vim 和 vim-pathogen），這也是個 self-hosting 的實現。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177408966/" title="Vim License Gen by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177408966_62bd21b8ab_b.jpg" width="1024" height="684" alt="Vim License Gen" srcset="https://live.staticflickr.com/65535/53177408966_c7baf853ea_k.jpg 2x" /></a></p>
<p>故事並沒有到這邊就結束，COSCUP 分享之後的目標就是把這篇文章寫下來了，不過一拖再拖，其中一個主因是以前我是先把文章寫好順便作整理，但是這次因為準備時間不夠，無法在分享前先把文章寫好，變成後寫，沒了趕稿壓力，加上又有像是王國之淚等讓人分心的東西，就一直無限期拖搞，直到今年 2023/08/05 傳出了 Vim 的作者 Bram Moolenaar 於八月三日因病過世的消息了。</p>
<p>Bram 過世之後，除了緬懷之外，大家也會擔心起 Vim 的後續誰維護的問題，還好 Vim GitHub 組織內還有另外兩位成員，其中 Christian Brabandt 算是接起主持人的角色，他同時也是我用很久的 vim-airline 的作者，然後很快的也發了 PR 做了一些相關的修改，像是在 doc 裡面緬懷 Bram、更新檔案內的維護者資訊等，只不過其中一項修改，改到了 LICENSE 檔案！改的地方當然就是那個高度耦合的 Vim Maintainer 的部分：</p>
<blockquote>
<p>The current maintainer is Bram Moolenaar <a href="mailto:Bram@vim.org">Bram@vim.org</a>.</p>
</blockquote>
<p>改成</p>
<blockquote>
<p>The current maintainers are listed here: https://github.com/orgs/vim/people.</p>
</blockquote>
<p>然後我還是被 ping 了才知道這 PR 已經合併，這下我可緊張了，其實我本來也是有在想 Vim License 的問題，只不過想說 Bram 才剛過世，可以晚點再提出，當時有想了幾個方案，理想上要能同時繼續支援現有的使用 Vim License 的專案、然後也要能讓授權條款內的文字正確的更新，不過當時不管哪個方案，都無法保證兩全齊美，當時想的方案為：</p>
<ul>
<li>方案一：更改條款內文並且發布新版，可能是叫 Vim License 1.1 之類的，缺點是可能需要重新提交提交新版的條款到 choosealicense，但是現況來看幾乎不可能符合提交的一千個專案的條件；</li>
<li>方案二：更改條款內文，繼續用一樣的條款名，不推修改到 choosealicense，缺點是 Licensee 可能辨認不出來，結果就是 Vim 專案自己無法被辨識為使用 Vim License；</li>
<li>方案三：同二，但是該推送修改的地方如 SPDX License List 和 choosealicense 都送，缺點是使用舊版授權條款文字的可能都再也辨認不出來，另一個問題是這樣的變化 Mike 是否會接受？</li>
</ul>
<p>就之前的紀錄，當時版本偵測出來的相似度也只有 98.45%，這樣一改下去，會不會就爆炸又偵測不出來了呢，於是我趕快找了個時間拉最新版的 Vim 和 Licnesee 下來測試，結果，竟然還是 98.45%，這結果又讓我驚呆了，直覺是因為 Licensee 的演算法改的更好了，一查下去，原來剛好在今年初的 Licensee 9.16.0 其中的一項修改就是針對替換字串提供更高的差異容許範圍，所以舊版 Vim License 下去比對會有 99.12% 的相似度，剛好足夠新版修改後的差異，而這結果就剛好克服了方案三的缺點，所以接下來應該就是會朝這個方向進行，先提交新版的文字給 SPDX License List，然後再更新 choosealicense 內的範本吧。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53176812027/" title="Vim License detection by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53176812027_c95d17b663_b.jpg" width="1024" height="666" alt="Vim License detection" srcset="" /></a></p>
<p>以上，就是到目前為主的故事了，最後想來作一個總結，也就是談談當初為什麼想在 COSCUP 分享這個呢？其實我當初假想的聽眾是開源的新手，我想分享的其中一點是，對於開源專案的貢獻，我完全是照自己的步調，也不給任何一邊壓力，所有的等待過程我都沒去催促過任何人，不過標題的「五年」或許造成反效果也說不定，投稿時 Rock 有建議過我可以調整一下標題，不過我實在是想不到什麼其他好標題，結果就都沒改，後來，當天在我的前一場是 Max 的「<a href="https://coscup.org/2022/zh-TW/session/99GBZC">開源軟體與社群 - 參與國際社群經驗談</a>」（<a href="https://www.youtube.com/watch?v=OxuQ1sdLhks">影片</a>），就有提到這點，可以選擇你最舒服的方式參與，不用害怕參與；第二點想分享的東西則是關於在這個過程中學到的東西，像是 Licensee 的判斷原理，SPDX 相關的東西，和各個群體溝通的過程，很多東西都是我之前並不清楚的，像是我以前知道有個 SPDX License Indentifier，但是並不清楚 SPDX 是搞什麼用的，然後它們有維護 License List，甚至授權條款文本裡面可以有替換字串等，我覺得這些都是蠻有趣的知識；最後一點則是分享這一整個過程，中間一波三折，坑坑相連到天邊的轉折，我自己都覺得很有趣。</p>
<p>以下列出我一路以來開過的 PR、Issue 和討論:</p>
<ul>
<li><a href="https://github.com/github/choosealicense.com/issues/498">choosealicense.com/issues/498</a> 最初的 issue</li>
<li><a href="https://groups.google.com/g/vim_dev/c/DlTVMew1ZSo/m/b9QCTlXgEAAJ">vim_dev: A Questions about Vim License</a> 跟 Bram 詢問　Vim License 的細節</li>
<li><a href="https://github.com/licensee/licensee/issues/385">licensee/issues/385</a> 提出 Vim License 偵測的問題</li>
<li><a href="https://github.com/spdx/license-list-XML/pull/901">license-list-XML/pull/901</a> 幫 SPDX License List 裡面的 Vim License 加上替換字串</li>
<li><a href="https://github.com/vim/vim/pull/5458">vim/pull/5458</a> 幫 Vim 加入　LICENSE 檔案</li>
<li><a href="https://github.com/tpope/vim-pathogen/pull/210">vim-pathogen/pull/210</a> 幫 vim-pathogen 加入 LICENSE 檔案</li>
<li><a href="https://github.com/github/choosealicense.com/pull/717">choosealicense.com/pull/717</a> 最重要的那個 PR，加 vim.txt 到 choosealicense</li>
<li><a href="https://github.com/licensee/licensee/pull/445">licensee/pull/445</a> 修改新版 Licensee 的問題</li>
<li><a href="https://github.com/othree/vim-license/issues/2">vim-license/issues/2</a> Vim License Gen 紀錄各個連結用的 issue</li>
</ul>
<p>最後的最後就來個簡單的 timeline 吧：</p>
<pre><code>- 2013/07/15 Choose a license released
- 2016/09/21 Display/detect the license
- 2017/03/26 Open issue to choosealicense
- 2018/06/15 First issue closed
- 2019/06/23 Discuss the License text with Bram
- 2019/06/27 Issue about Vim License detection
- 2019/07/11 SPDX PR
- 2019/09/25 Last comment of the SPDX PR
- 2019/10/19 SPDX PR merged
- 2020/01/08 PR add License to Vim
- 2020/01/18 PR add License to vim-pathogen
- 2020/01/21 PR add vim.txt to choosealicense
- 2020/03/13 Licensee 9.13.1 released, Vim added
- 2020/05/12 Licensee 9.14 release, Vim detection failed
- 2020/07/04 PR to fix detection issue
- 2020/10/14 Issue fix merged v9.14.1
- 2021/02/05 Contact GitHub support 1st time
- 2022/01/12 Contact GitHub support 2nd time, 確認上線
- 2022/05/22 投稿、開始寫文章
- 2022/07/29 COSCUP 2022
- 2023/08/03 Bram Passed away
- 2023/08/13 Vim License file updated
- 2023/09/04 再次開始寫文章
- 2023/09/12 發表文章
</code></pre>
]]></description>
<link>https://blog.othree.net/log/2023/09/11/vim-license-2/</link>
<guid>https://blog.othree.net/log/2023/09/11/vim-license-2/</guid>
<category>vim</category>
<pubDate>Mon, 11 Sep 2023 17:27:11 +0800</pubDate>
</item>

<item>
<title>Vim License 的故事（上）</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177898493/" title="‎vim-license-slide.‎001 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177898493_0143b6204a_b.jpg" width="1024" height="576" alt="‎vim-license-slide.‎001" srcset="https://live.staticflickr.com/65535/53177898493_530da1ec12_k.jpg 2x" /></a></p>
<p>這篇是我<a href="https://blog.othree.net/log/2022/07/31/coscup-2022/">去年 COSCUP</a> 分享的文字版，拖稿許久終於寫出來了，以下正文開始。</p>
<p>Open Source Software 一直是 GitHub 的心頭肉(?)，也因此 GitHub 一直都有在各方面協助 OSS 開發者，其中也包括了對 Open Source License（開源授權）相關的協助。在 2013 年，GitHub <a href="https://github.blog/2013-07-15-choosing-an-open-source-license/">發佈了一個小網站</a> 叫 <a href="https://choosealicense.com/">choosealicense.com</a>，用簡單的條列介紹各開源授權條款的特色，並且藉由一些問答互動來幫助開發者挑選開源軟體授權條款。</p>
<p>而到了 2016 年，GitHub 更進一步提供了<a href="https://github.blog/2016-09-21-license-now-displayed-on-repository-overview/">授權條款的偵測功能</a>，只要你的程式庫裡面有正確的授權條款資訊（像是 LICENSE 檔案），然後使用的條款也在偵測的範圍內，那在 GitHub 上就會顯示該專案所使用的授權條款，也會同時提供該授權條款的特色給訪客參考，不過這個偵測功能，能偵測到的授權條款只有一些，更精確的說，就是只有 choosealicense 網站上的那些。</p>
<p>在 GitHub 推出授權條款偵測功能後沒多久，我就發現到 Vim 所使用的 Vim License 並不在偵測的範圍內。Vim License 是一個很特別的授權條款，是 Vim 的作者 Bram Moolenaar 專為 Vim 使用而寫的，雖然內文是針對 Vim 本身寫的，不過其實有很多的 Vim Script 也是標注使用 Vim License，甚至常常是寫 &quot;Same as Vim&quot;，所以實際上使用的專案並不少，所以我就一直想著，是不是有可能讓 GitHub 可以支援偵測 Vim License 呢？</p>
]]><![CDATA[<p>我一直把這念頭放在心裡，後來終於有一天有時間有衝動，認真去研究要怎樣新增支援的授權條款，簡單來說，GitHub 用來偵測專案所使用的授權條款的工具，是一套用 Ruby 寫的，叫做 <a href="https://licensee.github.io/licensee/">Licensee</a>（我都當成 license + see）的工具，而這個工具所使用來參考比對的條款文本，則是從 choosealicense 專案來的（使用 git submodule 引入），如果要加新的授權條款到 choosealicense 裡面，有些<a href="https://github.com/github/choosealicense.com/blob/gh-pages/CONTRIBUTING.md#adding-a-license">條件</a>要先達到：</p>
<ul>
<li>要有 SPDX License Identifier</li>
<li>要名列在幾個主要的開源授權清單中</li>
<li>至少要有一千個專案使用它</li>
<li>要列舉三個使用該授權條款的有名的專案（作為網站上的範例）</li>
</ul>
<p>我研究了一會兒，大部分條件沒問題，就是那個一千個專案的需求我也不是很確定，根據搜尋結果可以保證有數百個，但是有沒有一千個實在無法保證，不過我還是去開了個 <a href="https://github.com/github/choosealicense.com/issues/498">issue</a> 建議說要加入 Vim License，其中一千個專案那個條件的部分則是提供我的所知（各種搜尋結果和 Vim 生態的狀態，推論應該會有達標），時間是 2017/03/26，當時我想的是 Vim 這麼有名，應該開個需求就會有人處理了吧，然後 choosealicense 的主要貢獻者之一 Mike Linksvayer，跟我來往幾次討論之後，我就放置在那幾乎忘了他，結果過了一年後，那個 issue 就因沒有動靜被關掉了！</p>
<p>我開的第一張 issue 被關掉的當下當然是有點震驚的，直白一點的說我心中的想法大概是：「原來 Vim 這麼有名也是沒有特權的啊！」總之之後我還是繼續放著，直到大概又過了一年，到了 2019 年六月，我才又開始重新投入到這件事情，既然開 issue 沒人做，那就只好改開 PR 了，於是我才開始認真的研究，目標當然就是把 Vim License 推進 choosealicense 裡面，所以就是先認真的要提供的文本檔案的格式，首先我發現的是，授權條款的文本裡面，除了那些 metadata 之外，文本本身是可以有替換字串（substitution）的，像是常見的年份、名稱等：</p>
<pre><code>MIT License

Copyright (c) [year] [fullname]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

...
</code></pre>
<p>其中，用 <code>[]</code> 包起來的像是 <code>[year]</code>、<code>[fullname]</code> 就是要替換掉的字串，發現這點之後，我也覺得需要重新檢視 Vim License 的文字是不是也有這種地方，然而一旦認真看待這點，便發現問題不小，而這個問題就是 Vim License 不是 context free 的，而是高度和 Vim 耦合在一起的，一般而言，開源授權都是 context free 的，怎樣算是 context free 的授權條款呢？就是那個條款文字要拿去哪個專案，都可以直接用，不需要去修改文字內容，頂多是修改頭尾的名稱、年份和所有權人的資訊，但是 Vim License 不是，光是 <strong>Vim</strong> 這個單字，就在文本內出現了 29 次，而這些 Vim 單字，大部分時候代表的是使用這個授權的軟體的名稱，所以假設我今天是 vim-pathogen 要使用 Vim License，那就應該要在 LICENSE 文件內把 Vim 單字都換成 pathogen.vim 才對，不過在這堆 Vim 之中，還有一些地方是代表不一樣的意義，這些地方就是在作為 <strong>Vim Maintainer</strong> 的時候，所以到底，這麼多的 Vim 都應該要改為替換的字串嗎？為此我就去問了 Vim 的作者，當然同時也是 Vim License 的作者 Bram Moolenaar，其實我蠻快就<a href="https://groups.google.com/g/vim_dev/c/DlTVMew1ZSo/m/b9QCTlXgEAAJ">得到答案</a>了，結論就是，Vim Maintainer 需要保留原樣，但是其他時候在作為代表使用該授權的軟體時，<strong>Vim</strong> 應該要改為該軟體的名稱。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177608139/" title="Discuss Vim License with Bram by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177608139_7e1d12cf42_b.jpg" width="1024" height="684" alt="Discuss Vim License with Bram" srcset="https://live.staticflickr.com/65535/53177608139_fd6999e91a_k.jpg 2x" /></a></p>
<p>那麼為什麼會出現 Vim Maintainer 呢？這邊就要來介紹一下 Vim License 的內容了，條款內容簡單翻譯（非正式翻譯，請勿用於法律用途）如下：</p>
<ol>
<li>可以自由任意的散佈未修改過的 Vim；</li>
<li>如果要散佈修改過的 Vim，需要符合以下條件之一；
<ol>
<li>發佈時同時提供聯絡方式，當 Vim Maintainer 向你索取你的修改，你必須無償提供，並且 Vim Maintainer 保留把你的修改加進官方版本 Vim 的權力；</li>
<li>如果你取得經由前一條所述方式散佈的 Vim，你可以不受限制的散佈該版本，如果有新的修改，則需依照相同的方式散佈；</li>
<li>發佈時同時提供和原始版本的原始碼差異；</li>
<li>使用前一條的方式發佈時，符合以下所有條件時可以不用提供原始碼；
<ul>
<li>你所使用的授權條款不會讓 Vim Maintainer 無法免費取得你修改的內容；</li>
<li>你必須保留你修改的內容（原始碼的差異）至少三年，如果使用者或是 Vim Maintainer 在這段時間內跟你索取修改的內容，你必須要提供；</li>
<li>你必須確保你所提供的聯絡方式在三年內是有效的。</li>
</ul>
</li>
<li>如果你的修改使用 GPL，你可以使用 GPLv2 發佈你修改過的版本。</li>
</ol>
</li>
<li>如果你發佈修改過的 Vim，強烈建議你使用 Vim License 並把修改的原始碼提供給 Vim Maintainer；</li>
<li>不可把授權條款移除。</li>
</ol>
<p>仔細看下來，其實這份文件，主要目標就是在確保 Vim Maintainer 能取得其他人的修改，如果不是 Vim 使用這份授權條款的話，不管你使用這份條款的軟體是什麼，有修改再發佈的話，你都必須要讓 Vim Maintainer 可以無償取得你的軟體原始碼，並且 Vim Maintainer 可以決定是否要給原軟體使用，而這也造成了 Vim License 成為了少見的，不是 context free 的開源授權，而這個細節我相信是在我跟 Bram 的討論後才是第一次闡明，當時討論時我有舉了一個極端的例子來確認：假設我有一個軟體 X，使用 Vim License 授權，後來有人修改我的 X 後改為 Y 發佈但是沒有開源，有權力去取得 Y 的修改內容並決定要不要給 X 的，其實是 Vim Maintainer，而不是我（X 的作者）。</p>
<p>知道哪些地方才是可以替換掉之後就簡單了，我快速的準備好要用來發 PR 的 vim.txt 檔案，然後想說先來測試一下，結果，偵測竟然失敗了！研究再三，發現偵測出來的相似度只有 97.x%，而 Licensee 設定的閾值是 98%，至於會造成相似度這麼低的原因，其實是因為文本內有太多的替換字串了，當時的 Licensee 對於替換字串的比對處理的不太好，替換前後文字的長短差異也會有影響，知道原因後我就在想要來怎麼處理，當然最簡單的方法就是用特例處理，我當時的作法就是如果是在偵測 Vim License 的話，就會降低判斷用的閾值，本地測試沒問題後，就準備提交回去給 Licensee 了，不過因為我還不確定這樣的作法好不好，所以我先開了個 issue，解釋了前因後果然後附上我目前的修改，想說問問看負責的人的想法，如果他們覺得可以接受我再發 PR，結果，Mike Linksvayer 又出現了！我才發現 choosealicense 和 Licensee 他都是主要貢獻者！至於知道他的經歷則是在 COSCUP 分享後才聽 Bobchao 說的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53177406736/" title="vim.txt in Licensee by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53177406736_71659e1fd6_b.jpg" width="1024" height="684" alt="vim.txt in Licensee" srcset="https://live.staticflickr.com/65535/53177406736_7ce7bb487f_k.jpg 2x" /></a></p>
<p><a href="https://en.wikipedia.org/wiki/Mike_Linksvayer">Mike Linksvayer</a> 當時是 GitHub 的 Policy Director 專門負責公共相關的事務，而在之前則是當過 CC 的 CTO 和 VP，也曾擔任過數個不同組織的董事會成員，像是 OpenHatch、Software Freedom Conservancy 和 Open Definition Advisory Council，所以可以說是已經在自由開源領域活躍已久，甚至是特長於授權條款相關的領域。不過其實當時我不知道，也沒想說要去了解，主要對他的印象是頭像看起來有點嚴肅，一直給我 T1000 的感覺，加上我後來就是幾乎都是跟他往來為主（應該說我提交的貢獻就是他在把關的），所以某些層面上來看我其實是對他有點心生畏懼的。</p>
<p>Mike 在 Licensee 這邊提出的問題是，我在 Vim License 裡面定的那些替換字串，並沒有出現在 <a href="https://spdx.org/licenses/Vim.html">SPDX License List</a> 那邊，SPDX 全名是 Software Package Data Exchange，其實這是屬於一般開發者比較少接觸的到的東西，目前最常看到的應用扣除 License List 之外，應該是軟體供應鍊相關的東西，不過其實他們所維護的 <a href="https://spdx.org/licenses/">SPDX License List</a> 幾乎已經成為業界標準，尤其是那個 license 的 identifier 更是到處都看得到，像是 npm 的 <a href="https://docs.npmjs.com/cli/v6/configuring-npm/package-json#license">package.json</a> 裡面就是使用它。然後其實 SPDX License List 這邊的檔案格式（自訂的 XML）和 Licensee 用的檔案格式（自訂的純文字）不一樣，不過由於 SPDX License List 已經是一個大家都會當作參考索引的資料源頭，所以也自然的成為 choosealicense 的上游（upstream），這次經驗我也讓我了解到開源的圈子真的是蠻重視 upstream 的，之前我也在 neovim 遇過類似的情形，總之也因此我應該要先去提交 PR 修改 SPDX License List，然後才發 PR 給 choosealicense，所以我就整理整理後去那邊發了 PR 加上這些替換字串，然後，<strong>Mike Linksvayer</strong> 又出現了！他也是 SPDX License List 的貢獻者之一！</p>
<p>接<a href="https://blog.othree.net/log/2023/09/11/vim-license-2/">下一篇</a>。</p>
]]></description>
<link>https://blog.othree.net/log/2023/09/10/vim-license-1/</link>
<guid>https://blog.othree.net/log/2023/09/10/vim-license-1/</guid>
<category>vim</category>
<pubDate>Sun, 10 Sep 2023 23:32:05 +0800</pubDate>
</item>

<item>
<title>Remove Disqus</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53136393026/" title="EFF Privacy Badger by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53136393026_ffc28f0f35_c.jpg" width="400" height="280" alt="EFF Privacy Badger" /></a></p>
<p>前陣子有整理了一下部落格的東西，大致上作的事情是：</p>
<ul>
<li>拿掉 Google Analytic</li>
<li>拿掉所有的 SNS 按鈕</li>
<li>拿掉 Disqus</li>
<li>換 web font 服務</li>
</ul>
<p>首先是拿掉 Google Analytic 這件事，其實我已經想很久了，一部分原因是不想餵資料資料給 Google，另一個原因則是剛好現在舊的 Universal Analytic 已經停用了，一定要改成用 GA4，所以趁這個機會就乾脆的拿掉了，不過還是會好奇哪些內容比較有人看，所以又花了點時間研究了 <a href="https://en.wikipedia.org/wiki/List_of_web_analytics_software">web log 分析軟體</a>，因為不想多架服務，老牌的 AWStats 介面現在實在是無法接受，所以現在選的是 <a href="https://goaccess.io/">goaccess</a> 當成 terminal 工具來用，不過它其實還蠻強的，選項很多，要當成服務跑也可以。另外就是如果還是偏好前端的追蹤， Twitter(現在的X) 上也有<a href="https://twitter.com/hsins_/status/1690038318732611584">朋友</a>推薦了 <a href="https://www.goatcounter.com/">GoatCounter</a> 和 <a href="https://umami.is/">umami</a>，分別是 golang 和 js 寫的服務，有開源也有線上的服務，有限度的服務使用額度，當然自架的話也可以，不意外的都需要資料庫，非開源專案的話也有一個 <a href="https://plausible.io/">Plausible</a> 看起來不錯。</p>
<p>第二個是 SNS 按鈕，其實以前有三個按鈕，分別是 Google+、Facebook 和 Twitter，然後我都是用 iframe 掛上按鈕的，這樣比較不用擔心直接掛第三方 js 的各種問題（隱私、安全），不過 Google+ 收掉了，FB 按鈕因為 Firefox container 的關係我其實也都看不到，後來忘了什麼原因也拿掉了，最後只剩下 Twitter 的，結果最近發現我掛按鈕使用的那個 <a href="https://developer.twitter.com/en/docs/twitter-for-websites/web-intents/overview">Web Intent</a> 也被改的無法在 iframe 內顯示按鈕了，所以就乾脆的剩下的全拿掉，最後只留下一個用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Share_API">Web Share API</a> 的按鈕。</p>
<p>然後是 Disqus，其實留言系統原理簡單不難，但是真的要做的話也是很麻煩，一來要有資料庫，這樣現在很多的靜態網頁產生工具就先死一票了、二來還要有能檔 spam 的能力，所以 Disqus 的出現真的是補了一個很大的缺口，我以前是很喜歡 Disqus 的，畢竟它是這種需求數一數二的先行者，該公司的工程師也很認真的研究 3rd party script 的技巧，我現在工作也有一部分是在寫 3rd party script，對此有興趣之餘，也對於這東西的麻煩之處很有感，不過現實就是開公司就是還是要賺錢，所以慢慢的它也是走向我比較不喜歡的方向，開始大量收集資料，然後甚至有人說開始有插入廣告了，不過除此之外，更大的一個原因是在我這邊的使用率實在太低，如果都沒人用的話，一直掛著也只是訪客被收集資料而已，於是我決定把整個迴響區塊都拔掉，帶來的副作用當然就是以前一些少數的留言也都消失了。</p>
<p>我在拿掉迴響後沒兩天，就剛好看到 HackMD 也拿掉 Disqus 的<a href="https://twitter.com/hackmdio/status/1692158313704910982">消息</a>，跟著原推文下去找其實也有不少的替代方案，像是 <a href="https://cusdis.com/">cusdis</a>、用 GitHub 的 <a href="https://giscus.app/">giscus</a> 和 <a href="https://utteranc.es/">utterances</a> 等，其實 <a href="https://www.wappalyzer.com/technologies/comment-systems/">Wappalyzer</a> 上也有些替代方案（然後也可以看到 Disqus 佔有率目前還很高）。</p>
<p>其實還有另外一種類型的替代方案，就是去支援新的 protocol，像是 <a href="https://activitypub.rocks/">ActivityPub</a> 和 <a href="https://indieweb.org/Webmention">Webmention</a> ，第一次看到 ActivityPub 加上靜態網站產生器的方案時，我就想起以前消失在 spam 的洪流之中的 trackback 機制，不過靜態網站產生器和 ActivityHub 相性不是那麼好，它其實也是和留言系統一樣，需要有 API endpoint 和資料庫，所以有辦法做到支援的選擇也沒很多，相關的服務和專案也相對不成熟，還需要不少<a href="https://paul.kinlan.me/adding-activity-pub-to-your-static-site/">手工</a>；另外一個選擇 Webmention，則可以參考 Jason 的「<a href="https://jason-memo.dev/posts/webmention/">透過 webmention 來搜集 blog 的社群迴響</a>」，基本上是可以透過第三方服務來弄成純前端的方案。</p>
<p>最後一個就是 web font 了，其實本來沒有要調整這塊，只是上面幾項改完，發現網站幾乎要沒有追蹤器了，只剩下 Google Fonts 相關的 request，Google Fonts 一直是被歸類為潛在的追蹤器，實際上到底有沒有被偷偷用來當做追蹤器也無法證實，總之我就試著尋找替代方案，一開始想的是自己放檔案，因為我只有用到兩個英文字型，不過結果大小差了 10 倍，不進一步調整不行，就在這時候看到了 <a href="https://twitter.com/littlegoodjack/status/1691699453877682247">Laravel 因為 GDPR 的關係改用</a> <a href="https://fonts.bunny.net/">Bunny Fonts</a> 了，大概研究了一下，bunny.net 本身是 CDN 服務商，而 Bunny Fonts 就是主打無追蹤，所以 GDPR 沒問題，另一個特點就是介面和 Google Fonts 相容，也就是說只要把 domain name 換掉就好（我的狀況是還有 CSP 要修改）。</p>
<p>然後最後的結果就是如文章上面的圖片一樣，現在大部分頁面，<a href="https://www.eff.org/pages/privacy-badger">EFF Privacy Badger</a> 的檢查結果已經是沒有需要阻擋的東西了，只有部分文章有內嵌 Tweet 或 YouTube 影片的，就還是會顯示有潛在的追蹤器。</p>
]]></description>
<link>https://blog.othree.net/log/2023/08/23/remove-disqus/</link>
<guid>https://blog.othree.net/log/2023/08/23/remove-disqus/</guid>
<category>about</category>
<pubDate>Wed, 23 Aug 2023 23:03:25 +0800</pubDate>
</item>

<item>
<title>Common Log Format</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53115754953/" title="Common Log File Format by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53115754953_56deb9d603_b.jpg" width="512" height="380" alt="Common Log File Format" /></a></p>
<p>這篇算是一篇軟體的考古文吧，最近對部落格做了些調整，其中一個改變就是把 Google Analytic 拿掉了，一部分是因為現在已經不能用 UA 而要改用 GA4 了，然後其實我也想拿掉很久了，這次就順便把它移除，不過我還是有興趣想知道不同文章大家感興趣的程度差異，所以就又研究起以前那種根據 HTTP server log 來整理網站統計資訊的工具，其實以前一直沒成功拿掉 GA 的原因之一就是找不到好的替代工具，一直以來我比較有印象的就是 <a href="https://www.awstats.org/">AWStats</a>，只是那個介面我實在是受不了，然後搜尋其他替代工具的過程也不太順利，直到這次重新研究之後，發現到一個關鍵字 <strong>Common Log Format</strong>，這聽起來很一般的詞，在軟體工程界其實已經變成是一個專有名詞了。</p>
<p><a href="https://en.wikipedia.org/wiki/Common_Log_Format">Common Log Format 的 Wikipedia 條目</a> 寫著這是一種 HTTP server log 的標準格式，不過我覺得應該只能算是 de facto standard（業界標準），因為沒有任何機構真的定義並作為標準發布過，現在網路上可以找到 W3C 的一份格式說明，但是那其實是 CERN 時代的 <a href="https://www.w3.org/Daemon/">httpd</a> 這個軟體的說明文件，趁這個機會，我就想著要來搞清楚幾個我一直很疑惑的幾個和 log 相關的單字，分別就是一開始說到的 <strong>common</strong>，然後就是 <strong>combined</strong> 和 <strong>extended</strong>，這幾個關鍵字都是我以前在設定 Apache HTTPD 的時後常常會看到的，甚至其它的 web server 也有用到，但是一直沒有搞的很清楚，而且使用的字我也覺得很奇怪，像是 combined 是在 combine 什麼。</p>
<p>結果就是，這些問題的答案，幾乎都在 NCSA(National Center for Supercomputing Applications、美國國家超級電腦應用中心) 開發的 HTTPd 軟體文件中，NCSA HTTPd 也就是最早提出這種 log format 的 HTTP server，而 NCSA HTTPd 的 log，其實預設下是有三個的，分別是：</p>
<ul>
<li><a href="https://web.archive.org/web/20090124003443/http://hoohoo.ncsa.uiuc.edu/docs/setup/httpd/TransferLog.html">TransferLog</a></li>
<li><a href="https://web.archive.org/web/20090130083429/http://hoohoo.ncsa.uiuc.edu/docs/setup/httpd/RefererLog.html">RefererLog</a></li>
<li><a href="https://web.archive.org/web/20090130083423/http://hoohoo.ncsa.uiuc.edu/docs/setup/httpd/AgentLog.html">AgentLog</a></li>
</ul>
<p>TransferLog 其實就是現在大家說的 access log，格式就是所謂的 CLF，不過其實當時是寫作 <strong>Common Log File(CLF) Format</strong>，紀錄的資料格式就是：</p>
<pre><code>host rfc931 authuser [DD/Mon/YYYY:hh:mm:ss] &quot;request&quot; ddd bbbb

- host: Either the DNS name or the IP number of the remote client
- rfc931: Any information returned by identd for this person, - otherwise.
- authuser: If user sent a userid for authentication, the user name, - otherwise.
- DD: Day
- Mon: Month (calendar name)
- YYYY: Year
- hh: hour (24-hour format, the machine's timezone)
- mm: minutes
- ss: seconds
- request: The first line of the HTTP request as sent by the client.
- ddd: the status code returned by the server, - if not available.
- bbbb: the total number of bytes sent, *not including the HTTP/1.0 header*, - if not available
</code></pre>
<p>然後文件還有定義了一個可擴充版的 <strong>Extended CLF Format</strong>，允許在這些 log 的末端加上其他的資料，如果 <a href="https://web.archive.org/web/20090124003443/http://hoohoo.ncsa.uiuc.edu/docs/setup/httpd/LogOptions.html"><code>LogOptions</code></a> 設定為 <code>Combined</code> 的話，三種 log 會 combine 在一起，使用 Extended CLF Format，多加上了 referrer 和 user-agent 資訊，這也就是 Combined 這個格式名稱的由來，而這邊有另外一個容易混淆的東西，就是 W3C 有一份很古老的 <a href="https://www.w3.org/TR/WD-logfile">Extended Log File Format 的 Working Draft</a>，這份文件定義的格式和 CLF 其實是沒關係的，所以看文件時，有比較仔細的文件就會寫到是 W3C 的 extended 還是 NCSA 的。</p>
<p>雖然我沒仔細查先後關係，不過 CERN 版的 HTTPd 應該是後來才實作了 NCSA 版的 log format，文件內則是稱為 <strong>Common Logfile Format</strong>，簡稱也是 CLF，不過單字有一點點不一樣就是，當然格式是一樣的，然後其實它也保留了 CERN HTTPd 的舊版 log，格式是：</p>
<pre><code>time remotehost request 
</code></pre>
<p>實作是：</p>
<pre><code>fprintf(log, &quot;%24.24s %s %s\n&quot;,
		asctime(gorl), HTClientHost, n_noth(HTReqLine));
</code></pre>
<p>其中的 <code>%24.24s</code> 我還是<a href="https://en.cppreference.com/w/c/io/fprintf">研究</a>了好一陣子才看懂第一個 24 是最短長度，資料不夠長時會加上空白，然後 <code>.</code> 後面的是精確度，遇到字串時則會變成最長長度，超過的就會不輸出，<a href="https://cplusplus.com/reference/ctime/asctime/"><code>asctime</code></a> 則是一個內建函數可以把時間轉成字串，格式是：</p>
<pre><code>Www Mmm dd hh:mm:ss yyyy
</code></pre>
<p>長度剛好是 24 個字元，至於那個變數名稱 <code>gorl</code> 則是我花最多時間才參透的，它的意思是：「GMT time or Local time」，但是它不是 indicator 那種二元值，而是變數本身就是那個時間，而那個時間可能是 GMT 時區時間也可能是本地時間。</p>
<p>這樣，其實很多細節的小疑問都有了解答，像是以前看 log 常常看到兩個 <code>-</code> 接連出現，其實代表的是連續兩個沒有值的欄位，其中一個是現在已經幾乎沒用到的 Identification Protocol（<a href="https://www.rfc-editor.org/rfc/rfc1413">RFC1413</a>），也是個古早的東西，我稍微看了一下好像 IRC 有用到；然後因為其實沒有標準，所以以前和現在的日期格式用的已經不一樣了，現在是普遍有加上時區，當時 NCSA 的和後來 CERN 實做的都沒有時區資訊；另外就是 <a href="https://httpd.apache.org/docs/current/mod/mod_log_config.html#examples">Apache HTTPD 文件</a> 的範例也有提到 RefererLog 和 AgentLog，我當時看到時就想說怎麼會有人只要這兩種資訊的 log；發現 CLF 這個專有名詞後，我也循線找到更多的 <a href="https://en.wikipedia.org/wiki/List_of_web_analytics_software">web log 分析工具</a>了，目前我是先挑了 goaccess 來用。</p>
<p>最後整理一下，這三個關鍵字在 web log 的情境下時：</p>
<ul>
<li>Common 格式，通常指的是 Common Log File(CLF) Format；</li>
<li>Extended，不考慮 W3C 的版本的話，這邊指的是 NCSA Extended CLF Foramt，如果 CLF Format 定義的欄位不夠用，需要更多資訊時，就可以使用這種格式，多的資訊是加在 log 尾端；</li>
<li>Combined 格式，多加了 referrer 和 user-agent 的 web log，使用 NCSA 版 Extended CLF Foramt 的格式，combine 指的是合併 TransferLog、RefererLog 和 AgentLog 三種 log。</li>
</ul>
<p>實際上 NCSA HTTPd 就不只 Common 和 Combined 兩種，還有 ServerName 可以加上，當然也是使用 Extended 格式，不過目前流傳下來，最常見的就是這兩種了。</p>
]]></description>
<link>https://blog.othree.net/log/2023/08/14/common-log-format/</link>
<guid>https://blog.othree.net/log/2023/08/14/common-log-format/</guid>
<category>unix</category>
<pubDate>Mon, 14 Aug 2023 21:29:05 +0800</pubDate>
</item>

<item>
<title>Vim Boss Passed Away</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53108661434/" title="Vim by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53108661434_38230541b1_b.jpg" width="1024" height="684" alt="Vim" srcset="https://live.staticflickr.com/65535/53108661434_6c5922f3cf_k.jpg 2x" /></a></p>
<p>Vim 的作者 Bram Moolenaar 在<a href="https://groups.google.com/g/vim_announce/c/tWahca9zkt4">月初過世</a>，消息出來至今大約已經過了一週，<a href="https://www.vim.org/">Vim 官網</a>也在兩天前有了正式公告，現在除了各方的緬懷之外，Vim 的未來也是令人非常在意，這陣子也都大概有些<a href="https://github.com/vim/vim/discussions/12736">方向</a>了，目前狀況是 Vim 的另外一位維護者 Christian Brabandt 在負責，包括了維護 Vim 本身、網站主機和網站修改、各種使用到的服務的統整（像是 binary 放哪）、未來捐款的處理方式等等，其實事情很多，而我這篇文章則是要紀錄一些這幾天看到的東西。</p>
<p>Bram Moolenaar 之前其實在 Google 工作了很久，到 2021 年十月才退休，在 <a href="https://www.theregister.com/2023/08/07/bram_moolenaar_obituary/">The Register 的報導</a>中，有當時的訪談的部分內容，只不過當時因為種種原因沒有成為一篇報導刊出，其實看內容也感覺的出來他當時還有些退休計畫，然後接著一年後，2022 年十月，Bram 有在 mailing-group 裡面提到自己有<a href="https://groups.google.com/g/vim_dev/c/ivkq22t3LQM">健康問題</a>，當時就已經有中斷 Vim 的維護工作了，然後就是今年過世的消息了，講真的，措手不及，而且 Bram 也才 62 歲，歐洲國家的預期壽命其實都有七八十的。</p>
<p>回到我與 Vim 之間的關係，除了我早期花很多心力在 html5.vim 之外，其實我目前還是 runtime 裡面 <code>csscomplete.vim</code> 的維護者，剛剛查一下才發現我也好久沒更新了，然後就是去年 COSCUP 我分享的 <a href="https://www.youtube.com/watch?v=YM7RHRwIrKU&amp;themeRefresh=1">Vim License 的事情</a>了，在 <a href="https://github.com/vim/vim/blob/master/LICENSE">Vim License</a> 的文本裡面的那一個特別的條文，就是開源與否的爭議是交給 Vim 的維護者決定，文本內還直接寫了現在的維護者是 Bram，然後現在就有個問題是這個條文需不需要修改，除此之外還有一個就是 vim.org 的 mail server 不知道有沒有辦法轉移，不然 maintainer@vim.org 也會無法繼續使用；其實就我所知，那個條文好像沒有真的發揮效用過，我覺得未來會用上它的機會應該也是很小，而且未來也不知道會不會有單一的 maintainer，我自己判斷社群應該會傾向維持條文不動吧。</p>
<p>最後就是，其實 Git 的每個 commit 的作者（author）和提交者（committer）可以是不同人的，而 Vim 早期，一直走的是老派的發 email 提交 Patch 給 Bram，然後由 Bram commit 進去 repository 裡面的流程，我當年想要用 Gmail 提交還發生過檔案內容太長，Gmail 無法發送這種信件的問題，後來是用 cli 的工具來發信，後來才開始有收 GitHub PR，但是 Bram 並不是直接用上面的功能來 merge，而是一樣拉 patch 下來，保留 author 資訊後 commit 進 repository，所以以前在 GitHub 上就很容易看到文章一開始那張圖那樣，全部都是 Bram 頭像的樣子，現在新的 commit 也開始進來了，所以最新的地方已經看不到這個樣子了。</p>
]]></description>
<link>https://blog.othree.net/log/2023/08/11/vim-boss-passed-away/</link>
<guid>https://blog.othree.net/log/2023/08/11/vim-boss-passed-away/</guid>
<category>vim</category>
<pubDate>Fri, 11 Aug 2023 20:16:47 +0800</pubDate>
</item>

<item>
<title>比宇宙更遠的地方</title>
<description><![CDATA[<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53088711466/" title="宇宙よりも遠い場所 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53088711466_b346a743d6_b.jpg" width="600" height="787" alt="宇宙よりも遠い場所" srcset="" /></a></p>
<p>在剛進入串流時代之時，我想著以後不太需要買什麼 DVD/BD 之類的了，因為想看的東西應該以後網路上都可以看的到，不過過了幾年下來，我的想法又慢慢的改變了，因為這些作品的授權都有個期限，過期之後不一定會重新上架，甚至連自家的原創作品都可能會下架，所以我慢慢的心中開始有了幾部作品，是覺得應該收藏一份實體版下來，其中的評斷標準算是我個人主觀，不過有一個條件倒是比較明確，就是希望讓我兒子長大後能看的，其實在這清單之中也沒幾個作品，而且很少有新增，不過就在最近新增了一部：「<a href="https://ani.gamer.com.tw/animeVideo.php?sn=16507">比宇宙更遠的地方</a>」，簡稱為<strong>よりもい</strong>（yorimoi）。</p>
<p>這部我一直都有聽到不錯的評價，第一印象是屬於那種「一群女孩去完成一件事」的日常系作品，其實我在看之前也沒有深入了解，本來以為就是一群女高中生因為對南極的憧憬，想方設法去南極旅遊的過程吧，畢竟這種類型作品很多是流水帳般將主角們有趣的生活演出來，這樣的日常系作品雖然也是會很有趣，但是就比較會變成打發時間用的，可能看過一陣子就會慢慢淡忘。</p>
<p>結果，看完よりもい之後我第一個感想就是：「真是太好我有看到這部作品了。」我也實在是非常幸運能在作品出來將近五年後還能在沒被捏他到的情況下看完這部作品。其實這陣子因為小孩去過暑假，所以我多了很多時間可以補看之前沒空看的東西，看了很多不錯的作品，也在推特上紀錄了一些心得，不過よりもい是第一部我特別想寫一篇文章紀錄的，因為他帶給我的不是風景多漂亮、劇情多有趣，而是更深刻的，故事中幾位角色的成長與自我突破。</p>
<p>以下有劇情，沒看過的話建議迴避，或是可以轉去看看 YouTube，匯雨有一個比較沒劇透的<a href="https://www.youtube.com/watch?v=O8qowhGwjyc">推坑影片</a>。</p>
]]><![CDATA[<p>防雷保護<br />
防雷保護<br />
防雷保護</p>
<p>雖然劇情主軸是前往南極，不過故事的核心其實是成長，而且每個角色都有一個明確的成長目標，不是什麼不著邊際的東西，所以每當有人有了自我突破，觀眾都能確實的感受到：小決（キマリ、kimari）想要能夠更獨立，不再依賴親友惠；報瀬（しらせ、shirase）則是需要走出母親過世的心理陰影(?)；日向的部分我就先跳過，她的部分來的又急又快，雖然前面早有鋪陳，但是我一直沒放在心上，後來覺得根本是編劇給觀眾的一場襲擊，但是還好有這段，讓這個角色的一切行為變得合理許多；結月則是想要交朋友，但是她其實連怎樣算是朋友也不知道，而在這邊，小決藉由 Line 來形容她心中的朋友這段我也是很喜歡。</p>
<p>故事的最高潮當然就是從一開始就一心只想去南極的報瀬的部分了，她的母親三年前在南極失蹤（沒找到屍體、不過可以說等於死亡了），因為南極任務一去就是幾個月，所以她本來就已經是和外祖母一起生活邊等媽媽回來，母親失蹤，她的生活也沒什麼變化，結果讓她沒有母親已經過世的實感，所以她一直想去南極確認母親是不是真的不在了，在劇中她也還時不時的寄信給媽媽，最後，他們終於到了內陸的基地，小決他們在基地中找到報瀬媽媽的筆電，報瀬打開電腦，收信軟體跟著啟動和收信，包括了她寄給母親的信，隨著未讀信件的增加，報瀬終於體認到母親過世的事實，大哭了一場。</p>
<p>其實小時候，我都會覺得什麼婚禮喪禮這些儀式很麻煩，不過長大後，我的想法跟著我的經歷有了變化，我發現儀式這些東西其實是為了人心而存在的，因為人心有慣性，生命中的重要的東西的喪失，人是可以一直逃避假裝沒有發生一樣，所以才會有這些儀式存在的必要，藉由這些儀式的突兀感，讓人真真正正的體認到接下來不一樣了，不論是生命中少了些存在，或是多了重要的人都是，而對於報瀬來說，在那個時候，才真的是她跟媽媽道別的儀式吧。</p>
<p>故事中還有很多我很喜歡的小細節，像是<strong>キマリ</strong>這個暱稱的由來，然後這個暱稱卻又和她的個性不合；報瀬（しらせ）的發音其實和破冰船的船名白瀨（劇中退役前和現實世界）一樣，而那個昭和基地和白瀨號破冰船其實是日本現在都還在用的，而且兩個都長得和真的一樣，去到日本<a href="https://www.nipr.ac.jp/antarctic/">極地研究所的網站</a>一開始就可以看到基地的空拍；還有像是去到內陸為什麼比較冷雖然沒明說，不過想在那邊建立天文台，應該是海拔高很多位置，日本其實有在富士冰穹建立過一個基地作科學研究，那邊海拔 3810 公尺，距離昭和基地一千公里，氣溫也低上非常多；白瀨號和昭和基地內的郵筒，現在都還有在運作，特別的郵戳也一直都有，還有相關的<a href="https://allabout.co.jp/gm/gc/463441/">報導</a>，好像有一直更新，不確定是不是每年換新圖案，我還有找到去年日本郵局的特別郵戳<a href="https://www.post.japanpost.jp/notification/pressrelease/2021/03_tokyo/1022_01_01.pdf">公告</a>；最後我還查了那幾年的觀測隊員同行者，沒有發現看起來和動畫製作有關係的人，極地研究所應該是提供照片給動畫公司吧。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/53088845553/" title="昭和基地 by othree, on Flickr"><img src="https://live.staticflickr.com/65535/53088845553_516dcd996d_b.jpg" width="1024" height="576" alt="昭和基地" srcset="" /></a></p>
<p>其他我還有查到一些有趣的資料，日本的南極觀測船總共有四艘：</p>
<ul>
<li>初代：<a href="https://ja.wikipedia.org/wiki/%E5%AE%97%E8%B0%B7_(%E8%88%B9)">宗谷</a> 現在在東京台場的<a href="https://funenokagakukan.or.jp/">船的科學館</a></li>
<li>2代：<a href="https://ja.wikipedia.org/wiki/%E3%81%B5%E3%81%98_(%E7%A0%95%E6%B0%B7%E8%89%A6)" title="ふじ (砕氷艦)">ふじ</a> 現在在<a href="https://nagoyaaqua.jp/garden-pier/fuji/">名古屋港</a></li>
<li>3代：<a href="https://ja.wikipedia.org/wiki/%E3%81%97%E3%82%89%E3%81%9B_(%E7%A0%95%E6%B0%B7%E8%89%A6%E3%83%BB%E5%88%9D%E4%BB%A3)" title="しらせ (砕氷艦・初代)">しらせ（初代）</a> 現在在<a href="https://shirase.info/">千葉縣船橋市</a>，旁邊還有 Saporro 的工廠，有 <a href="https://www.sapporobeer.jp/brewery/chiba/kengaku/">combo 行程</a></li>
<li>4代：<a href="https://ja.wikipedia.org/wiki/%E3%81%97%E3%82%89%E3%81%9B_(%E7%A0%95%E6%B0%B7%E8%89%A6%E3%83%BB2%E4%BB%A3)" title="しらせ (砕氷艦・2代)">しらせ（2代目）</a> 現役</li>
</ul>
<p>其實我一開始覺得有點奇怪，為什麼四代目還是叫しらせ而不換名字呢？後來才發現，日本首位的南極探險家就叫做<a href="https://zh.wikipedia.org/wiki/%E7%99%BD%E7%80%A8%E7%9F%97">白瀬矗</a>（Shirase Nobu），所以しらせ這個名字的傳承其實比我一開始想的還要久遠。</p>
<p>另外一個是日本南極觀測隊確實有人<a href="https://ja.wikipedia.org/wiki/%E7%A6%8F%E5%B3%B6%E7%B4%B3">罹難</a>過，而且遺體是八年後才發現。可以想見那邊的地域是多麼艱險，然後我才想起幾年前去過紐西蘭的南極中心，裡面就有一個設施是可以讓人體驗暴風雪，雖然有提供超厚的防寒服，不過氣溫極低，風一直在吹的情況下，體感溫度還是降的很快的。</p>
<p><a class="thumbnail" href="https://www.flickr.com/photos/othree/25482185598/" title="International Antarctic Centre by othree, on Flickr"><img src="https://live.staticflickr.com/4644/25482185598_59dec02bcf_b.jpg" width="1024" height="683" alt="International Antarctic Centre" srcset="https://live.staticflickr.com/4644/25482185598_41ae37af4a_k.jpg 2x" /></a></p>
<p>最後附上一些其他人的文章：</p>
<ul>
<li>hinac 的<a href="https://talk.ltn.com.tw/article/breakingnews/2901936">聖地巡禮</a> <a href="https://talk.ltn.com.tw/article/breakingnews/2908856">之二</a></li>
<li><a href="https://medium.com/allen365/a-place-further-than-the-universe-88f042f36a1b">艾倫蘋果的感想</a></li>
</ul>
]]></description>
<link>https://blog.othree.net/log/2023/08/02/yorimoi/</link>
<guid>https://blog.othree.net/log/2023/08/02/yorimoi/</guid>
<category>acg</category>
<pubDate>Wed, 02 Aug 2023 19:46:42 +0800</pubDate>
</item>


</channel>
</rss>